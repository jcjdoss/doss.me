<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDeLR Dashboard - ADHD Execution Tracking</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        /* Status Cards */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .status-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }

        .status-card:hover {
            transform: translateY(-5px);
        }

        .status-card h3 {
            font-size: 1.1rem;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .metric-big {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Energy Level Colors */
        .energy-high { color: #4ade80; }
        .energy-medium { color: #fbbf24; }
        .energy-low { color: #ef4444; }

        /* Input Section */
        .input-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            text-align: center;
        }

        .input-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .slider-container {
            margin-bottom: 15px;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ade80;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ade80;
            cursor: pointer;
            border: none;
        }

        .value-display {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4ade80;
        }

        .submit-btn {
            background: linear-gradient(45deg, #4ade80, #22c55e);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(74, 222, 128, 0.3);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .chart-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .chart-placeholder {
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            opacity: 0.7;
            border: 2px dashed rgba(255, 255, 255, 0.3);
        }

        /* Alerts Section */
        .alerts-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .alert {
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .alert-high { background: rgba(239, 68, 68, 0.2); border-left: 4px solid #ef4444; }
        .alert-medium { background: rgba(251, 191, 36, 0.2); border-left: 4px solid #fbbf24; }
        .alert-healthy { background: rgba(74, 222, 128, 0.2); border-left: 4px solid #4ade80; }

        /* Responsive */
        @media (max-width: 768px) {
            .title { font-size: 2rem; }
            .status-grid { grid-template-columns: 1fr; }
            .charts-section { grid-template-columns: 1fr; }
            .input-grid { grid-template-columns: 1fr; }
        }

        /* Loading states */
        .loading {
            opacity: 0.5;
            pointer-events: none;
        }

        .spinner {
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 2px solid #4ade80;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="title">PDeLR Dashboard</h1>
            <p class="subtitle">ADHD Executive Function Tracking</p>
            <p style="opacity: 0.6; font-size: 0.9rem;">Visual tracking for entrepreneurial execution patterns</p>
        </div>

        <!-- Current Status -->
        <div class="status-grid">
            <div class="status-card">
                <h3>üß† Energy Level</h3>
                <div class="metric-big energy-medium" id="current-energy">7</div>
                <div class="metric-label">out of 10</div>
            </div>
            <div class="status-card">
                <h3>üéØ Focus Rating</h3>
                <div class="metric-big energy-medium" id="current-focus">6</div>
                <div class="metric-label">concentration ability</div>
            </div>
            <div class="status-card">
                <h3>üí° Ideas Today</h3>
                <div class="metric-big" id="current-ideas">1</div>
                <div class="metric-label">potential distractions</div>
            </div>
            <div class="status-card">
                <h3>üßÆ Cognitive Load</h3>
                <div class="metric-big" id="cognitive-load">41%</div>
                <div class="metric-label">mental bandwidth used</div>
            </div>
        </div>

        <!-- Quick Input -->
        <div class="input-section">
            <h2 style="margin-bottom: 20px; text-align: center;">üìù Quick Check-in</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label class="input-label">üß† Energy Level</label>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="7" class="slider" id="energy-slider">
                        <div class="value-display" id="energy-value">7</div>
                    </div>
                </div>
                <div class="input-group">
                    <label class="input-label">üéØ Focus Rating</label>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="6" class="slider" id="focus-slider">
                        <div class="value-display" id="focus-value">6</div>
                    </div>
                </div>
                <div class="input-group">
                    <label class="input-label">üí° New Ideas</label>
                    <div class="slider-container">
                        <input type="range" min="0" max="10" value="1" class="slider" id="ideas-slider">
                        <div class="value-display" id="ideas-value">1</div>
                    </div>
                </div>
            </div>
            <button class="submit-btn" onclick="submitMetrics()">
                üìä Record Metrics
                <span class="spinner" id="loading-spinner" style="display: none;"></span>
            </button>
        </div>

        <!-- Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <h3 class="chart-title">üìà 7-Day Energy Trends</h3>
                <div class="chart-placeholder">
                    Energy & Focus correlation chart<br>
                    <small>(Connected to CLI data)</small>
                </div>
            </div>
            <div class="chart-card">
                <h3 class="chart-title">üö® Execution Alerts</h3>
                <div class="chart-placeholder">
                    Pattern detection visualization<br>
                    <small>(Idea spikes, energy drops)</small>
                </div>
            </div>
        </div>

        <!-- Alerts & Recommendations -->
        <div class="alerts-section">
            <h3 style="margin-bottom: 15px;">üö® Current Alerts</h3>
            <div id="alerts-container">
                <div class="alert alert-healthy">
                    ‚úÖ No alerts - metrics look healthy
                </div>
            </div>
            
            <h3 style="margin: 25px 0 15px 0;">üí° Recommended Actions</h3>
            <div id="recommendations-container">
                <div class="alert alert-medium">
                    üéØ <strong>Medium Energy Detected:</strong> Good time for PRIORITIZATION-FRAMEWORK (15 min)
                </div>
                <div class="alert alert-healthy">
                    üìã Consider tackling structured tasks - you're in a good execution state
                </div>
            </div>
        </div>
    </div>

    <script>
        // Update slider values in real time
        document.getElementById('energy-slider').addEventListener('input', function() {
            const value = this.value;
            document.getElementById('energy-value').textContent = value;
            updateEnergyColor(value);
        });

        document.getElementById('focus-slider').addEventListener('input', function() {
            document.getElementById('focus-value').textContent = this.value;
        });

        document.getElementById('ideas-slider').addEventListener('input', function() {
            document.getElementById('ideas-value').textContent = this.value;
        });

        function updateEnergyColor(energy) {
            const valueEl = document.getElementById('energy-value');
            if (energy >= 8) {
                valueEl.className = 'value-display energy-high';
            } else if (energy >= 5) {
                valueEl.className = 'value-display energy-medium';
            } else {
                valueEl.className = 'value-display energy-low';
            }
        }

        async function submitMetrics() {
            const energy = document.getElementById('energy-slider').value;
            const focus = document.getElementById('focus-slider').value;
            const ideas = document.getElementById('ideas-slider').value;
            
            // Show loading state
            const btn = document.querySelector('.submit-btn');
            const spinner = document.getElementById('loading-spinner');
            btn.classList.add('loading');
            spinner.style.display = 'inline-block';
            
            try {
                // This would call your CLI tool via API
                // For now, simulate the call
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Update display
                document.getElementById('current-energy').textContent = energy;
                document.getElementById('current-focus').textContent = focus;
                document.getElementById('current-ideas').textContent = ideas;
                
                // Update cognitive load (simplified calculation)
                const cogLoad = Math.min(parseInt(ideas) * 15 + (10 - parseInt(energy)) * 5, 100);
                document.getElementById('cognitive-load').textContent = cogLoad + '%';
                
                // Update alerts based on new data
                updateAlerts(energy, focus, ideas);
                updateRecommendations(energy, focus);
                
                // Success feedback
                btn.innerHTML = '‚úÖ Metrics Recorded!';
                setTimeout(() => {
                    btn.innerHTML = 'üìä Record Metrics';
                }, 2000);
                
            } catch (error) {
                console.error('Error submitting metrics:', error);
                btn.innerHTML = '‚ùå Error - Try Again';
                setTimeout(() => {
                    btn.innerHTML = 'üìä Record Metrics';
                }, 2000);
            } finally {
                btn.classList.remove('loading');
                spinner.style.display = 'none';
            }
        }

        function updateAlerts(energy, focus, ideas) {
            const container = document.getElementById('alerts-container');
            let alerts = [];
            
            if (ideas > 3) {
                alerts.push({
                    type: 'alert-high',
                    text: 'üö® Multiple new ideas today - potential execution avoidance pattern'
                });
            }
            
            if (energy < 4 && focus < 4) {
                alerts.push({
                    type: 'alert-medium',
                    text: 'üü° Low energy + low focus - consider low-friction tasks only'
                });
            }
            
            if (alerts.length === 0) {
                alerts.push({
                    type: 'alert-healthy',
                    text: '‚úÖ No alerts - metrics look healthy'
                });
            }
            
            container.innerHTML = alerts.map(alert => 
                `<div class="alert ${alert.type}">${alert.text}</div>`
            ).join('');
        }

        function updateRecommendations(energy, focus) {
            const container = document.getElementById('recommendations-container');
            let recs = [];
            
            if (energy >= 8) {
                recs.push({
                    type: 'alert-healthy',
                    text: 'üü¢ <strong>High Energy:</strong> Perfect for LIFE-PROJECT-QUICK-START or system improvements'
                });
            } else if (energy >= 5) {
                recs.push({
                    type: 'alert-medium',
                    text: 'üü° <strong>Medium Energy:</strong> Good for PRIORITIZATION-FRAMEWORK or BECAUSE-CHAIN analysis'
                });
            } else {
                recs.push({
                    type: 'alert-low',
                    text: 'üî¥ <strong>Low Energy:</strong> Stick to PRIORITIES-TODAY and simple maintenance tasks'
                });
            }
            
            recs.push({
                type: 'alert-healthy',
                text: 'üìã Using PDeLR framework: ' + (energy >= 7 ? 'Full methodology recommended' : 'Simplified approach for current energy')
            });
            
            container.innerHTML = recs.map(rec => 
                `<div class="alert ${rec.type}">${rec.text}</div>`
            ).join('');
        }

        // Initialize
        updateEnergyColor(7);
        updateAlerts(7, 6, 1);
        updateRecommendations(7, 6);

        // Auto-refresh data every 30 seconds (would connect to your CLI data)
        setInterval(() => {
            // This would fetch fresh data from the CLI tool
            console.log('Auto-refreshing dashboard data...');
        }, 30000);
    </script>
</body>
</html>