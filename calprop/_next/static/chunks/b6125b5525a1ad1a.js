(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52815,e=>{"use strict";var t=e.i(59834),r=e.i(71908),s=e.i(22513),i=e.i(50875);function n({level:e,className:n}){let a=i.damageLevelColors[e.toLowerCase()]||"bg-muted text-muted-foreground border-muted";return(0,t.jsx)(r.Badge,{variant:"outline",className:(0,s.cn)("font-medium capitalize text-[11px] px-2 py-0.5",a,n),children:e.replace(/_/g," ")})}e.s(["DamageBadge",()=>n])},42828,e=>{"use strict";let t;var r=e.i(88926),s=e.i(77456),i=e.i(69206),n=e.i(54368),a=e.i(70305),o=e.i(12674),l=e.i(34171),u=class extends n.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,a.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#i=void 0;#n=void 0;#a;#o;#r;#t;#l;#u;#c;#d;#h;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),c(this.#s,this.options)?this.#f():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#b(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#g(),this.#s.setOptions(this.options),t._defaulted&&!(0,o.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&h(this.#s,r,this.options,t)&&this.#f(),this.updateResult(),s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||(0,o.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,o.resolveStaleTime)(t.staleTime,this.#s))&&this.#x();let i=this.#R();s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||i!==this.#m)&&this.#w(i)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(s,e);return t=this,r=i,(0,o.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#n=i,this.#o=this.options,this.#a=this.#s.state),i}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#f(e){this.#g();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#x(){this.#y();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#s);if(o.isServer||this.#n.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#n.dataUpdatedAt,e);this.#d=l.timeoutManager.setTimeout(()=>{this.#n.isStale||this.updateResult()},t+1)}#R(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#w(e){this.#b(),this.#m=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#s)&&(0,o.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#f()},this.#m))}#v(){this.#x(),this.#w(this.#R())}#y(){this.#d&&(l.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#b(){this.#h&&(l.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,n=this.options,l=this.#n,u=this.#a,d=this.#o,p=e!==s?e.state:this.#i,{state:f}=e,v={...f},y=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&c(e,t),o=r&&h(e,s,t,n);(a||o)&&(v={...v,...(0,i.fetchState)(f.data,e.options)}),"isRestoring"===t._optimisticResults&&(v.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:x}=v;r=v.data;let R=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===x){let e;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=l.data,R=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(x="success",r=(0,o.replaceData)(l?.data,e,t),y=!0)}if(t.select&&void 0!==r&&!R)if(l&&r===u?.data&&t.select===this.#l)r=this.#u;else try{this.#l=t.select,r=t.select(r),r=(0,o.replaceData)(l?.data,r,t),this.#u=r,this.#t=null}catch(e){this.#t=e}this.#t&&(b=this.#t,r=this.#u,g=Date.now(),x="error");let w="fetching"===v.fetchStatus,S="pending"===x,j="error"===x,C=S&&w,D=void 0!==r,I={status:x,fetchStatus:v.fetchStatus,isPending:S,isSuccess:"success"===x,isError:j,isInitialLoading:C,isLoading:C,data:r,dataUpdatedAt:v.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:j&&!D,isPaused:"paused"===v.fetchStatus,isPlaceholderData:y,isRefetchError:j&&D,isStale:m(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,o.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==I.data,r="error"===I.status&&!t,i=e=>{r?e.reject(I.error):t&&e.resolve(I.data)},n=()=>{i(this.#r=I.promise=(0,a.pendingThenable)())},o=this.#r;switch(o.status){case"pending":e.queryHash===s.queryHash&&i(o);break;case"fulfilled":(r||I.data!==o.value)&&n();break;case"rejected":r&&I.error===o.reason||n()}}return I}updateResult(){let e=this.#n,t=this.createResult(this.#s,this.options);if(this.#a=this.#s.state,this.#o=this.options,void 0!==this.#a.data&&(this.#c=this.#s),(0,o.shallowEqualObjects)(t,e))return;this.#n=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(t=>this.#n[t]!==e[t]&&s.has(t))};this.#S({listeners:r()})}#g(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,r){if(!1!==(0,o.resolveEnabled)(t.enabled,e)&&"static"!==(0,o.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&m(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,o.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&m(e,r)}function m(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.i(33681);var p=e.i(42656),f=e.i(73252);e.i(59834);var v=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),y=p.createContext(!1);y.Provider;var b=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function g(e,t){return function(e,t,r){let i,n=p.useContext(y),a=p.useContext(v),l=(0,f.useQueryClient)(r),u=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(u);let c=l.getQueryCache().get(u.queryHash);if(u._optimisticResults=n?"isRestoring":"optimistic",u.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=u.staleTime;u.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof u.gcTime&&(u.gcTime=Math.max(u.gcTime,1e3))}i=c?.state.error&&"function"==typeof u.throwOnError?(0,o.shouldThrowError)(u.throwOnError,[c.state.error,c]):u.throwOnError,(u.suspense||u.experimental_prefetchInRender||i)&&!a.isReset()&&(u.retryOnMount=!1),p.useEffect(()=>{a.clearReset()},[a]);let d=!l.getQueryCache().get(u.queryHash),[h]=p.useState(()=>new t(l,u)),m=h.getOptimisticResult(u),g=!n&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=g?h.subscribe(s.notifyManager.batchCalls(e)):o.noop;return h.updateResult(),t},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(u)},[u,h]),u?.suspense&&m.isPending)throw b(u,h,a);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&void 0===e.data||(0,o.shouldThrowError)(r,[e.error,s])))({result:m,errorResetBoundary:a,throwOnError:u.throwOnError,query:c,suspense:u.suspense}))throw m.error;if(l.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!o.isServer&&m.isLoading&&m.isFetching&&!n){let e=d?b(u,h,a):c?.promise;e?.catch(o.noop).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?m:h.trackResult(m)}(e,u,t)}e.s(["useQuery",()=>g],42828)},80612,e=>{"use strict";var t=e.i(59834),r=e.i(22513);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",e),...s})}e.s(["Skeleton",()=>s])},48846,e=>{"use strict";let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});let r=new Intl.NumberFormat("en-US");function s(e){return t.format(e)}function i(e){return r.format(e)}function n(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function a(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3),s=Math.floor(r/60),i=Math.floor(s/60),a=Math.floor(i/24);return r<60?"just now":s<60?1===s?"1 min ago":s+" min ago":i<24?1===i?"1 hr ago":i+" hrs ago":a<7?1===a?"1 day ago":a+" days ago":n(e)}function o(e){return e}function l(e){return e<1?e.toFixed(2)+" ac":r.format(e)+" ac"}new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}),e.s(["formatAcreage",()=>l,"formatApn",()=>o,"formatCurrency",()=>s,"formatDate",()=>n,"formatNumber",()=>i,"formatRelativeTime",()=>a])},50875,e=>{"use strict";e.s(["damageLevelColors",0,{destroyed:"bg-destructive/15 text-destructive border-destructive/20",major:"bg-[oklch(0.7_0.15_40)]/15 text-[oklch(0.55_0.18_40)] border-[oklch(0.7_0.15_40)]/20",minor:"bg-warning/15 text-warning border-warning/20",affected:"bg-info/15 text-info border-info/20",inaccessible:"bg-muted text-muted-foreground border-muted",none:"bg-success/15 text-success border-success/20"},"incidentTypeLabels",0,{wildfire:"Wildfire",flood:"Flood",earthquake:"Earthquake",mudslide:"Mudslide",hurricane:"Hurricane",tornado:"Tornado",other:"Other"},"statusColors",0,{active:"bg-success/15 text-success border-success/20",inactive:"bg-muted text-muted-foreground border-muted",pending:"bg-warning/15 text-warning border-warning/20",archived:"bg-muted text-muted-foreground border-muted",monitoring:"bg-info/15 text-info border-info/20",closed:"bg-muted text-muted-foreground border-muted"}])},17896,e=>{"use strict";var t=e.i(59834),r=e.i(71908),s=e.i(22513),i=e.i(50875);function n({status:e,className:n}){let a=i.statusColors[e.toLowerCase()]||"bg-muted text-muted-foreground border-muted";return(0,t.jsxs)(r.Badge,{variant:"outline",className:(0,s.cn)("font-medium capitalize text-[11px] px-2 py-0.5",a,n),children:[(0,t.jsx)("span",{className:"mr-1.5 inline-block h-1.5 w-1.5 rounded-full bg-current"}),e.replace(/_/g," ")]})}e.s(["StatusBadge",()=>n])},12061,e=>{"use strict";var t=e.i(42828),r=e.i(42656),s=e.i(93312),i=e.i(77456),n=e.i(54368),a=e.i(12674),o=class extends n.Subscribable{#e;#n=void 0;#j;#C;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#D()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#j,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.hashKey)(t.mutationKey)!==(0,a.hashKey)(this.options.mutationKey)?this.reset():this.#j?.state.status==="pending"&&this.#j.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#j?.removeObserver(this)}onMutationUpdate(e){this.#D(),this.#S(e)}getCurrentResult(){return this.#n}reset(){this.#j?.removeObserver(this),this.#j=void 0,this.#D(),this.#S()}mutate(e,t){return this.#C=t,this.#j?.removeObserver(this),this.#j=this.#e.getMutationCache().build(this.#e,this.options),this.#j.addObserver(this),this.#j.execute(e)}#D(){let e=this.#j?.state??(0,s.getDefaultState)();this.#n={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#S(e){i.notifyManager.batch(()=>{if(this.#C&&this.hasListeners()){let t=this.#n.variables,r=this.#n.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#C.onSuccess?.(e.data,t,r,s)}catch(e){Promise.reject(e)}try{this.#C.onSettled?.(e.data,null,t,r,s)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#C.onError?.(e.error,t,r,s)}catch(e){Promise.reject(e)}try{this.#C.onSettled?.(void 0,e.error,t,r,s)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#n)})})}},l=e.i(73252);function u(e,t){let s=(0,l.useQueryClient)(t),[n]=r.useState(()=>new o(s,e));r.useEffect(()=>{n.setOptions(e)},[n,e]);let u=r.useSyncExternalStore(r.useCallback(e=>n.subscribe(i.notifyManager.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),c=r.useCallback((e,t)=>{n.mutate(e,t).catch(a.noop)},[n]);if(u.error&&(0,a.shouldThrowError)(n.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:c,mutateAsync:u.mutate}}var c=e.i(85398);function d(e){return(0,t.useQuery)({queryKey:["incidents",e],queryFn:()=>(0,c.apiFetch)("/v1/calamity/incidents",{params:{status:e}})})}function h(e){return(0,t.useQuery)({queryKey:["incident",e],queryFn:()=>(0,c.apiFetch)(`/v1/calamity/incidents/${e}`),enabled:!!e})}function m(e){return(0,t.useQuery)({queryKey:["affected-parcels",e],queryFn:()=>(0,c.apiFetch)(`/v1/calamity/incidents/${e.incidentId}/parcels`,{params:{page:e.page||1,pageSize:e.pageSize||20,damageLevel:e.damageLevel}}),enabled:!!e.incidentId})}function p(){let e=(0,l.useQueryClient)();return u({mutationFn:({incidentId:e,parcelId:t,survey:r})=>(0,c.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/survey`,{method:"POST",body:r}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["affected-parcels"]}),e.invalidateQueries({queryKey:["incident",r.incidentId]})}})}function f(){let e=(0,l.useQueryClient)();return u({mutationFn:({incidentId:e,parcelId:t})=>(0,c.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/reassess`,{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["affected-parcels"]})}})}e.s(["useAffectedParcels",()=>m,"useComputeReassessment",()=>f,"useIncident",()=>h,"useIncidents",()=>d,"useSubmitSurvey",()=>p],12061)},65241,12618,1057,e=>{"use strict";var t=e.i(59834),r=e.i(42656),s=e.i(65597),i=e.i(44261);e.i(37673);var n=e.i(79542),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,n.createSlot)(`Primitive.${s}`),a=r.forwardRef((e,r)=>{let{asChild:n,...a}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?i:s,{...a,ref:r})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{}),o=r.forwardRef((e,r)=>(0,t.jsx)(a.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label",e.s(["Label",()=>o,"Root",()=>o],23469);var l=e.i(23469),l=l,u=e.i(22513);function c({className:e,...r}){return(0,t.jsx)(l.Root,{"data-slot":"label",className:(0,u.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}function d({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,u.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var h=e.i(79887),m=e.i(50752),p=e.i(2819),f=e.i(83113),v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,n.createSlot)(`Primitive.${s}`),a=r.forwardRef((e,r)=>{let{asChild:n,...a}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?i:s,{...a,ref:r})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{}),y=e.i(7101),b=e.i(87910),g=e.i(58853),x=e.i(63534),R=e.i(38798),w=e.i(81837),S="Radio",[j,C]=(0,f.createContextScope)(S),[D,I]=j(S),E=r.forwardRef((e,s)=>{let{__scopeRadio:i,name:n,checked:a=!1,required:o,disabled:l,value:u="on",onCheck:c,form:d,...h}=e,[f,y]=r.useState(null),b=(0,p.useComposedRefs)(s,e=>y(e)),g=r.useRef(!1),x=!f||d||!!f.closest("form");return(0,t.jsxs)(D,{scope:i,checked:a,disabled:l,children:[(0,t.jsx)(v.button,{type:"button",role:"radio","aria-checked":a,"data-state":O(a),"data-disabled":l?"":void 0,disabled:l,value:u,...h,ref:b,onClick:(0,m.composeEventHandlers)(e.onClick,e=>{a||c?.(),x&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),x&&(0,t.jsx)(T,{control:f,bubbles:!g.current,name:n,value:u,checked:a,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});E.displayName=S;var N="RadioIndicator",k=r.forwardRef((e,r)=>{let{__scopeRadio:s,forceMount:i,...n}=e,a=I(N,s);return(0,t.jsx)(w.Presence,{present:i||a.checked,children:(0,t.jsx)(v.span,{"data-state":O(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r})})});k.displayName=N;var T=r.forwardRef(({__scopeRadio:e,control:s,checked:i,bubbles:n=!0,...a},o)=>{let l=r.useRef(null),u=(0,p.useComposedRefs)(l,o),c=(0,R.usePrevious)(i),d=(0,x.useSize)(s);return r.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==i&&t){let r=new Event("click",{bubbles:n});t.call(e,i),e.dispatchEvent(r)}},[c,i,n]),(0,t.jsx)(v.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...a,tabIndex:-1,ref:u,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function O(e){return e?"checked":"unchecked"}T.displayName="RadioBubbleInput";var M=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P="RadioGroup",[Q,F]=(0,f.createContextScope)(P,[y.createRovingFocusGroupScope,C]),L=(0,y.createRovingFocusGroupScope)(),A=C(),[_,U]=Q(P),q=r.forwardRef((e,r)=>{let{__scopeRadioGroup:s,name:i,defaultValue:n,value:a,required:o=!1,disabled:l=!1,orientation:u,dir:c,loop:d=!0,onValueChange:h,...m}=e,p=L(s),f=(0,g.useDirection)(c),[x,R]=(0,b.useControllableState)({prop:a,defaultProp:n??null,onChange:h,caller:P});return(0,t.jsx)(_,{scope:s,name:i,required:o,disabled:l,value:x,onValueChange:R,children:(0,t.jsx)(y.Root,{asChild:!0,...p,orientation:u,dir:f,loop:d,children:(0,t.jsx)(v.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:f,...m,ref:r})})})});q.displayName=P;var K="RadioGroupItem",H=r.forwardRef((e,s)=>{let{__scopeRadioGroup:i,disabled:n,...a}=e,o=U(K,i),l=o.disabled||n,u=L(i),c=A(i),d=r.useRef(null),h=(0,p.useComposedRefs)(s,d),f=o.value===a.value,v=r.useRef(!1);return r.useEffect(()=>{let e=e=>{M.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(y.Item,{asChild:!0,...u,focusable:!l,active:f,children:(0,t.jsx)(E,{disabled:l,required:o.required,checked:f,...c,...a,name:o.name,ref:h,onCheck:()=>o.onValueChange(a.value),onKeyDown:(0,m.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,m.composeEventHandlers)(a.onFocus,()=>{v.current&&d.current?.click()})})})});H.displayName=K;var z=r.forwardRef((e,r)=>{let{__scopeRadioGroup:s,...i}=e,n=A(s);return(0,t.jsx)(k,{...n,...i,ref:r})});z.displayName="RadioGroupIndicator",e.s(["Indicator",()=>z,"Item",()=>H,"RadioGroup",()=>q,"RadioGroupIndicator",()=>z,"RadioGroupItem",()=>H,"Root",()=>q,"createRadioGroupScope",()=>F],69525);var V=e.i(69525),V=V;function $({className:e,...r}){return(0,t.jsx)(V.Root,{"data-slot":"radio-group",className:(0,u.cn)("grid gap-3",e),...r})}function B({className:e,...r}){return(0,t.jsx)(V.Item,{"data-slot":"radio-group-item",className:(0,u.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(V.Indicator,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(h.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var G=e.i(71579),W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,n.createSlot)(`Primitive.${s}`),a=r.forwardRef((e,r)=>{let{asChild:n,...a}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?i:s,{...a,ref:r})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{}),X=e.i(31254),Y=["PageUp","PageDown"],J=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ee="Slider",[et,er,es]=(0,X.createCollection)(ee),[ei,en]=(0,f.createContextScope)(ee,[es]),[ea,eo]=ei(ee),el=r.forwardRef((e,s)=>{let{name:i,min:n=0,max:a=100,step:o=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:h,onValueChange:p=()=>{},onValueCommit:f=()=>{},inverted:v=!1,form:y,...g}=e,x=r.useRef(new Set),R=r.useRef(0),w="horizontal"===l,[S=[],j]=(0,b.useControllableState)({prop:h,defaultProp:d,onChange:e=>{let t=[...x.current];t[R.current]?.focus(),p(e)}}),C=r.useRef(S);function D(e,t,{commit:r}={commit:!1}){let s,i=(String(o).split(".")[1]||"").length,l=Math.round((Math.round((e-n)/o)*o+n)*(s=Math.pow(10,i)))/s,u=(0,G.clamp)(l,[n,a]);j((e=[])=>{let s=function(e=[],t,r){let s=[...e];return s[r]=t,s.sort((e,t)=>e-t)}(e,u,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(s,c*o))return e;{R.current=s.indexOf(u);let t=String(s)!==String(e);return t&&r&&f(s),t?s:e}})}return(0,t.jsx)(ea,{scope:e.__scopeSlider,name:i,disabled:u,min:n,max:a,valueIndexToChangeRef:R,thumbs:x.current,values:S,orientation:l,form:y,children:(0,t.jsx)(et.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(et.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(w?ed:eh,{"aria-disabled":u,"data-disabled":u?"":void 0,...g,ref:s,onPointerDown:(0,m.composeEventHandlers)(g.onPointerDown,()=>{u||(C.current=S)}),min:n,max:a,inverted:v,onSlideStart:u?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),s=Math.min(...r);return r.indexOf(s)}(S,e);D(e,t)},onSlideMove:u?void 0:function(e){D(e,R.current)},onSlideEnd:u?void 0:function(){let e=C.current[R.current];S[R.current]!==e&&f(S)},onHomeKeyDown:()=>!u&&D(n,0,{commit:!0}),onEndKeyDown:()=>!u&&D(a,S.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!u){let r=Y.includes(e.key)||e.shiftKey&&J.includes(e.key),s=R.current;D(S[s]+o*(r?10:1)*t,s,{commit:!0})}}})})})})});el.displayName=ee;var[eu,ec]=ei(ee,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ed=r.forwardRef((e,s)=>{let{min:i,max:n,dir:a,inverted:o,onSlideStart:l,onSlideMove:u,onSlideEnd:c,onStepKeyDown:d,...h}=e,[m,f]=r.useState(null),v=(0,p.useComposedRefs)(s,e=>f(e)),y=r.useRef(void 0),b=(0,g.useDirection)(a),x="ltr"===b,R=x&&!o||!x&&o;function w(e){let t=y.current||m.getBoundingClientRect(),r=eS([0,t.width],R?[i,n]:[n,i]);return y.current=t,r(e-t.left)}return(0,t.jsx)(eu,{scope:e.__scopeSlider,startEdge:R?"left":"right",endEdge:R?"right":"left",direction:R?1:-1,size:"width",children:(0,t.jsx)(em,{dir:b,"data-orientation":"horizontal",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=w(e.clientX);l?.(t)},onSlideMove:e=>{let t=w(e.clientX);u?.(t)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:e=>{let t=Z[R?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),eh=r.forwardRef((e,s)=>{let{min:i,max:n,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:c,...d}=e,h=r.useRef(null),m=(0,p.useComposedRefs)(s,h),f=r.useRef(void 0),v=!a;function y(e){let t=f.current||h.current.getBoundingClientRect(),r=eS([0,t.height],v?[n,i]:[i,n]);return f.current=t,r(e-t.top)}return(0,t.jsx)(eu,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:(0,t.jsx)(em,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=y(e.clientY);o?.(t)},onSlideMove:e=>{let t=y(e.clientY);l?.(t)},onSlideEnd:()=>{f.current=void 0,u?.()},onStepKeyDown:e=>{let t=Z[v?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),em=r.forwardRef((e,r)=>{let{__scopeSlider:s,onSlideStart:i,onSlideMove:n,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:u,...c}=e,d=eo(ee,s);return(0,t.jsx)(W.span,{...c,ref:r,onKeyDown:(0,m.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):Y.concat(J).includes(e.key)&&(u(e),e.preventDefault())}),onPointerDown:(0,m.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():i(e)}),onPointerMove:(0,m.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&n(e)}),onPointerUp:(0,m.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),a(e))})})}),ep="SliderTrack",ef=r.forwardRef((e,r)=>{let{__scopeSlider:s,...i}=e,n=eo(ep,s);return(0,t.jsx)(W.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...i,ref:r})});ef.displayName=ep;var ev="SliderRange",ey=r.forwardRef((e,s)=>{let{__scopeSlider:i,...n}=e,a=eo(ev,i),o=ec(ev,i),l=r.useRef(null),u=(0,p.useComposedRefs)(s,l),c=a.values.length,d=a.values.map(e=>ew(e,a.min,a.max)),h=c>1?Math.min(...d):0,m=100-Math.max(...d);return(0,t.jsx)(W.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:u,style:{...e.style,[o.startEdge]:h+"%",[o.endEdge]:m+"%"}})});ey.displayName=ev;var eb="SliderThumb",eg=r.forwardRef((e,s)=>{let i=er(e.__scopeSlider),[n,a]=r.useState(null),o=(0,p.useComposedRefs)(s,e=>a(e)),l=r.useMemo(()=>n?i().findIndex(e=>e.ref.current===n):-1,[i,n]);return(0,t.jsx)(ex,{...e,ref:o,index:l})}),ex=r.forwardRef((e,s)=>{var i,n,a,o,l;let u,c,{__scopeSlider:d,index:h,name:f,...v}=e,y=eo(eb,d),b=ec(eb,d),[g,R]=r.useState(null),w=(0,p.useComposedRefs)(s,e=>R(e)),S=!g||y.form||!!g.closest("form"),j=(0,x.useSize)(g),C=y.values[h],D=void 0===C?0:ew(C,y.min,y.max),I=(i=h,(n=y.values.length)>2?`Value ${i+1} of ${n}`:2===n?["Minimum","Maximum"][i]:void 0),E=j?.[b.size],N=E?(a=E,o=D,l=b.direction,c=eS([0,50],[0,u=a/2]),(u-c(o)*l)*l):0;return r.useEffect(()=>{if(g)return y.thumbs.add(g),()=>{y.thumbs.delete(g)}},[g,y.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[b.startEdge]:`calc(${D}% + ${N}px)`},children:[(0,t.jsx)(et.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(W.span,{role:"slider","aria-label":e["aria-label"]||I,"aria-valuemin":y.min,"aria-valuenow":C,"aria-valuemax":y.max,"aria-orientation":y.orientation,"data-orientation":y.orientation,"data-disabled":y.disabled?"":void 0,tabIndex:y.disabled?void 0:0,...v,ref:w,style:void 0===C?{display:"none"}:e.style,onFocus:(0,m.composeEventHandlers)(e.onFocus,()=>{y.valueIndexToChangeRef.current=h})})}),S&&(0,t.jsx)(eR,{name:f??(y.name?y.name+(y.values.length>1?"[]":""):void 0),form:y.form,value:C},h)]})});eg.displayName=eb;var eR=r.forwardRef(({__scopeSlider:e,value:s,...i},n)=>{let a=r.useRef(null),o=(0,p.useComposedRefs)(a,n),l=(0,R.usePrevious)(s);return r.useEffect(()=>{let e=a.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==s&&t){let r=new Event("input",{bubbles:!0});t.call(e,s),e.dispatchEvent(r)}},[l,s]),(0,t.jsx)(W.input,{style:{display:"none"},...i,ref:o,defaultValue:s})});function ew(e,t,r){return(0,G.clamp)(100/(r-t)*(e-t),[0,100])}function eS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}eR.displayName="RadioBubbleInput",e.s(["Range",()=>ey,"Root",()=>el,"Slider",()=>el,"SliderRange",()=>ey,"SliderThumb",()=>eg,"SliderTrack",()=>ef,"Thumb",()=>eg,"Track",()=>ef,"createSliderScope",()=>en],86976);var ej=e.i(86976),ej=ej;function eC({className:e,defaultValue:s,value:i,min:n=0,max:a=100,...o}){let l=r.useMemo(()=>Array.isArray(i)?i:Array.isArray(s)?s:[n,a],[i,s,n,a]);return(0,t.jsxs)(ej.Root,{"data-slot":"slider",defaultValue:s,value:i,min:n,max:a,className:(0,u.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...o,children:[(0,t.jsx)(ej.Track,{"data-slot":"slider-track",className:(0,u.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(ej.Range,{"data-slot":"slider-range",className:(0,u.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,r)=>(0,t.jsx)(ej.Thumb,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},r))]})}var eD=e.i(41868),eI=e.i(12061),eE=e.i(69501),eN=e.i(67289);let ek=[{value:"destroyed",label:"Destroyed",description:"Structure completely destroyed"},{value:"major",label:"Major",description:"Significant structural damage"},{value:"minor",label:"Minor",description:"Cosmetic or limited damage"},{value:"affected",label:"Affected",description:"In affected area, minor impact"},{value:"none",label:"None",description:"No damage observed"}];function eT({open:e,onOpenChange:n,incidentId:a,parcel:o}){let[l,u]=(0,r.useState)("minor"),[h,m]=(0,r.useState)([25]),[p,f]=(0,r.useState)([10]),[v,y]=(0,r.useState)(new Date().toISOString().split("T")[0]),[b,g]=(0,r.useState)(""),x=(0,eI.useSubmitSurvey)(),R=async()=>{try{await x.mutateAsync({incidentId:a,parcelId:o.affectedParcelId,survey:{damageLevel:l,improvementDamagePercent:h[0],landDamagePercent:p[0],surveyDate:v,notes:b}}),eE.toast.success("Damage survey submitted",{description:`Survey recorded for parcel ${o.apn}`}),n(!1)}catch(e){eE.toast.error("Failed to submit survey",{description:"Please try again"})}};return(0,t.jsx)(s.Dialog,{open:e,onOpenChange:n,children:(0,t.jsxs)(s.DialogContent,{className:"sm:max-w-lg",children:[(0,t.jsxs)(s.DialogHeader,{children:[(0,t.jsx)(s.DialogTitle,{children:"Damage Survey"}),(0,t.jsxs)(s.DialogDescription,{children:["Record damage assessment for parcel"," ",(0,t.jsx)("span",{className:"font-mono font-medium",children:o.apn})]})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Damage Level"}),(0,t.jsx)($,{value:l,onValueChange:u,children:ek.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 rounded-lg border p-3 cursor-pointer hover:bg-muted/50 transition-colors",children:[(0,t.jsx)(B,{value:e.value,id:e.value}),(0,t.jsxs)(c,{htmlFor:e.value,className:"flex-1 cursor-pointer",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Improvement Damage"}),(0,t.jsxs)("span",{className:"text-sm font-medium tabular-nums",children:[h[0],"%"]})]}),(0,t.jsx)(eC,{value:h,onValueChange:m,min:0,max:100,step:5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Land Damage"}),(0,t.jsxs)("span",{className:"text-sm font-medium tabular-nums",children:[p[0],"%"]})]}),(0,t.jsx)(eC,{value:p,onValueChange:f,min:0,max:100,step:5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Survey Date"}),(0,t.jsx)(eD.Input,{type:"date",value:v,onChange:e=>y(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Notes"}),(0,t.jsx)(d,{value:b,onChange:e=>g(e.target.value),placeholder:"Additional observations...",rows:3})]})]}),(0,t.jsxs)(s.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,t.jsxs)(i.Button,{onClick:R,disabled:x.isPending,children:[x.isPending&&(0,t.jsx)(eN.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Submit Survey"]})]})]})})}e.s(["SurveyDialog",()=>eT],65241);var eO=e.i(48846),eM=e.i(94325);let eP=(0,eM.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var eQ=e.i(36941);function eF({open:e,onOpenChange:n,incidentId:a,parcel:o}){let[l,u]=(0,r.useState)(null),c=(0,eI.useComputeReassessment)(),d=async()=>{try{let e=await c.mutateAsync({incidentId:a,parcelId:o.affectedParcelId});u(e),eE.toast.success("Reassessment computed",{description:`Value reduction of ${(0,eO.formatCurrency)(e.reductionAmount)} for parcel ${o.apn}`})}catch(e){eE.toast.error("Failed to compute reassessment",{description:"Please try again"})}};return(0,t.jsx)(s.Dialog,{open:e,onOpenChange:n,children:(0,t.jsxs)(s.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(s.DialogHeader,{children:[(0,t.jsx)(s.DialogTitle,{children:"Reassessment"}),(0,t.jsxs)(s.DialogDescription,{children:["Compute revised values for parcel"," ",(0,t.jsx)("span",{className:"font-mono font-medium",children:o.apn})]})]}),l?(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-success",children:[(0,t.jsx)(eQ.CheckCircle,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Reassessment Complete"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Prior Value"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums",children:(0,eO.formatCurrency)(l.priorTotalValue)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Revised Value"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums text-primary",children:(0,eO.formatCurrency)(l.revisedTotalValue)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Reduction"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(eP,{className:"h-3.5 w-3.5 text-destructive"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums text-destructive",children:(0,eO.formatCurrency)(l.reductionAmount)})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Land"}),(0,t.jsxs)("span",{children:[(0,eO.formatCurrency)(l.priorLandValue)," → ",(0,eO.formatCurrency)(l.revisedLandValue)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Improvements"}),(0,t.jsxs)("span",{children:[(0,eO.formatCurrency)(l.priorImprovementValue)," → ",(0,eO.formatCurrency)(l.revisedImprovementValue)]})]})]})]}):(0,t.jsx)("div",{className:"py-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This will compute revised property values based on the recorded damage survey data. The computation uses standard calamity reassessment formulas."})}),(0,t.jsx)(s.DialogFooter,{children:l?(0,t.jsx)(i.Button,{onClick:()=>n(!1),children:"Done"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,t.jsxs)(i.Button,{onClick:d,disabled:c.isPending,children:[c.isPending&&(0,t.jsx)(eN.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Compute Reassessment"]})]})})]})})}e.s(["ReassessmentDialog",()=>eF],12618);let eL=(0,eM.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);e.s(["Calculator",()=>eL],1057)}]);