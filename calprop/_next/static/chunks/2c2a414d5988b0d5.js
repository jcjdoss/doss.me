(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25305,e=>{"use strict";var t=e.i(42828),r=e.i(85398);function s(e){return(0,t.useQuery)({queryKey:["parcels",e],queryFn:()=>(0,r.apiFetch)("/v1/parcels",{params:{search:e.search,status:e.status,page:e.page||1,pageSize:e.pageSize||20}})})}function a(e){return(0,t.useQuery)({queryKey:["parcel",e],queryFn:()=>(0,r.apiFetch)(`/v1/parcels/${e}`),enabled:!!e})}function l(e){return(0,t.useQuery)({queryKey:["parcel-flags",e],queryFn:()=>(0,r.apiFetch)(`/v1/parcels/${e}/flags`),enabled:!!e})}e.s(["useParcel",()=>a,"useParcelFlags",()=>l,"useParcels",()=>s])},48846,e=>{"use strict";let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});let r=new Intl.NumberFormat("en-US");function s(e){return t.format(e)}function a(e){return r.format(e)}function l(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function n(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3),s=Math.floor(r/60),a=Math.floor(s/60),n=Math.floor(a/24);return r<60?"just now":s<60?1===s?"1 min ago":s+" min ago":a<24?1===a?"1 hr ago":a+" hrs ago":n<7?1===n?"1 day ago":n+" days ago":l(e)}function i(e){return e}function d(e){return e<1?e.toFixed(2)+" ac":r.format(e)+" ac"}new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}),e.s(["formatAcreage",()=>d,"formatApn",()=>i,"formatCurrency",()=>s,"formatDate",()=>l,"formatNumber",()=>a,"formatRelativeTime",()=>n])},43970,e=>{"use strict";let t=(0,e.i(94325).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],43970)},98869,e=>{"use strict";let t=(0,e.i(94325).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],98869)},37243,e=>{"use strict";var t=e.i(59834),r=e.i(48846);function s({segments:e,total:s}){if(0===s)return(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No assessed value data"});let a=[...e].filter(e=>e.value>0).sort((e,t)=>t.value-e.value);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-3 w-full rounded-full overflow-hidden flex bg-muted",children:a.map(e=>{let a=e.value/s*100;return(0,t.jsx)("div",{className:"h-full transition-all duration-700 ease-out first:rounded-l-full last:rounded-r-full",style:{width:`${a}%`,backgroundColor:e.color},title:`${e.label}: ${(0,r.formatCurrency)(e.value)}`},e.label)})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"inline-block h-2 w-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.label}),(0,t.jsx)("span",{className:"text-xs font-medium tabular-nums",children:(0,r.formatCurrency)(e.value)})]},e.label))})]})}e.s(["ValueBreakdownBar",()=>s])},32950,e=>{"use strict";var t=e.i(59834),r=e.i(25305),s=e.i(48846),a=e.i(37243),l=e.i(71908),n=e.i(44261),i=e.i(80612),d=e.i(33217),c=e.i(43970),o=e.i(98869);function m(){let{data:e,isLoading:m}=(0,r.useParcels)({page:1,pageSize:100}),u=e?.data||[],x=e?.pagination?.totalCount||u.length,h={},f=0,p=0,g=0;for(let e of u){var j;let t=(j=e.useCode).startsWith("01")||j.startsWith("02")?"Residential":j.startsWith("21")||j.startsWith("22")?"Agricultural":"Commercial";h[t]||(h[t]={count:0,value:0,exemptions:0,acreage:0}),h[t].count++,h[t].value+=e.assessedValue||0,h[t].acreage+=e.acreage||0,f+=e.assessedValue||0,g+=e.acreage||0}let N=h.Residential?.count||0,b=7e3*N,y=h.Agricultural?.count||0,v=2e5*y;p=b+v;let w=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}),C=["Residential","Agricultural","Commercial"],k={Residential:"#2563eb",Agricultural:"#16a34a",Commercial:"#d97706"};return m?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(i.Skeleton,{className:"h-8 w-64"}),(0,t.jsx)(i.Skeleton,{className:"h-4 w-48"}),(0,t.jsx)(i.Skeleton,{className:"h-48"})]}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between print:hidden",children:[(0,t.jsxs)(d.default,{href:"/reports",className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[(0,t.jsx)(c.ArrowLeft,{className:"h-3.5 w-3.5"}),"Back to Reports"]}),(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>window.print(),className:"gap-1.5",children:[(0,t.jsx)(o.Printer,{className:"h-3.5 w-3.5"}),"Print / Export PDF"]})]}),(0,t.jsxs)("div",{className:"report-header",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold text-sm print:bg-gray-800 print:text-white",children:"MC"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold tracking-tight",children:"Assessment Roll Summary"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Madera County Assessor's Office"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Generated: ",w]}),(0,t.jsx)(l.Badge,{variant:"outline",className:"text-[10px] border-primary/30 text-primary",children:"For: Auditor-Controller"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 print:grid-cols-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Total Parcels"}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-1 tabular-nums",children:(0,s.formatNumber)(x)})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Total Assessed Value"}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-1 tabular-nums",children:(0,s.formatCurrency)(f)})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Estimated Exemptions"}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-1 tabular-nums",children:(0,s.formatCurrency)(p)})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Net Taxable Value"}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-1 tabular-nums text-primary",children:(0,s.formatCurrency)(f-p)})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-5",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold mb-4",children:"Assessed Value by Property Type"}),(0,t.jsx)(a.ValueBreakdownBar,{total:f,segments:C.map(e=>({label:e,value:h[e]?.value||0,color:k[e]}))})]}),(0,t.jsxs)("div",{className:"rounded-lg border overflow-hidden",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold p-4 border-b bg-muted/30",children:"Breakdown by Property Type"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-xs text-muted-foreground",children:[(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Property Type"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"Parcels"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"Acreage"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"Assessed Value"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"% of Roll"})]})}),(0,t.jsx)("tbody",{children:C.map(e=>{let r=h[e];if(!r)return null;let a=f>0?r.value/f*100:0;return(0,t.jsxs)("tr",{className:"border-b last:border-0",children:[(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"inline-block h-2.5 w-2.5 rounded-full shrink-0",style:{backgroundColor:k[e]}}),(0,t.jsx)("span",{className:"font-medium",children:e})]})}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatNumber)(r.count)}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:r.acreage<1?r.acreage.toFixed(2):(0,s.formatNumber)(Math.round(r.acreage))}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums font-medium",children:(0,s.formatCurrency)(r.value)}),(0,t.jsxs)("td",{className:"p-3 text-right tabular-nums text-muted-foreground",children:[a.toFixed(1),"%"]})]},e)})}),(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{className:"border-t-2 font-semibold",children:[(0,t.jsx)("td",{className:"p-3",children:"Total"}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatNumber)(x)}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatNumber)(Math.round(g))}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatCurrency)(f)}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:"100.0%"})]})})]})})]}),(0,t.jsxs)("div",{className:"rounded-lg border overflow-hidden",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold p-4 border-b bg-muted/30",children:"Exemption Summary"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-xs text-muted-foreground",children:[(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Exemption Type"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"Eligible Parcels"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"Estimated Amount"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3",children:"Homeowner's Exemption (§218)"}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatNumber)(N)}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatCurrency)(b)})]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3",children:"Williamson Act / Open Space (§423)"}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatNumber)(y)}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatCurrency)(v)})]})]}),(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{className:"border-t-2 font-semibold",children:[(0,t.jsx)("td",{className:"p-3",children:"Total Exemptions"}),(0,t.jsx)("td",{className:"p-3"}),(0,t.jsx)("td",{className:"p-3 text-right tabular-nums",children:(0,s.formatCurrency)(p)})]})})]})})]}),(0,t.jsxs)("div",{className:"border-t pt-4 text-xs text-muted-foreground text-center",children:[(0,t.jsxs)("p",{children:["Madera County Assessor's Office — Assessment Roll Summary — Generated ",w]}),(0,t.jsx)("p",{className:"mt-0.5",children:"Prepared for the Madera County Auditor-Controller per R&T §616"})]})]})}e.s(["default",()=>m])}]);