(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14123,e=>{"use strict";var t=e.i(59834),r=e.i(42656),n=e.i(50752),a=e.i(2819),s=e.i(83113),o=e.i(42805),i=e.i(94173),l=e.i(80752),d=e.i(3882),c=e.i(81837);e.i(37673);var u=e.i(79542),p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let a=(0,u.createSlot)(`Primitive.${n}`),s=r.forwardRef((e,r)=>{let{asChild:s,...o}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?a:n,{...o,ref:r})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{}),m=e.i(87910),h=e.i(79998),[f,x]=(0,s.createContextScope)("Tooltip",[l.createPopperScope]),g=(0,l.createPopperScope)(),v="TooltipProvider",y="tooltip.open",[b,w]=f(v),j=e=>{let{__scopeTooltip:n,delayDuration:a=700,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:i}=e,l=r.useRef(!0),d=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(b,{scope:n,isOpenDelayedRef:l,delayDuration:a,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:r.useCallback(e=>{d.current=e},[]),disableHoverableContent:o,children:i})};j.displayName=v;var k="Tooltip",[C,N]=f(k),M=e=>{let{__scopeTooltip:n,children:a,open:s,defaultOpen:o,onOpenChange:d,disableHoverableContent:c,delayDuration:u}=e,p=w(k,e.__scopeTooltip),h=g(n),[f,x]=r.useState(null),v=(0,i.useId)(),b=r.useRef(0),j=c??p.disableHoverableContent,N=u??p.delayDuration,M=r.useRef(!1),[E,S]=(0,m.useControllableState)({prop:s,defaultProp:o??!1,onChange:e=>{e?(p.onOpen(),document.dispatchEvent(new CustomEvent(y))):p.onClose(),d?.(e)},caller:k}),R=r.useMemo(()=>E?M.current?"delayed-open":"instant-open":"closed",[E]),D=r.useCallback(()=>{window.clearTimeout(b.current),b.current=0,M.current=!1,S(!0)},[S]),P=r.useCallback(()=>{window.clearTimeout(b.current),b.current=0,S(!1)},[S]),T=r.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{M.current=!0,S(!0),b.current=0},N)},[N,S]);return r.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),(0,t.jsx)(l.Root,{...h,children:(0,t.jsx)(C,{scope:n,contentId:v,open:E,stateAttribute:R,trigger:f,onTriggerChange:x,onTriggerEnter:r.useCallback(()=>{p.isOpenDelayedRef.current?T():D()},[p.isOpenDelayedRef,T,D]),onTriggerLeave:r.useCallback(()=>{j?P():(window.clearTimeout(b.current),b.current=0)},[P,j]),onOpen:D,onClose:P,disableHoverableContent:j,children:a})})};M.displayName=k;var E="TooltipTrigger",S=r.forwardRef((e,s)=>{let{__scopeTooltip:o,...i}=e,d=N(E,o),c=w(E,o),u=g(o),m=r.useRef(null),h=(0,a.useComposedRefs)(s,m,d.onTriggerChange),f=r.useRef(!1),x=r.useRef(!1),v=r.useCallback(()=>f.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),(0,t.jsx)(l.Anchor,{asChild:!0,...u,children:(0,t.jsx)(p.button,{"aria-describedby":d.open?d.contentId:void 0,"data-state":d.stateAttribute,...i,ref:h,onPointerMove:(0,n.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(x.current||c.isPointerInTransitRef.current||(d.onTriggerEnter(),x.current=!0))}),onPointerLeave:(0,n.composeEventHandlers)(e.onPointerLeave,()=>{d.onTriggerLeave(),x.current=!1}),onPointerDown:(0,n.composeEventHandlers)(e.onPointerDown,()=>{d.open&&d.onClose(),f.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{f.current||d.onOpen()}),onBlur:(0,n.composeEventHandlers)(e.onBlur,d.onClose),onClick:(0,n.composeEventHandlers)(e.onClick,d.onClose)})})});S.displayName=E;var R="TooltipPortal",[D,P]=f(R,{forceMount:void 0}),T=e=>{let{__scopeTooltip:r,forceMount:n,children:a,container:s}=e,o=N(R,r);return(0,t.jsx)(D,{scope:r,forceMount:n,children:(0,t.jsx)(c.Presence,{present:n||o.open,children:(0,t.jsx)(d.Portal,{asChild:!0,container:s,children:a})})})};T.displayName=R;var I="TooltipContent",O=r.forwardRef((e,r)=>{let n=P(I,e.__scopeTooltip),{forceMount:a=n.forceMount,side:s="top",...o}=e,i=N(I,e.__scopeTooltip);return(0,t.jsx)(c.Presence,{present:a||i.open,children:i.disableHoverableContent?(0,t.jsx)(L,{side:s,...o,ref:r}):(0,t.jsx)(_,{side:s,...o,ref:r})})}),_=r.forwardRef((e,n)=>{let s=N(I,e.__scopeTooltip),o=w(I,e.__scopeTooltip),i=r.useRef(null),l=(0,a.useComposedRefs)(n,i),[d,c]=r.useState(null),{trigger:u,onClose:p}=s,m=i.current,{onPointerInTransitChange:h}=o,f=r.useCallback(()=>{c(null),h(!1)},[h]),x=r.useCallback((e,t)=>{let r,n=e.currentTarget,a={x:e.clientX,y:e.clientY},s=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(a,n.getBoundingClientRect());c(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(a,s),...function(e){let{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),h(!0)},[h]);return r.useEffect(()=>()=>f(),[f]),r.useEffect(()=>{if(u&&m){let e=e=>x(e,m),t=e=>x(e,u);return u.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[u,m,x,f]),r.useEffect(()=>{if(d){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=u?.contains(t)||m?.contains(t),a=!function(e,t){let{x:r,y:n}=e,a=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let o=t[e],i=t[s],l=o.x,d=o.y,c=i.x,u=i.y;d>n!=u>n&&r<(c-l)*(n-d)/(u-d)+l&&(a=!a)}return a}(r,d);n?f():a&&(f(),p())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,m,d,p,f]),(0,t.jsx)(L,{...e,ref:l})}),[A,F]=f(k,{isInside:!1}),q=(0,u.createSlottable)("TooltipContent"),L=r.forwardRef((e,n)=>{let{__scopeTooltip:a,children:s,"aria-label":i,onEscapeKeyDown:d,onPointerDownOutside:c,...u}=e,p=N(I,a),m=g(a),{onClose:f}=p;return r.useEffect(()=>(document.addEventListener(y,f),()=>document.removeEventListener(y,f)),[f]),r.useEffect(()=>{if(p.trigger){let e=e=>{let t=e.target;t?.contains(p.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[p.trigger,f]),(0,t.jsx)(o.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,t.jsxs)(l.Content,{"data-state":p.stateAttribute,...m,...u,ref:n,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(q,{children:s}),(0,t.jsx)(A,{scope:a,isInside:!0,children:(0,t.jsx)(h.Root,{id:p.contentId,role:"tooltip",children:i||s})})]})})});O.displayName=I;var z="TooltipArrow",H=r.forwardRef((e,r)=>{let{__scopeTooltip:n,...a}=e,s=g(n);return F(z,n).isInside?null:(0,t.jsx)(l.Arrow,{...s,...a,ref:r})});H.displayName=z,e.s(["Arrow",()=>H,"Content",()=>O,"Portal",()=>T,"Provider",()=>j,"Root",()=>M,"Tooltip",()=>M,"TooltipArrow",()=>H,"TooltipContent",()=>O,"TooltipPortal",()=>T,"TooltipProvider",()=>j,"TooltipTrigger",()=>S,"Trigger",()=>S,"createTooltipScope",()=>x],60923);var K=e.i(60923),K=K,Q=e.i(22513);function B({delayDuration:e=0,...r}){return(0,t.jsx)(K.Provider,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function $({...e}){return(0,t.jsx)(K.Root,{"data-slot":"tooltip",...e})}function G({...e}){return(0,t.jsx)(K.Trigger,{"data-slot":"tooltip-trigger",...e})}function U({className:e,sideOffset:r=0,children:n,...a}){return(0,t.jsx)(K.Portal,{children:(0,t.jsxs)(K.Content,{"data-slot":"tooltip-content",sideOffset:r,className:(0,Q.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...a,children:[n,(0,t.jsx)(K.Arrow,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}e.s(["Tooltip",()=>$,"TooltipContent",()=>U,"TooltipProvider",()=>B,"TooltipTrigger",()=>G],14123)},49549,e=>{"use strict";var t=e.i(59834),r=e.i(14021),n=e.i(14123),a=e.i(12674),s=e.i(69206),o=e.i(77456),i=e.i(54368),l=class extends i.Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){let n=t.queryKey,o=t.queryHash??(0,a.hashQueryKeyByOptions)(n,t),i=this.get(o);return i||(i=new s.Query({client:e,queryKey:n,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){o.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,a.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,a.matchQuery)(e,t)):t}notify(e){o.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){o.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){o.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},d=e.i(93312),c=i,u=class extends c.Subscribable{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#n=0}#t;#r;#n;build(e,t,r){let n=new d.Mutation({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);let t=p(e);if("string"==typeof t){let r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=p(e);if("string"==typeof t){let r=this.#r.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=p(e);if("string"!=typeof t)return!0;{let r=this.#r.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=p(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#r.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){o.notifyManager.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#r.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,a.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,a.matchMutation)(e,t))}notify(e){o.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return o.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(a.noop))))}};function p(e){return e.options.scope?.id}var m=e.i(88926),h=e.i(69140);function f(e){return{onFetch:(t,r)=>{let n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},d=0,c=async()=>{let r=!1,c=(0,a.ensureQueryFn)(t.options,t.fetchOptions),u=async(e,n,s)=>{let o;if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let i=(o={client:t.client,queryKey:t.queryKey,pageParam:n,direction:s?"backward":"forward",meta:t.options.meta},(0,a.addConsumeAwareSignal)(o,()=>t.signal,()=>r=!0),o),l=await c(i),{maxPages:d}=t.options,u=s?a.addToStart:a.addToEnd;return{pages:u(e.pages,l,d),pageParams:u(e.pageParams,n,d)}};if(s&&o.length){let e="backward"===s,t={pages:o,pageParams:i},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:x)(n,t);l=await u(t,r,e)}else{let t=e??o.length;do{let e=0===d?i[0]??n.initialPageParam:x(n,l);if(d>0&&null==e)break;l=await u(l,e),d++}while(d<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function x(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}var g=class{#a;#s;#o;#i;#l;#d;#c;#u;constructor(e={}){this.#a=e.queryCache||new l,this.#s=e.mutationCache||new u,this.#o=e.defaultOptions||{},this.#i=new Map,this.#l=new Map,this.#d=0}mount(){this.#d++,1===this.#d&&(this.#c=m.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#a.onFocus())}),this.#u=h.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#a.onOnline())}))}unmount(){this.#d--,0===this.#d&&(this.#c?.(),this.#c=void 0,this.#u?.(),this.#u=void 0)}isFetching(e){return this.#a.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#s.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#a.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#a.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,a.resolveStaleTime)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#a.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),s=this.#a.get(n.queryHash),o=s?.state.data,i=(0,a.functionalUpdate)(t,o);if(void 0!==i)return this.#a.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return o.notifyManager.batch(()=>this.#a.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#a.get(t.queryHash)?.state}removeQueries(e){let t=this.#a;o.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#a;return o.notifyManager.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(o.notifyManager.batch(()=>this.#a.findAll(e).map(e=>e.cancel(r)))).then(a.noop).catch(a.noop)}invalidateQueries(e,t={}){return o.notifyManager.batch(()=>(this.#a.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(o.notifyManager.batch(()=>this.#a.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(a.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(a.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#a.build(this,t);return r.isStaleByTime((0,a.resolveStaleTime)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(a.noop).catch(a.noop)}fetchInfiniteQuery(e){return e.behavior=f(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(a.noop).catch(a.noop)}ensureInfiniteQueryData(e){return e.behavior=f(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return h.onlineManager.isOnline()?this.#s.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#a}getMutationCache(){return this.#s}getDefaultOptions(){return this.#o}setDefaultOptions(e){this.#o=e}setQueryDefaults(e,t){this.#i.set((0,a.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#i.values()],r={};return t.forEach(t=>{(0,a.partialMatchKey)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#l.set((0,a.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#l.values()],r={};return t.forEach(t=>{(0,a.partialMatchKey)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#o.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,a.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===a.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#o.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#a.clear(),this.#s.clear()}},v=e.i(73252),y=e.i(69501),b=e.i(42656),w=e.i(39086),j=e.i(63219),k=e.i(13735);function C({children:e}){let[a]=(0,b.useState)(()=>new g({defaultOptions:{queries:{staleTime:3e4,refetchOnWindowFocus:!1,retry:1}}}));return(0,t.jsx)(v.QueryClientProvider,{client:a,children:(0,t.jsx)(r.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!1,children:(0,t.jsx)(j.AuthProvider,{children:(0,t.jsx)(w.RoleProvider,{children:(0,t.jsx)(k.TenantProvider,{children:(0,t.jsxs)(n.TooltipProvider,{delayDuration:300,children:[e,(0,t.jsx)(y.Toaster,{position:"bottom-right",toastOptions:{className:"font-sans"},richColors:!0,closeButton:!0})]})})})})})})}e.s(["Providers",()=>C],49549)},79455,e=>{"use strict";var t=e.i(59834),r=e.i(22513),n=e.i(33217),a=e.i(42650),s=e.i(14123);function o({href:e,icon:o,label:i,collapsed:l}){let d=(0,a.usePathname)(),c="/"===e?"/"===d:d.startsWith(e),u=(0,t.jsxs)(n.default,{href:e,className:(0,r.cn)("group relative flex items-center rounded-md text-sm font-medium transition-colors duration-150",l?"h-9 w-9 justify-center mx-auto":"h-9 px-3 gap-3",c?"bg-sidebar-accent text-sidebar-primary font-semibold":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[(0,t.jsx)(o,{className:(0,r.cn)("shrink-0 transition-colors duration-150",l?"h-[18px] w-[18px]":"h-4 w-4",c?"text-sidebar-primary":"text-sidebar-foreground/50 group-hover:text-sidebar-foreground/70")}),!l&&(0,t.jsx)("span",{className:"truncate",children:i}),c&&(0,t.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-[3px] h-5 rounded-r-full bg-sidebar-primary -ml-2"})]});return l?(0,t.jsxs)(s.Tooltip,{delayDuration:0,children:[(0,t.jsx)(s.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"relative",children:u})}),(0,t.jsx)(s.TooltipContent,{side:"right",sideOffset:8,children:i})]}):(0,t.jsx)("div",{className:"relative",children:u})}var i=e.i(14021),l=e.i(94325);let d=(0,l.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),c=(0,l.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),u=(0,l.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var p=e.i(44261);e.i(6849),e.i(68752);var m=e.i(79887),h=e.i(42656),f=e.i(50752),x=e.i(2819),g=e.i(83113),v=e.i(87910),y=e.i(37673),b=e.i(79542),w=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,b.createSlot)(`Primitive.${r}`),a=h.forwardRef((e,a)=>{let{asChild:s,...o}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?n:r,{...o,ref:a})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{}),j=e.i(31254),k=e.i(58853),C=e.i(42805),N=e.i(44591),M=e.i(81543),E=e.i(94173),S=e.i(80752),R=e.i(3882),D=e.i(81837),P=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,b.createSlot)(`Primitive.${r}`),a=h.forwardRef((e,a)=>{let{asChild:s,...o}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?n:r,{...o,ref:a})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{}),T=e.i(7101),I=e.i(83232),O=e.i(75480),_=e.i(71384),A=["Enter"," "],F=["ArrowUp","PageDown","End"],q=["ArrowDown","PageUp","Home",...F],L={ltr:[...A,"ArrowRight"],rtl:[...A,"ArrowLeft"]},z={ltr:["ArrowLeft"],rtl:["ArrowRight"]},H="Menu",[K,Q,B]=(0,j.createCollection)(H),[$,G]=(0,g.createContextScope)(H,[B,S.createPopperScope,T.createRovingFocusGroupScope]),U=(0,S.createPopperScope)(),V=(0,T.createRovingFocusGroupScope)(),[W,X]=$(H),[Y,J]=$(H),Z=e=>{let{__scopeMenu:r,open:n=!1,children:a,dir:s,onOpenChange:o,modal:i=!0}=e,l=U(r),[d,c]=h.useState(null),u=h.useRef(!1),p=(0,I.useCallbackRef)(o),m=(0,k.useDirection)(s);return h.useEffect(()=>{let e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,t.jsx)(S.Root,{...l,children:(0,t.jsx)(W,{scope:r,open:n,onOpenChange:p,content:d,onContentChange:c,children:(0,t.jsx)(Y,{scope:r,onClose:h.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:u,dir:m,modal:i,children:a})})})};Z.displayName=H;var ee=h.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e,s=U(n);return(0,t.jsx)(S.Anchor,{...s,...a,ref:r})});ee.displayName="MenuAnchor";var et="MenuPortal",[er,en]=$(et,{forceMount:void 0}),ea=e=>{let{__scopeMenu:r,forceMount:n,children:a,container:s}=e,o=X(et,r);return(0,t.jsx)(er,{scope:r,forceMount:n,children:(0,t.jsx)(D.Presence,{present:n||o.open,children:(0,t.jsx)(R.Portal,{asChild:!0,container:s,children:a})})})};ea.displayName=et;var es="MenuContent",[eo,ei]=$(es),el=h.forwardRef((e,r)=>{let n=en(es,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,o=X(es,e.__scopeMenu),i=J(es,e.__scopeMenu);return(0,t.jsx)(K.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(D.Presence,{present:a||o.open,children:(0,t.jsx)(K.Slot,{scope:e.__scopeMenu,children:i.modal?(0,t.jsx)(ed,{...s,ref:r}):(0,t.jsx)(ec,{...s,ref:r})})})})}),ed=h.forwardRef((e,r)=>{let n=X(es,e.__scopeMenu),a=h.useRef(null),s=(0,x.useComposedRefs)(r,a);return h.useEffect(()=>{let e=a.current;if(e)return(0,O.hideOthers)(e)},[]),(0,t.jsx)(ep,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,f.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ec=h.forwardRef((e,r)=>{let n=X(es,e.__scopeMenu);return(0,t.jsx)(ep,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),eu=(0,b.createSlot)("MenuContent.ScrollLock"),ep=h.forwardRef((e,r)=>{let{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...y}=e,b=X(es,n),w=J(es,n),j=U(n),k=V(n),E=Q(n),[R,D]=h.useState(null),P=h.useRef(null),I=(0,x.useComposedRefs)(r,P,b.onContentChange),O=h.useRef(0),A=h.useRef(""),L=h.useRef(0),z=h.useRef(null),H=h.useRef("right"),K=h.useRef(0),B=v?_.RemoveScroll:h.Fragment;h.useEffect(()=>()=>window.clearTimeout(O.current),[]),(0,N.useFocusGuards)();let $=h.useCallback(e=>{var t,r;return H.current===z.current?.side&&(t=e,!!(r=z.current?.area)&&function(e,t){let{x:r,y:n}=e,a=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let o=t[e],i=t[s],l=o.x,d=o.y,c=i.x,u=i.y;d>n!=u>n&&r<(c-l)*(n-d)/(u-d)+l&&(a=!a)}return a}({x:t.clientX,y:t.clientY},r))},[]);return(0,t.jsx)(eo,{scope:n,searchRef:A,onItemEnter:h.useCallback(e=>{$(e)&&e.preventDefault()},[$]),onItemLeave:h.useCallback(e=>{$(e)||(P.current?.focus(),D(null))},[$]),onTriggerLeave:h.useCallback(e=>{$(e)&&e.preventDefault()},[$]),pointerGraceTimerRef:L,onPointerGraceIntentChange:h.useCallback(e=>{z.current=e},[]),children:(0,t.jsx)(B,{...v?{as:eu,allowPinchZoom:!0}:void 0,children:(0,t.jsx)(M.FocusScope,{asChild:!0,trapped:s,onMountAutoFocus:(0,f.composeEventHandlers)(o,e=>{e.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,t.jsx)(C.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:(0,t.jsx)(T.Root,{asChild:!0,...k,dir:w.dir,orientation:"vertical",loop:a,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:(0,f.composeEventHandlers)(d,e=>{w.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,t.jsx)(S.Content,{role:"menu","aria-orientation":"vertical","data-state":ez(b.open),"data-radix-menu-content":"",dir:w.dir,...j,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:(0,f.composeEventHandlers)(y.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var a;let t,s,o,i,l,d;"Tab"===e.key&&e.preventDefault(),!r&&n&&(a=e.key,t=A.current+a,s=E().filter(e=>!e.disabled),o=document.activeElement,i=s.find(e=>e.ref.current===o)?.textValue,l=function(e,t,r){var n;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=r?e.indexOf(r):-1,o=(n=Math.max(s,0),e.map((t,r)=>e[(n+r)%e.length]));1===a.length&&(o=o.filter(e=>e!==r));let i=o.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return i!==r?i:void 0}(s.map(e=>e.textValue),t,i),d=s.find(e=>e.textValue===l)?.ref.current,function e(t){A.current=t,window.clearTimeout(O.current),""!==t&&(O.current=window.setTimeout(()=>e(""),1e3))}(t),d&&setTimeout(()=>d.focus()))}let s=P.current;if(e.target!==s||!q.includes(e.key))return;e.preventDefault();let o=E().filter(e=>!e.disabled).map(e=>e.ref.current);F.includes(e.key)&&o.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(o)}),onBlur:(0,f.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(O.current),A.current="")}),onPointerMove:(0,f.composeEventHandlers)(e.onPointerMove,eQ(e=>{let t=e.target,r=K.current!==e.clientX;e.currentTarget.contains(t)&&r&&(H.current=e.clientX>K.current?"right":"left",K.current=e.clientX)}))})})})})})})});el.displayName=es;var em=h.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e;return(0,t.jsx)(P.div,{role:"group",...a,ref:r})});em.displayName="MenuGroup";var eh=h.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e;return(0,t.jsx)(P.div,{...a,ref:r})});eh.displayName="MenuLabel";var ef="MenuItem",ex="menu.itemSelect",eg=h.forwardRef((e,r)=>{let{disabled:n=!1,onSelect:a,...s}=e,o=h.useRef(null),i=J(ef,e.__scopeMenu),l=ei(ef,e.__scopeMenu),d=(0,x.useComposedRefs)(r,o),c=h.useRef(!1);return(0,t.jsx)(ev,{...s,ref:d,disabled:n,onClick:(0,f.composeEventHandlers)(e.onClick,()=>{let e=o.current;if(!n&&e){let t=new CustomEvent(ex,{bubbles:!0,cancelable:!0});e.addEventListener(ex,e=>a?.(e),{once:!0}),e&&y.flushSync(()=>e.dispatchEvent(t)),t.defaultPrevented?c.current=!1:i.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:(0,f.composeEventHandlers)(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:(0,f.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==l.searchRef.current;n||t&&" "===e.key||A.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});eg.displayName=ef;var ev=h.forwardRef((e,r)=>{let{__scopeMenu:n,disabled:a=!1,textValue:s,...o}=e,i=ei(ef,n),l=V(n),d=h.useRef(null),c=(0,x.useComposedRefs)(r,d),[u,p]=h.useState(!1),[m,g]=h.useState("");return h.useEffect(()=>{let e=d.current;e&&g((e.textContent??"").trim())},[o.children]),(0,t.jsx)(K.ItemSlot,{scope:n,disabled:a,textValue:s??m,children:(0,t.jsx)(T.Item,{asChild:!0,...l,focusable:!a,children:(0,t.jsx)(P.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...o,ref:c,onPointerMove:(0,f.composeEventHandlers)(e.onPointerMove,eQ(e=>{a?i.onItemLeave(e):(i.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,f.composeEventHandlers)(e.onPointerLeave,eQ(e=>i.onItemLeave(e))),onFocus:(0,f.composeEventHandlers)(e.onFocus,()=>p(!0)),onBlur:(0,f.composeEventHandlers)(e.onBlur,()=>p(!1))})})})}),ey=h.forwardRef((e,r)=>{let{checked:n=!1,onCheckedChange:a,...s}=e;return(0,t.jsx)(eE,{scope:e.__scopeMenu,checked:n,children:(0,t.jsx)(eg,{role:"menuitemcheckbox","aria-checked":eH(n)?"mixed":n,...s,ref:r,"data-state":eK(n),onSelect:(0,f.composeEventHandlers)(s.onSelect,()=>a?.(!!eH(n)||!n),{checkForDefaultPrevented:!1})})})});ey.displayName="MenuCheckboxItem";var eb="MenuRadioGroup",[ew,ej]=$(eb,{value:void 0,onValueChange:()=>{}}),ek=h.forwardRef((e,r)=>{let{value:n,onValueChange:a,...s}=e,o=(0,I.useCallbackRef)(a);return(0,t.jsx)(ew,{scope:e.__scopeMenu,value:n,onValueChange:o,children:(0,t.jsx)(em,{...s,ref:r})})});ek.displayName=eb;var eC="MenuRadioItem",eN=h.forwardRef((e,r)=>{let{value:n,...a}=e,s=ej(eC,e.__scopeMenu),o=n===s.value;return(0,t.jsx)(eE,{scope:e.__scopeMenu,checked:o,children:(0,t.jsx)(eg,{role:"menuitemradio","aria-checked":o,...a,ref:r,"data-state":eK(o),onSelect:(0,f.composeEventHandlers)(a.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});eN.displayName=eC;var eM="MenuItemIndicator",[eE,eS]=$(eM,{checked:!1}),eR=h.forwardRef((e,r)=>{let{__scopeMenu:n,forceMount:a,...s}=e,o=eS(eM,n);return(0,t.jsx)(D.Presence,{present:a||eH(o.checked)||!0===o.checked,children:(0,t.jsx)(P.span,{...s,ref:r,"data-state":eK(o.checked)})})});eR.displayName=eM;var eD=h.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e;return(0,t.jsx)(P.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});eD.displayName="MenuSeparator";var eP=h.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e,s=U(n);return(0,t.jsx)(S.Arrow,{...s,...a,ref:r})});eP.displayName="MenuArrow";var eT="MenuSub",[eI,eO]=$(eT),e_=e=>{let{__scopeMenu:r,children:n,open:a=!1,onOpenChange:s}=e,o=X(eT,r),i=U(r),[l,d]=h.useState(null),[c,u]=h.useState(null),p=(0,I.useCallbackRef)(s);return h.useEffect(()=>(!1===o.open&&p(!1),()=>p(!1)),[o.open,p]),(0,t.jsx)(S.Root,{...i,children:(0,t.jsx)(W,{scope:r,open:a,onOpenChange:p,content:c,onContentChange:u,children:(0,t.jsx)(eI,{scope:r,contentId:(0,E.useId)(),triggerId:(0,E.useId)(),trigger:l,onTriggerChange:d,children:n})})})};e_.displayName=eT;var eA="MenuSubTrigger",eF=h.forwardRef((e,r)=>{let n=X(eA,e.__scopeMenu),a=J(eA,e.__scopeMenu),s=eO(eA,e.__scopeMenu),o=ei(eA,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=o,c={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{let e=l.current;return()=>{window.clearTimeout(e),d(null)}},[l,d]),(0,t.jsx)(ee,{asChild:!0,...c,children:(0,t.jsx)(ev,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":ez(n.open),...e,ref:(0,x.composeRefs)(r,s.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,f.composeEventHandlers)(e.onPointerMove,eQ(t=>{o.onItemEnter(t),!t.defaultPrevented&&(e.disabled||n.open||i.current||(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100)))})),onPointerLeave:(0,f.composeEventHandlers)(e.onPointerLeave,eQ(e=>{u();let t=n.content?.getBoundingClientRect();if(t){let r=n.content?.dataset.side,a="right"===r,s=t[a?"left":"right"],i=t[a?"right":"left"];o.onPointerGraceIntentChange({area:[{x:e.clientX+(a?-5:5),y:e.clientY},{x:s,y:t.top},{x:i,y:t.top},{x:i,y:t.bottom},{x:s,y:t.bottom}],side:r}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(e),e.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:(0,f.composeEventHandlers)(e.onKeyDown,t=>{let r=""!==o.searchRef.current;e.disabled||r&&" "===t.key||L[a.dir].includes(t.key)&&(n.onOpenChange(!0),n.content?.focus(),t.preventDefault())})})})});eF.displayName=eA;var eq="MenuSubContent",eL=h.forwardRef((e,r)=>{let n=en(es,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,o=X(es,e.__scopeMenu),i=J(es,e.__scopeMenu),l=eO(eq,e.__scopeMenu),d=h.useRef(null),c=(0,x.useComposedRefs)(r,d);return(0,t.jsx)(K.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(D.Presence,{present:a||o.open,children:(0,t.jsx)(K.Slot,{scope:e.__scopeMenu,children:(0,t.jsx)(ep,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:c,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{i.isUsingKeyboardRef.current&&d.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,f.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:(0,f.composeEventHandlers)(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:(0,f.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=z[i.dir].includes(e.key);t&&r&&(o.onOpenChange(!1),l.trigger?.focus(),e.preventDefault())})})})})})});function ez(e){return e?"open":"closed"}function eH(e){return"indeterminate"===e}function eK(e){return eH(e)?"indeterminate":e?"checked":"unchecked"}function eQ(e){return t=>"mouse"===t.pointerType?e(t):void 0}eL.displayName=eq;var eB="DropdownMenu",[e$,eG]=(0,g.createContextScope)(eB,[G]),eU=G(),[eV,eW]=e$(eB),eX=e=>{let{__scopeDropdownMenu:r,children:n,dir:a,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=eU(r),c=h.useRef(null),[u,p]=(0,v.useControllableState)({prop:s,defaultProp:o??!1,onChange:i,caller:eB});return(0,t.jsx)(eV,{scope:r,triggerId:(0,E.useId)(),triggerRef:c,contentId:(0,E.useId)(),open:u,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(e=>!e),[p]),modal:l,children:(0,t.jsx)(Z,{...d,open:u,onOpenChange:p,dir:a,modal:l,children:n})})};eX.displayName=eB;var eY="DropdownMenuTrigger",eJ=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,o=eW(eY,n),i=eU(n);return(0,t.jsx)(ee,{asChild:!0,...i,children:(0,t.jsx)(w.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:(0,x.composeRefs)(r,o.triggerRef),onPointerDown:(0,f.composeEventHandlers)(e.onPointerDown,e=>{!a&&0===e.button&&!1===e.ctrlKey&&(o.onOpenToggle(),o.open||e.preventDefault())}),onKeyDown:(0,f.composeEventHandlers)(e.onKeyDown,e=>{!a&&(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});eJ.displayName=eY;var eZ=e=>{let{__scopeDropdownMenu:r,...n}=e,a=eU(r);return(0,t.jsx)(ea,{...a,...n})};eZ.displayName="DropdownMenuPortal";var e0="DropdownMenuContent",e1=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eW(e0,n),o=eU(n),i=h.useRef(!1);return(0,t.jsx)(el,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...a,ref:r,onCloseAutoFocus:(0,f.composeEventHandlers)(e.onCloseAutoFocus,e=>{i.current||s.triggerRef.current?.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:(0,f.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!s.modal||n)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});e1.displayName=e0;var e2=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(em,{...s,...a,ref:r})});e2.displayName="DropdownMenuGroup";var e4=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eh,{...s,...a,ref:r})});e4.displayName="DropdownMenuLabel";var e5=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eg,{...s,...a,ref:r})});e5.displayName="DropdownMenuItem";var e3=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(ey,{...s,...a,ref:r})});e3.displayName="DropdownMenuCheckboxItem";var e9=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(ek,{...s,...a,ref:r})});e9.displayName="DropdownMenuRadioGroup";var e6=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eN,{...s,...a,ref:r})});e6.displayName="DropdownMenuRadioItem";var e8=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eR,{...s,...a,ref:r})});e8.displayName="DropdownMenuItemIndicator";var e7=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eD,{...s,...a,ref:r})});e7.displayName="DropdownMenuSeparator";var te=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eP,{...s,...a,ref:r})});te.displayName="DropdownMenuArrow";var tt=e=>{let{__scopeDropdownMenu:r,children:n,open:a,onOpenChange:s,defaultOpen:o}=e,i=eU(r),[l,d]=(0,v.useControllableState)({prop:a,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return(0,t.jsx)(e_,{...i,open:l,onOpenChange:d,children:n})},tr=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eF,{...s,...a,ref:r})});tr.displayName="DropdownMenuSubTrigger";var tn=h.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,s=eU(n);return(0,t.jsx)(eL,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tn.displayName="DropdownMenuSubContent",e.s(["Arrow",()=>te,"CheckboxItem",()=>e3,"Content",()=>e1,"DropdownMenu",()=>eX,"DropdownMenuArrow",()=>te,"DropdownMenuCheckboxItem",()=>e3,"DropdownMenuContent",()=>e1,"DropdownMenuGroup",()=>e2,"DropdownMenuItem",()=>e5,"DropdownMenuItemIndicator",()=>e8,"DropdownMenuLabel",()=>e4,"DropdownMenuPortal",()=>eZ,"DropdownMenuRadioGroup",()=>e9,"DropdownMenuRadioItem",()=>e6,"DropdownMenuSeparator",()=>e7,"DropdownMenuSub",()=>tt,"DropdownMenuSubContent",()=>tn,"DropdownMenuSubTrigger",()=>tr,"DropdownMenuTrigger",()=>eJ,"Group",()=>e2,"Item",()=>e5,"ItemIndicator",()=>e8,"Label",()=>e4,"Portal",()=>eZ,"RadioGroup",()=>e9,"RadioItem",()=>e6,"Root",()=>eX,"Separator",()=>e7,"Sub",()=>tt,"SubContent",()=>tn,"SubTrigger",()=>tr,"Trigger",()=>eJ,"createDropdownMenuScope",()=>eG],65766);var ta=e.i(65766),ta=ta;function ts({...e}){return(0,t.jsx)(ta.Root,{"data-slot":"dropdown-menu",...e})}function to({...e}){return(0,t.jsx)(ta.Trigger,{"data-slot":"dropdown-menu-trigger",...e})}function ti({className:e,sideOffset:n=4,...a}){return(0,t.jsx)(ta.Portal,{children:(0,t.jsx)(ta.Content,{"data-slot":"dropdown-menu-content",sideOffset:n,className:(0,r.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...a})})}function tl({className:e,inset:n,variant:a="default",...s}){return(0,t.jsx)(ta.Item,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":a,className:(0,r.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function td({...e}){return(0,t.jsx)(ta.RadioGroup,{"data-slot":"dropdown-menu-radio-group",...e})}function tc({className:e,children:n,...a}){return(0,t.jsxs)(ta.RadioItem,{"data-slot":"dropdown-menu-radio-item",className:(0,r.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[(0,t.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(ta.ItemIndicator,{children:(0,t.jsx)(m.CircleIcon,{className:"size-2 fill-current"})})}),n]})}function tu({className:e,inset:n,...a}){return(0,t.jsx)(ta.Label,{"data-slot":"dropdown-menu-label","data-inset":n,className:(0,r.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...a})}function tp({className:e,...n}){return(0,t.jsx)(ta.Separator,{"data-slot":"dropdown-menu-separator",className:(0,r.cn)("bg-border -mx-1 my-1 h-px",e),...n})}function tm({collapsed:e}){let{theme:n,setTheme:a,resolvedTheme:o}=(0,i.useTheme)(),[l,m]=(0,h.useState)(!1);(0,h.useEffect)(()=>m(!0),[]);let f=e=>{document.documentElement.classList.add("theme-transition"),a(e),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},300)},x=l?"dark"===o?(0,t.jsx)(c,{className:"h-4 w-4"}):(0,t.jsx)(d,{className:"h-4 w-4"}):(0,t.jsx)(u,{className:"h-4 w-4"}),g=(0,t.jsx)(to,{asChild:!0,children:(0,t.jsxs)(p.Button,{variant:"ghost",size:"sm",className:(0,r.cn)("text-muted-foreground hover:text-sidebar-foreground",e?"w-9 h-9 justify-center px-0 mx-auto":"w-full justify-start"),children:[x,!e&&(0,t.jsx)("span",{className:"ml-2 text-xs capitalize",children:l?n||"system":"Theme"})]})});return(0,t.jsxs)(ts,{children:[e?(0,t.jsxs)(s.Tooltip,{delayDuration:0,children:[(0,t.jsx)(s.TooltipTrigger,{asChild:!0,children:g}),(0,t.jsx)(s.TooltipContent,{side:"right",sideOffset:8,children:"Theme"})]}):g,(0,t.jsxs)(ti,{align:e?"center":"start",side:e?"right":"top",children:[(0,t.jsxs)(tl,{onClick:()=>f("light"),className:"cursor-pointer",children:[(0,t.jsx)(d,{className:"mr-2 h-4 w-4"}),"Light"]}),(0,t.jsxs)(tl,{onClick:()=>f("dark"),className:"cursor-pointer",children:[(0,t.jsx)(c,{className:"mr-2 h-4 w-4"}),"Dark"]}),(0,t.jsxs)(tl,{onClick:()=>f("system"),className:"cursor-pointer",children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var th=e.i(63219),tf=e.i(39086),tx=e.i(13735);let tg=(0,l.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var tv=e.i(20828),ty=e.i(91642),tb=e.i(46472),tw=e.i(72837),tj=e.i(97468),tk=e.i(68363),tC=e.i(84631),tN=e.i(23442);let tM=(0,l.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),tE=(0,l.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var tS=e.i(1402);let tR=[{label:"Dashboard",href:"/",icon:tg,roles:["appraiser","supervisor","executive"]},{label:"My Parcels",href:"/parcels",icon:tv.Map,roles:["appraiser"],requiredModule:"core"},{label:"Parcels",href:"/parcels",icon:tv.Map,roles:["supervisor"],requiredModule:"core"},{label:"Parties",href:"/parties",icon:ty.Users,roles:["supervisor"],requiredModule:"core"},{label:"Calamity",href:"/calamity",icon:tb.Flame,roles:["appraiser","supervisor"],requiredModule:"sp-calamity"},{label:"Policies",href:"/policies",icon:tw.Scale,roles:["supervisor"],requiredModule:"core"},{label:"Reports",href:"/reports",icon:tj.FileBarChart,roles:["supervisor","executive"],requiredModule:"analytics"},{label:"AI Agents",href:"/ai-agents",icon:tk.Bot,roles:["supervisor","executive"]}];function tD({collapsed:e,onToggle:n,isMobile:a=!1}){let{user:s,logout:i}=(0,th.useAuth)(),{role:l}=(0,tf.useRole)(),{hasModule:d}=(0,tx.useTenant)(),c=tR.filter(e=>!!e.roles.includes(l)&&(!e.requiredModule||!!d(e.requiredModule)));return(0,t.jsxs)("div",{className:(0,r.cn)("flex h-full flex-col bg-sidebar border-r border-sidebar-border",!a&&"transition-[width] duration-200 ease-in-out",a?"w-[240px]":e?"w-[56px]":"w-[240px]"),children:[(0,t.jsx)("div",{className:(0,r.cn)("flex h-14 items-center border-b border-sidebar-border",e&&!a?"justify-center px-2":"px-4"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2.5 min-w-0",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary text-primary-foreground font-semibold text-sm",children:"MC"}),(0,t.jsx)("span",{className:(0,r.cn)("font-semibold text-sm tracking-tight text-sidebar-foreground truncate transition-opacity duration-200",e&&!a?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:"Madera County Assessor"})]})}),(0,t.jsxs)("nav",{className:"flex-1 py-3 px-2 space-y-0.5",children:[c.map(r=>(0,t.jsx)(o,{href:r.href,icon:r.icon,label:r.label,collapsed:e&&!a},r.label)),("supervisor"===l||"executive"===l)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"pt-2"}),(0,t.jsx)(o,{href:"/settings",icon:tE,label:"Settings",collapsed:e&&!a})]})]}),(0,t.jsx)(tS.Separator,{className:"mx-2"}),(0,t.jsxs)("div",{className:"p-2 space-y-1",children:[s&&!(e&&!a)&&(0,t.jsx)("div",{className:"px-2 py-1.5 mb-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-white text-[10px] font-semibold",style:{backgroundColor:s.avatarColor},children:s.avatar}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium truncate text-sidebar-foreground",children:s.name}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground truncate",children:s.title})]})]})}),(0,t.jsx)(tm,{collapsed:e&&!a}),(0,t.jsxs)(p.Button,{variant:"ghost",size:"sm",onClick:i,className:(0,r.cn)("w-full text-muted-foreground hover:text-destructive",e&&!a?"justify-center px-0":"justify-start"),children:[(0,t.jsx)(tM,{className:"h-4 w-4"}),!(e&&!a)&&(0,t.jsx)("span",{className:"text-xs ml-2",children:"Sign Out"})]}),!a&&(0,t.jsx)(p.Button,{variant:"ghost",size:"sm",onClick:n,className:(0,r.cn)("w-full text-muted-foreground hover:text-sidebar-foreground",e?"justify-center px-0":"justify-start"),children:e?(0,t.jsx)(tN.ChevronsRight,{className:"h-4 w-4"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tC.ChevronsLeft,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{className:"text-xs",children:"Collapse"})]})})]})]})}function tP({collapsed:e,onToggle:r}){let[n,a]=(0,h.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("aside",{className:"hidden md:flex h-full shrink-0",children:(0,t.jsx)(tD,{collapsed:e,onToggle:r})})})}var tT=e.i(21421);e.i(7205);var tI=e.i(78961);function tO({...e}){return(0,t.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function t_({className:e,...n}){return(0,t.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,r.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...n})}function tA({className:e,...n}){return(0,t.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,r.cn)("inline-flex items-center gap-1.5",e),...n})}function tF({asChild:e,className:n,...a}){let s=e?tI.Slot.Root:"a";return(0,t.jsx)(s,{"data-slot":"breadcrumb-link",className:(0,r.cn)("hover:text-foreground transition-colors",n),...a})}function tq({className:e,...n}){return(0,t.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("text-foreground font-normal",e),...n})}function tL({children:e,className:n,...a}){return(0,t.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:size-3.5",n),...a,children:e??(0,t.jsx)(tT.ChevronRight,{})})}let tz={parcels:"Parcels",parties:"Parties",calamity:"Calamity",policies:"Policies",incidents:"Incidents"};function tH(e){return tz[e]||e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function tK(){let e=(0,a.usePathname)();if("/"===e)return(0,t.jsx)(tO,{children:(0,t.jsx)(t_,{children:(0,t.jsx)(tA,{children:(0,t.jsx)(tq,{className:"text-sm font-medium",children:"Dashboard"})})})});let r=e.split("/").filter(Boolean);return(0,t.jsx)(tO,{children:(0,t.jsxs)(t_,{children:[(0,t.jsx)(tA,{children:(0,t.jsx)(tF,{asChild:!0,children:(0,t.jsx)(n.default,{href:"/",className:"text-sm",children:"Dashboard"})})}),r.map((e,a)=>{let s="/"+r.slice(0,a+1).join("/"),o=a===r.length-1,i=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e);return(0,t.jsxs)(h.Fragment,{children:[(0,t.jsx)(tL,{}),(0,t.jsx)(tA,{children:o?(0,t.jsx)(tq,{className:"text-sm font-medium max-w-[200px] truncate",children:i?"Detail":tH(e)}):(0,t.jsx)(tF,{asChild:!0,children:(0,t.jsx)(n.default,{href:s,className:"text-sm",children:i?"Detail":tH(e)})})})]},s)})]})})}var tQ=e.i(47994),tQ=tQ;function tB(){let{user:e,switchUser:r}=(0,th.useAuth)();return e?(0,t.jsxs)(ts,{children:[(0,t.jsx)(to,{asChild:!0,children:(0,t.jsxs)(p.Button,{variant:"ghost",size:"sm",className:"h-8 gap-1.5 text-xs font-medium text-muted-foreground hover:text-foreground",children:[(0,t.jsx)("div",{className:"flex h-5 w-5 shrink-0 items-center justify-center rounded-full text-white text-[9px] font-semibold",style:{backgroundColor:e.avatarColor},children:e.avatar}),(0,t.jsx)("span",{className:"hidden sm:inline",children:e.name}),(0,t.jsx)(tQ.default,{className:"h-3 w-3 opacity-50"})]})}),(0,t.jsxs)(ti,{align:"end",className:"w-[280px]",children:[(0,t.jsx)(tu,{className:"text-xs font-normal text-muted-foreground",children:"Switch demo account"}),(0,t.jsx)(tp,{}),(0,t.jsx)(td,{value:e.id,onValueChange:e=>r(e),children:th.DEMO_USERS.map(e=>(0,t.jsxs)(tc,{value:e.id,className:"flex items-start gap-2.5 py-2.5",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-white text-[10px] font-semibold mt-0.5",style:{backgroundColor:e.avatarColor},children:e.avatar}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,t.jsx)("span",{className:"block text-[11px] text-muted-foreground leading-snug",children:e.title})]})]},e.id))})]})]}):null}let t$=(0,l.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var tG=e.i(11328),tU=e.i(33477),tV=e.i(39931);function tW({...e}){return(0,t.jsx)(tV.Dialog.Root,{"data-slot":"sheet",...e})}function tX({...e}){return(0,t.jsx)(tV.Dialog.Trigger,{"data-slot":"sheet-trigger",...e})}function tY({...e}){return(0,t.jsx)(tV.Dialog.Portal,{"data-slot":"sheet-portal",...e})}function tJ({className:e,...n}){return(0,t.jsx)(tV.Dialog.Overlay,{"data-slot":"sheet-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n})}function tZ({className:e,children:n,side:a="right",showCloseButton:s=!0,...o}){return(0,t.jsxs)(tY,{children:[(0,t.jsx)(tJ,{}),(0,t.jsxs)(tV.Dialog.Content,{"data-slot":"sheet-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===a&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===a&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===a&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===a&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...o,children:[n,s&&(0,t.jsxs)(tV.Dialog.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(tU.XIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function t0({className:e,...n}){return(0,t.jsx)(tV.Dialog.Title,{"data-slot":"sheet-title",className:(0,r.cn)("text-foreground font-semibold",e),...n})}let t1=[{label:"Dashboard",href:"/",icon:tg,roles:["appraiser","supervisor","executive"]},{label:"My Parcels",href:"/parcels",icon:tv.Map,roles:["appraiser"]},{label:"Parcels",href:"/parcels",icon:tv.Map,roles:["supervisor"]},{label:"Parties",href:"/parties",icon:ty.Users,roles:["supervisor"]},{label:"Calamity",href:"/calamity",icon:tb.Flame,roles:["appraiser","supervisor"]},{label:"Policies",href:"/policies",icon:tw.Scale,roles:["supervisor"]},{label:"Reports",href:"/reports",icon:tj.FileBarChart,roles:["supervisor","executive"]},{label:"AI Agents",href:"/ai-agents",icon:tk.Bot,roles:["supervisor","executive"]}];function t2({sidebarCollapsed:e,onSidebarToggle:r,onCommandOpen:n}){let[a,s]=(0,h.useState)(!1),{role:i}=(0,tf.useRole)(),{user:l,logout:d}=(0,th.useAuth)(),c=t1.filter(e=>e.roles.includes(i));return(0,t.jsxs)("header",{className:"flex h-14 shrink-0 items-center border-b border-border bg-background/80 backdrop-blur-sm px-4 lg:px-6",children:[(0,t.jsxs)(tW,{open:a,onOpenChange:s,children:[(0,t.jsx)(tX,{asChild:!0,children:(0,t.jsxs)(p.Button,{variant:"ghost",size:"icon",className:"md:hidden mr-2 h-8 w-8",children:[(0,t.jsx)(t$,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle sidebar"})]})}),(0,t.jsxs)(tZ,{side:"left",className:"p-0 w-fit",children:[(0,t.jsx)(t0,{className:"sr-only",children:"Navigation"}),(0,t.jsxs)("div",{className:"flex h-full flex-col bg-sidebar border-r border-sidebar-border w-[240px]",children:[(0,t.jsx)("div",{className:"flex h-14 items-center border-b border-sidebar-border px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary text-primary-foreground font-semibold text-sm",children:"MC"}),(0,t.jsx)("span",{className:"font-semibold text-sm tracking-tight",children:"Madera County Assessor"})]})}),(0,t.jsx)("nav",{className:"flex-1 py-3 px-2 space-y-0.5",children:c.map(e=>(0,t.jsx)(o,{href:e.href,icon:e.icon,label:e.label,collapsed:!1},e.label))}),(0,t.jsx)(tS.Separator,{className:"mx-2"}),l&&(0,t.jsx)("div",{className:"px-4 py-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-white text-[10px] font-semibold",style:{backgroundColor:l.avatarColor},children:l.avatar}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium truncate",children:l.name}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground truncate",children:l.title})]})]})}),(0,t.jsxs)("div",{className:"p-2 space-y-1",children:[(0,t.jsx)(tm,{collapsed:!1}),(0,t.jsxs)(p.Button,{variant:"ghost",size:"sm",onClick:d,className:"w-full justify-start text-muted-foreground hover:text-destructive",children:[(0,t.jsx)(tM,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-xs ml-2",children:"Sign Out"})]})]})]})]})]}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)(tK,{})}),(0,t.jsx)(tB,{}),(0,t.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:n,className:"hidden sm:flex items-center gap-2 text-muted-foreground hover:text-foreground h-8 px-3 text-xs",children:[(0,t.jsx)(tG.Search,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{children:"Search..."}),(0,t.jsxs)("kbd",{className:"pointer-events-none ml-2 inline-flex h-5 items-center gap-0.5 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-xs",children:""}),"K"]})]}),(0,t.jsxs)(p.Button,{variant:"ghost",size:"icon",onClick:n,className:"sm:hidden h-8 w-8",children:[(0,t.jsx)(tG.Search,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Search"})]})]})}var t4=/[\\\/_+.#"@\[\(\{&]/,t5=/[\\\/_+.#"@\[\(\{&]/g,t3=/[\s-]/,t9=/[\s-]/g;function t6(e){return e.toLowerCase().replace(t9," ")}var t8=e.i(71135),t7=Symbol.for("react.lazy"),re=h[" use ".trim().toString()];function rt(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===t7&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var rr=Symbol("radix.slottable");function rn(e){return h.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===rr}var ra=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var n,a;let s,o,i,l=(a=n=`Primitive.${r}`,(s=h.forwardRef((e,t)=>{let{children:r,...n}=e;if(rt(r)&&"function"==typeof re&&(r=re(r._payload)),h.isValidElement(r)){var a;let e,s,o=(a=r,(s=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(s=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),i=function(e,t){let r={...t};for(let n in t){let a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...s}:"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==h.Fragment&&(i.ref=t?(0,x.composeRefs)(t,o):o),h.cloneElement(r,i)}return h.Children.count(r)>1?h.Children.only(null):null})).displayName=`${a}.SlotClone`,o=s,(i=h.forwardRef((e,r)=>{let{children:n,...a}=e;rt(n)&&"function"==typeof re&&(n=re(n._payload));let s=h.Children.toArray(n),i=s.find(rn);if(i){let e=i.props.children,n=s.map(t=>t!==i?t:h.Children.count(e)>1?h.Children.only(null):h.isValidElement(e)?e.props.children:null);return(0,t.jsx)(o,{...a,ref:r,children:h.isValidElement(e)?h.cloneElement(e,void 0,n):null})}return(0,t.jsx)(o,{...a,ref:r,children:n})})).displayName=`${n}.Slot`,i),d=h.forwardRef((e,n)=>{let{asChild:a,...s}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?l:r,{...s,ref:n})});return d.displayName=`Primitive.${r}`,{...e,[r]:d}},{}),rs='[cmdk-group=""]',ro='[cmdk-group-items=""]',ri='[cmdk-item=""]',rl=`${ri}:not([aria-disabled="true"])`,rd="cmdk-item-select",rc="data-value",ru=(e,t,r)=>{var n;return n=e,function e(t,r,n,a,s,o,i){if(o===r.length)return s===t.length?1:.99;var l=`${s},${o}`;if(void 0!==i[l])return i[l];for(var d,c,u,p,m=a.charAt(o),h=n.indexOf(m,s),f=0;h>=0;)(d=e(t,r,n,a,h+1,o+1,i))>f&&(h===s?d*=1:t4.test(t.charAt(h-1))?(d*=.8,(u=t.slice(s,h-1).match(t5))&&s>0&&(d*=Math.pow(.999,u.length))):t3.test(t.charAt(h-1))?(d*=.9,(p=t.slice(s,h-1).match(t9))&&s>0&&(d*=Math.pow(.999,p.length))):(d*=.17,s>0&&(d*=Math.pow(.999,h-s))),t.charAt(h)!==r.charAt(o)&&(d*=.9999)),(d<.1&&n.charAt(h-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&n.charAt(h-1)!==a.charAt(o))&&.1*(c=e(t,r,n,a,h+1,o+2,i))>d&&(d=.1*c),d>f&&(f=d),h=n.indexOf(m,h+1);return i[l]=f,f}(n=r&&r.length>0?`${n+" "+r.join(" ")}`:n,t,t6(n),t6(t),0,0,{})},rp=h.createContext(void 0),rm=h.createContext(void 0),rh=h.createContext(void 0),rf=h.forwardRef((e,t)=>{let r=rN(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=rN(()=>new Set),a=rN(()=>new Map),s=rN(()=>new Map),o=rN(()=>new Set),i=rk(e),{label:l,children:d,value:c,onValueChange:u,filter:p,shouldFilter:m,loop:f,disablePointerSelection:x=!1,vimBindings:g=!0,...v}=e,y=(0,E.useId)(),b=(0,E.useId)(),w=(0,E.useId)(),j=h.useRef(null),k=rS();rC(()=>{if(void 0!==c){let e=c.trim();r.current.value=e,C.emit()}},[c]),rC(()=>{k(6,P)},[]);let C=h.useMemo(()=>({subscribe:e=>(o.current.add(e),()=>o.current.delete(e)),snapshot:()=>r.current,setState:(e,t,n)=>{var a,s,o,l;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)D(),S(),k(1,R);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(w);e?e.focus():null==(a=document.getElementById(y))||a.focus()}if(k(7,()=>{var e;r.current.selectedItemId=null==(e=T())?void 0:e.id,C.emit()}),n||k(5,P),(null==(s=i.current)?void 0:s.value)!==void 0){null==(l=(o=i.current).onValueChange)||l.call(o,null!=t?t:"");return}}C.emit()}},emit:()=>{o.current.forEach(e=>e())}}),[]),N=h.useMemo(()=>({value:(e,t,n)=>{var a;t!==(null==(a=s.current.get(e))?void 0:a.value)&&(s.current.set(e,{value:t,keywords:n}),r.current.filtered.items.set(e,M(t,n)),k(2,()=>{S(),C.emit()}))},item:(e,t)=>(n.current.add(e),t&&(a.current.has(t)?a.current.get(t).add(e):a.current.set(t,new Set([e]))),k(3,()=>{D(),S(),r.current.value||R(),C.emit()}),()=>{s.current.delete(e),n.current.delete(e),r.current.filtered.items.delete(e);let t=T();k(4,()=>{D(),(null==t?void 0:t.getAttribute("id"))===e&&R(),C.emit()})}),group:e=>(a.current.has(e)||a.current.set(e,new Set),()=>{s.current.delete(e),a.current.delete(e)}),filter:()=>i.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:y,inputId:w,labelId:b,listInnerRef:j}),[]);function M(e,t){var n,a;let s=null!=(a=null==(n=i.current)?void 0:n.filter)?a:ru;return e?s(e,r.current.search,t):0}function S(){if(!r.current.search||!1===i.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let n=a.current.get(r),s=0;n.forEach(t=>{s=Math.max(e.get(t),s)}),t.push([r,s])});let n=j.current;I().sort((t,r)=>{var n,a;let s=t.getAttribute("id"),o=r.getAttribute("id");return(null!=(n=e.get(o))?n:0)-(null!=(a=e.get(s))?a:0)}).forEach(e=>{let t=e.closest(ro);t?t.appendChild(e.parentElement===t?e:e.closest(`${ro} > *`)):n.appendChild(e.parentElement===n?e:e.closest(`${ro} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=j.current)?void 0:t.querySelector(`${rs}[${rc}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function R(){let e=I().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(rc);C.setState("value",t||void 0)}function D(){var e,t,o,l;if(!r.current.search||!1===i.current.shouldFilter){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let d=0;for(let a of n.current){let n=M(null!=(t=null==(e=s.current.get(a))?void 0:e.value)?t:"",null!=(l=null==(o=s.current.get(a))?void 0:o.keywords)?l:[]);r.current.filtered.items.set(a,n),n>0&&d++}for(let[e,t]of a.current)for(let n of t)if(r.current.filtered.items.get(n)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=d}function P(){var e,t,r;let n=T();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(rs))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function T(){var e;return null==(e=j.current)?void 0:e.querySelector(`${ri}[aria-selected="true"]`)}function I(){var e;return Array.from((null==(e=j.current)?void 0:e.querySelectorAll(rl))||[])}function O(e){let t=I()[e];t&&C.setState("value",t.getAttribute(rc))}function _(e){var t;let r=T(),n=I(),a=n.findIndex(e=>e===r),s=n[a+e];null!=(t=i.current)&&t.loop&&(s=a+e<0?n[n.length-1]:a+e===n.length?n[0]:n[a+e]),s&&C.setState("value",s.getAttribute(rc))}function A(e){let t=T(),r=null==t?void 0:t.closest(rs),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,rs):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,rs))?void 0:r.querySelector(rl);n?C.setState("value",n.getAttribute(rc)):_(e)}let F=()=>O(I().length-1),q=e=>{e.preventDefault(),e.metaKey?F():e.altKey?A(1):_(1)},L=e=>{e.preventDefault(),e.metaKey?O(0):e.altKey?A(-1):_(-1)};return h.createElement(ra.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=v.onKeyDown)||t.call(v,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":g&&e.ctrlKey&&q(e);break;case"ArrowDown":q(e);break;case"p":case"k":g&&e.ctrlKey&&L(e);break;case"ArrowUp":L(e);break;case"Home":e.preventDefault(),O(0);break;case"End":e.preventDefault(),F();break;case"Enter":{e.preventDefault();let t=T();if(t){let e=new Event(rd);t.dispatchEvent(e)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:rD},l),rR(e,e=>h.createElement(rm.Provider,{value:C},h.createElement(rp.Provider,{value:N},e))))}),rx=h.forwardRef((e,t)=>{var r,n;let a=(0,E.useId)(),s=h.useRef(null),o=h.useContext(rh),i=h.useContext(rp),l=rk(e),d=null!=(n=null==(r=l.current)?void 0:r.forceMount)?n:null==o?void 0:o.forceMount;rC(()=>{if(!d)return i.item(a,null==o?void 0:o.id)},[d]);let c=rE(a,s,[e.value,e.children,s],e.keywords),u=h.useContext(rm),p=rM(e=>e.value&&e.value===c.current),m=rM(e=>!!d||!1===i.filter()||!e.search||e.filtered.items.get(a)>0);function f(){var e,t;g(),null==(t=(e=l.current).onSelect)||t.call(e,c.current)}function g(){u.setState("value",c.current,!0)}if(h.useEffect(()=>{let t=s.current;if(!(!t||e.disabled))return t.addEventListener(rd,f),()=>t.removeEventListener(rd,f)},[m,e.onSelect,e.disabled]),!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:w,keywords:j,...k}=e;return h.createElement(ra.div,{ref:(0,x.composeRefs)(s,t),...k,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||i.getDisablePointerSelection()?void 0:g,onClick:v?void 0:f},e.children)}),rg=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=(0,E.useId)(),i=h.useRef(null),l=h.useRef(null),d=(0,E.useId)(),c=h.useContext(rp),u=rM(e=>!!a||!1===c.filter()||!e.search||e.filtered.groups.has(o));rC(()=>c.group(o),[]),rE(o,i,[e.value,e.heading,l]);let p=h.useMemo(()=>({id:o,forceMount:a}),[a]);return h.createElement(ra.div,{ref:(0,x.composeRefs)(i,t),...s,"cmdk-group":"",role:"presentation",hidden:!u||void 0},r&&h.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),rR(e,e=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},h.createElement(rh.Provider,{value:p},e))))}),rv=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=h.useRef(null),s=rM(e=>!e.search);return r||s?h.createElement(ra.div,{ref:(0,x.composeRefs)(a,t),...n,"cmdk-separator":"",role:"separator"}):null}),ry=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=null!=e.value,s=h.useContext(rm),o=rM(e=>e.search),i=rM(e=>e.selectedItemId),l=h.useContext(rp);return h.useEffect(()=>{null!=e.value&&s.setState("search",e.value)},[e.value]),h.createElement(ra.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":i,id:l.inputId,type:"text",value:a?e.value:o,onChange:e=>{a||s.setState("search",e.target.value),null==r||r(e.target.value)}})}),rb=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=h.useRef(null),o=h.useRef(null),i=rM(e=>e.selectedItemId),l=h.useContext(rp);return h.useEffect(()=>{if(o.current&&s.current){let e=o.current,t=s.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),h.createElement(ra.div,{ref:(0,x.composeRefs)(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":n,id:l.listId},rR(e,e=>h.createElement("div",{ref:(0,x.composeRefs)(o,l.listInnerRef),"cmdk-list-sizer":""},e)))}),rw=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...i}=e;return h.createElement(t8.Root,{open:r,onOpenChange:n},h.createElement(t8.Portal,{container:o},h.createElement(t8.Overlay,{"cmdk-overlay":"",className:a}),h.createElement(t8.Content,{"aria-label":e.label,"cmdk-dialog":"",className:s},h.createElement(rf,{ref:t,...i}))))}),rj=Object.assign(rf,{List:rb,Item:rx,Input:ry,Group:rg,Separator:rv,Dialog:rw,Empty:h.forwardRef((e,t)=>rM(e=>0===e.filtered.count)?h.createElement(ra.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:h.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return h.createElement(ra.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},rR(e,e=>h.createElement("div",{"aria-hidden":!0},e)))})});function rk(e){let t=h.useRef(e);return rC(()=>{t.current=e}),t}var rC="u"<typeof window?h.useEffect:h.useLayoutEffect;function rN(e){let t=h.useRef();return void 0===t.current&&(t.current=e()),t}function rM(e){let t=h.useContext(rm),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function rE(e,t,r,n=[]){let a=h.useRef(),s=h.useContext(rp);return rC(()=>{var o;let i=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():a.current}})(),l=n.map(e=>e.trim());s.value(e,i,l),null==(o=t.current)||o.setAttribute(rc,i),a.current=i}),a}var rS=()=>{let[e,t]=h.useState(),r=rN(()=>new Map);return rC(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}};function rR({asChild:e,children:t},r){let n;return e&&h.isValidElement(t)?h.cloneElement("function"==typeof(n=t.type)?n(t.props):"render"in n?n.render(t.props):t,{ref:t.ref},r(t.props.children)):r(t)}var rD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},rP=e.i(51057),rP=rP,rT=e.i(65597);function rI({className:e,...n}){return(0,t.jsx)(rj,{"data-slot":"command",className:(0,r.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...n})}function rO({title:e="Command Palette",description:n="Search for a command to run...",children:a,className:s,showCloseButton:o=!0,...i}){return(0,t.jsxs)(rT.Dialog,{...i,children:[(0,t.jsxs)(rT.DialogHeader,{className:"sr-only",children:[(0,t.jsx)(rT.DialogTitle,{children:e}),(0,t.jsx)(rT.DialogDescription,{children:n})]}),(0,t.jsx)(rT.DialogContent,{className:(0,r.cn)("overflow-hidden p-0",s),showCloseButton:o,children:(0,t.jsx)(rI,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:a})})]})}function r_({className:e,...n}){return(0,t.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,t.jsx)(rP.default,{className:"size-4 shrink-0 opacity-50"}),(0,t.jsx)(rj.Input,{"data-slot":"command-input",className:(0,r.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...n})]})}function rA({className:e,...n}){return(0,t.jsx)(rj.List,{"data-slot":"command-list",className:(0,r.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...n})}function rF({...e}){return(0,t.jsx)(rj.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function rq({className:e,...n}){return(0,t.jsx)(rj.Group,{"data-slot":"command-group",className:(0,r.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...n})}function rL({className:e,...n}){return(0,t.jsx)(rj.Separator,{"data-slot":"command-separator",className:(0,r.cn)("bg-border -mx-1 h-px",e),...n})}function rz({className:e,...n}){return(0,t.jsx)(rj.Item,{"data-slot":"command-item",className:(0,r.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}let rH=[{label:"Dashboard",href:"/",icon:tg,keywords:["home","overview"]},{label:"Parcels",href:"/parcels",icon:tv.Map,keywords:["properties","land","apn"]},{label:"Parties",href:"/parties",icon:ty.Users,keywords:["owners","people","entities"]},{label:"Calamity",href:"/calamity",icon:tb.Flame,keywords:["incidents","disaster","wildfire","flood"]},{label:"Policies",href:"/policies",icon:tw.Scale,keywords:["rules","engine","flags"]},{label:"Reports",href:"/reports",icon:tj.FileBarChart,keywords:["report","board","summary","export"]}];function rK({open:e,onOpenChange:r}){let n=(0,a.useRouter)(),{setTheme:s}=(0,i.useTheme)(),o=e=>{document.documentElement.classList.add("theme-transition"),s(e),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},300),r(!1)};return(0,t.jsxs)(rO,{open:e,onOpenChange:r,children:[(0,t.jsx)(r_,{placeholder:"Type a command or search..."}),(0,t.jsxs)(rA,{children:[(0,t.jsx)(rF,{children:"No results found."}),(0,t.jsx)(rq,{heading:"Navigation",children:rH.map(e=>(0,t.jsxs)(rz,{value:`${e.label} ${e.keywords.join(" ")}`,onSelect:()=>{var t;return t=e.href,void(r(!1),n.push(t))},className:"cursor-pointer",children:[(0,t.jsx)(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{children:e.label})]},e.href))}),(0,t.jsx)(rL,{}),(0,t.jsxs)(rq,{heading:"Theme",children:[(0,t.jsxs)(rz,{value:"light theme",onSelect:()=>o("light"),className:"cursor-pointer",children:[(0,t.jsx)(d,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{children:"Light Mode"})]}),(0,t.jsxs)(rz,{value:"dark theme",onSelect:()=>o("dark"),className:"cursor-pointer",children:[(0,t.jsx)(c,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{children:"Dark Mode"})]}),(0,t.jsxs)(rz,{value:"system theme auto",onSelect:()=>o("system"),className:"cursor-pointer",children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{children:"System Theme"})]})]})]})]})}let rQ=[{group:"Navigation",items:[{keys:["g","d"],description:"Go to Dashboard"},{keys:["g","p"],description:"Go to Parcels"},{keys:["g","a"],description:"Go to Parties"},{keys:["g","c"],description:"Go to Calamity"},{keys:["g","o"],description:"Go to Policies"}]},{group:"Actions",items:[{keys:["","K"],description:"Open command palette"},{keys:["/"],description:"Focus search"},{keys:["Esc"],description:"Go back / Close"},{keys:["?"],description:"Show keyboard shortcuts"}]}];function rB({open:e,onOpenChange:r}){return(0,t.jsx)(rT.Dialog,{open:e,onOpenChange:r,children:(0,t.jsxs)(rT.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsx)(rT.DialogHeader,{children:(0,t.jsx)(rT.DialogTitle,{children:"Keyboard Shortcuts"})}),(0,t.jsx)("div",{className:"space-y-6 py-4",children:rQ.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-3",children:e.group}),(0,t.jsx)("div",{className:"space-y-2",children:e.items.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.description}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:e.keys.map((e,r)=>(0,t.jsxs)("span",{children:[r>0&&(0,t.jsx)("span",{className:"text-muted-foreground text-xs mx-0.5",children:"then"}),(0,t.jsx)("kbd",{className:"inline-flex h-6 min-w-6 items-center justify-center rounded border bg-muted px-1.5 font-mono text-xs font-medium",children:e})]},r))})]},e.description))})]},e.group))})]})})}let r$={d:"/",p:"/parcels",a:"/parties",c:"/calamity",o:"/policies"},rG="calprop-feedback",rU=(0,l.default)("message-square-plus",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]]),rV=(0,l.default)("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),rW=(0,l.default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),rX=(0,l.default)("mouse-pointer-click",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]),rY=(0,l.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),rJ=(0,l.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),rZ=(0,l.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var r0=e.i(83434);let r1=(0,l.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),r2=(0,l.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),r4=(0,l.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var r5=e.i(77393),r3=e.i(61695),r9=e.i(69501);let r6=[{value:"bug",label:"Bug",icon:rV,color:"text-destructive"},{value:"feature",label:"Feature",icon:rW,color:"text-info"},{value:"ux",label:"UX Issue",icon:rX,color:"text-warning"},{value:"general",label:"General",icon:rY,color:"text-muted-foreground"},{value:"compliment",label:"Love it!",icon:rJ,color:"text-pink-500"}];function r8(){let{user:e}=(0,th.useAuth)(),{role:r}=(0,tf.useRole)(),n=(0,a.usePathname)(),[s,o]=(0,h.useState)(!1),[i,l]=(0,h.useState)(!1),[d,c]=(0,h.useState)(!1),[u,m]=(0,h.useState)("general"),[f,x]=(0,h.useState)(""),[g,v]=(0,h.useState)(null),[y,b]=(0,h.useState)([]),[w,j]=(0,h.useState)(!1),k=(0,h.useRef)(null),C=(0,h.useCallback)(()=>{m("general"),x(""),v(null),b([]),l(!1)},[]),N=(0,h.useCallback)(()=>{o(!1),setTimeout(C,300)},[C]),M=(0,h.useCallback)(async e=>{for(let t of Array.from(e)){if(t.size>5242880){r9.toast.error(`${t.name} is too large (max 5MB)`);continue}try{let e=await function(e){return new Promise((t,r)=>{let n=new FileReader;n.onload=()=>{t({name:e.name,type:e.type,size:e.size,dataUrl:n.result})},n.onerror=r,n.readAsDataURL(e)})}(t);b(t=>[...t,e])}catch{r9.toast.error(`Failed to read ${t.name}`)}}},[]),E=(0,h.useCallback)(e=>{e.preventDefault(),j(!0)},[]),S=(0,h.useCallback)(e=>{e.preventDefault(),j(!1)},[]),R=(0,h.useCallback)(e=>{e.preventDefault(),j(!1),e.dataTransfer.files.length>0&&M(e.dataTransfer.files)},[M]),D=(0,h.useCallback)(e=>{b(t=>t.filter((t,r)=>r!==e))},[]),P=(0,h.useCallback)(async()=>{if(!f.trim())return void r9.toast.error("Please enter your feedback");c(!0);let t={type:u,message:f.trim(),page:n,rating:g,userName:e?.name||"Unknown",userRole:r,attachments:y};try{let e=await fetch("https://calprop-feedback.jcjdoss.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error(`API error: ${e.status}`);l(!0),r9.toast.success("Feedback submitted! Thank you.",{description:`Your ${"bug"===u?"bug report":"feedback"} has been recorded.`})}catch{var a;let t;a={id:`fb-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,type:u,message:f.trim(),page:n,rating:g,userName:e?.name||"Unknown",userRole:r,attachments:y,timestamp:new Date().toISOString(),synced:!1},(t=function(){try{let e=localStorage.getItem(rG);return e?JSON.parse(e):[]}catch{return[]}}()).push(a),localStorage.setItem(rG,JSON.stringify(t)),l(!0),r9.toast.success("Feedback saved locally.",{description:"It will sync when the server is available."})}finally{c(!1)}},[f,u,n,g,e,r,y]);return e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>o(!0),className:"fixed bottom-20 right-4 z-50 flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg hover:shadow-xl transition-all hover:scale-105 active:scale-95 print:hidden sm:bottom-6 sm:right-6",title:"Send feedback",children:(0,t.jsx)(rU,{className:"h-5 w-5"})}),s&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 animate-in fade-in-0 duration-200",onClick:N}),(0,t.jsx)("div",{className:`
              absolute bg-background shadow-xl animate-in duration-200
              inset-x-0 bottom-0 max-h-[92vh] rounded-t-2xl slide-in-from-bottom-4
              sm:inset-auto sm:top-[50%] sm:left-[50%] sm:translate-x-[-50%] sm:translate-y-[-50%]
              sm:max-w-[480px] sm:w-full sm:rounded-xl sm:max-h-[85vh] sm:slide-in-from-bottom-0 sm:zoom-in-95
            `,children:i?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-6",children:[(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-success/10 text-success mb-4",children:(0,t.jsx)(r5.CheckCircle2,{className:"h-8 w-8"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Thank you!"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1 text-center",children:"Your feedback has been recorded and will be reviewed by the development team."}),(0,t.jsx)(p.Button,{onClick:N,className:"mt-6",size:"default",children:"Close"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 pb-0 sm:p-5 sm:pb-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Send Feedback"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Help us improve CalProp  ",e.name," (",r,")"]})]}),(0,t.jsx)("button",{onClick:N,className:"flex h-8 w-8 items-center justify-center rounded-full hover:bg-muted transition-colors -mr-1",children:(0,t.jsx)(r0.X,{className:"h-4 w-4 text-muted-foreground"})})]}),(0,t.jsx)("div",{className:"flex justify-center pt-0 pb-2 sm:hidden",children:(0,t.jsx)("div",{className:"h-1 w-8 rounded-full bg-muted-foreground/20"})}),(0,t.jsx)("div",{className:"overflow-y-auto overscroll-contain px-4 pb-4 sm:px-5 sm:pb-5 max-h-[calc(92vh-80px)] sm:max-h-[calc(85vh-80px)]",children:(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-2.5 block",children:"What type of feedback?"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r6.map(e=>{let r=e.icon,n=u===e.value;return(0,t.jsxs)("button",{onClick:()=>m(e.value),className:`flex items-center gap-2 rounded-xl border px-4 py-2.5 text-sm font-medium transition-colors touch-manipulation ${n?"border-primary bg-primary/5 text-primary":"border-border hover:bg-muted/50 text-muted-foreground active:bg-muted"}`,children:[(0,t.jsx)(r,{className:`h-4 w-4 ${n?"text-primary":e.color}`}),e.label]},e.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-2.5 block",children:"How would you rate this experience?"}),(0,t.jsxs)("div",{className:"flex gap-1.5",children:[[1,2,3,4,5].map(e=>(0,t.jsx)("button",{onClick:()=>v(g===e?null:e),className:"p-1.5 transition-transform hover:scale-110 active:scale-95 touch-manipulation",children:(0,t.jsx)(rZ,{className:`h-8 w-8 sm:h-7 sm:w-7 transition-colors ${g&&e<=g?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},e)),g&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground self-center ml-2",children:[g,"/5"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-2.5 block",children:"Your feedback"}),(0,t.jsx)("textarea",{value:f,onChange:e=>x(e.target.value),placeholder:"bug"===u?"Describe the bug  what happened and what did you expect?":"feature"===u?"What feature would help you work more efficiently?":"ux"===u?"What felt confusing or difficult to use?":"compliment"===u?"What do you love about CalProp?":"Share your thoughts...",rows:4,className:"w-full rounded-xl border border-input bg-background px-4 py-3 text-base sm:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-xs font-medium text-muted-foreground mb-2.5 block",children:["Attachments",(0,t.jsx)("span",{className:"font-normal text-muted-foreground/70 ml-1",children:"(optional)"})]}),(0,t.jsxs)("div",{onDragOver:E,onDragLeave:S,onDrop:R,onClick:()=>k.current?.click(),className:`rounded-xl border-2 border-dashed p-5 text-center cursor-pointer transition-colors touch-manipulation ${w?"border-primary bg-primary/5":"border-muted-foreground/20 hover:border-muted-foreground/40 active:bg-muted/30"}`,children:[(0,t.jsx)(r3.Upload,{className:"h-6 w-6 mx-auto text-muted-foreground/50 mb-2"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tap to upload files or photos"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Images, PDFs, docs  max 5MB each"})]}),(0,t.jsx)("input",{ref:k,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt,.csv,.xlsx",className:"hidden",onChange:e=>{e.target.files&&M(e.target.files),e.target.value=""}}),y.length>0&&(0,t.jsx)("div",{className:"mt-2 space-y-2",children:y.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border bg-muted/30 px-4 py-3",children:[e.type.startsWith("image/")?(0,t.jsx)(r1,{className:"h-4 w-4 text-info shrink-0"}):(0,t.jsx)(r2,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,t.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground shrink-0",children:[(e.size/1024).toFixed(0)," KB"]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),D(r)},className:"shrink-0 p-1.5 rounded-full hover:bg-muted active:bg-muted touch-manipulation",children:(0,t.jsx)(r0.X,{className:"h-4 w-4 text-muted-foreground"})})]},r))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground/60",children:[(0,t.jsxs)("span",{children:["Page: ",n]}),(0,t.jsx)("span",{children:""}),(0,t.jsxs)("span",{children:["Role: ",r]})]}),(0,t.jsxs)("div",{className:"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end pt-1 pb-2",children:[(0,t.jsx)(p.Button,{variant:"ghost",size:"lg",onClick:N,className:"sm:h-9 sm:px-4 sm:text-sm",children:"Cancel"}),(0,t.jsx)(p.Button,{size:"lg",onClick:P,disabled:!f.trim()||d,className:"gap-2 sm:h-9 sm:px-4 sm:text-sm",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Sending..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r4,{className:"h-4 w-4"}),"Submit Feedback"]})})]})]})})]})})]})]}):null}var r7=e.i(5408);function ne({children:e}){let r,{isAuthenticated:n}=(0,th.useAuth)(),[s,o]=(0,h.useState)(!1),[i,l]=(0,h.useState)(!1),[d,c]=(0,h.useState)(!1);return(r=(0,a.useRouter)(),(0,h.useEffect)(()=>{let e,t=!1,n=n=>{let a=n.target;if("INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&!a.isContentEditable){if("?"===n.key)return void n.preventDefault();if("/"===n.key){n.preventDefault();let e=document.querySelector('input[placeholder*="Search"]');e&&e.focus();return}if("g"===n.key&&!n.metaKey&&!n.ctrlKey){t=!0,clearTimeout(e),e=setTimeout(()=>{t=!1},500);return}if(t){let a=r$[n.key];a&&(n.preventDefault(),r.push(a)),t=!1,clearTimeout(e)}"Escape"===n.key&&(document.querySelector('[role="dialog"]')||r.back())}};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n),clearTimeout(e)}},[r]),(0,h.useEffect)(()=>{let e=localStorage.getItem("sidebar-collapsed");null!==e&&o("true"===e)},[]),(0,h.useEffect)(()=>{localStorage.setItem("sidebar-collapsed",String(s))},[s]),(0,h.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),l(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),n)?(0,t.jsxs)("div",{className:"flex h-screen overflow-hidden bg-background",children:[(0,t.jsx)(tP,{collapsed:s,onToggle:()=>o(!s)}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,t.jsx)(t2,{sidebarCollapsed:s,onSidebarToggle:()=>o(!s),onCommandOpen:()=>l(!0)}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto px-6 py-6 lg:px-8",children:(0,t.jsx)("div",{className:"mx-auto max-w-7xl",children:e})})]}),(0,t.jsx)(rK,{open:i,onOpenChange:l}),(0,t.jsx)(rB,{open:d,onOpenChange:c}),(0,t.jsx)(r8,{})]}):(0,t.jsx)(r7.default,{})}e.s(["Shell",()=>ne],79455)}]);