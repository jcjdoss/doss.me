(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79001,e=>{"use strict";var t=e.i(59834),r=e.i(22513);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>n,"CardHeader",()=>s,"CardTitle",()=>i])},93749,e=>{"use strict";var t=e.i(59834),r=e.i(80612),a=e.i(22513);function s({className:e}){return(0,t.jsxs)("div",{className:(0,a.cn)("rounded-xl border bg-card p-6 shadow-sm space-y-4",e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Skeleton,{className:"h-4 w-4 rounded"}),(0,t.jsx)(r.Skeleton,{className:"h-4 w-24"})]}),(0,t.jsx)(r.Skeleton,{className:"h-8 w-20"}),(0,t.jsx)(r.Skeleton,{className:"h-3 w-32"})]})}function i({className:e}){return(0,t.jsxs)("div",{className:(0,a.cn)("space-y-6",e),children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.Skeleton,{className:"h-8 w-64"}),(0,t.jsx)(r.Skeleton,{className:"h-4 w-40"})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsx)(s,{}),(0,t.jsx)(s,{})]})]})}e.s(["CardSkeleton",()=>s,"DetailSkeleton",()=>i])},43970,83685,e=>{"use strict";var t=e.i(94325);let r=(0,t.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],43970);let a=(0,t.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],83685)},41868,e=>{"use strict";var t=e.i(59834),r=e.i(22513);function a({className:e,type:a,...s}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},45152,e=>{"use strict";var t=e.i(59834),r=e.i(22513);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})})}function s({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...a})}function i({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a})}function n({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function o({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function c({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>i,"TableCell",()=>c,"TableHead",()=>o,"TableHeader",()=>s,"TableRow",()=>n])},31906,e=>{"use strict";var t=e.i(59834),r=e.i(22513),a=e.i(44261);function s({icon:e,title:s,description:i,action:n,className:o}){return(0,t.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center justify-center py-12 text-center",o),children:[e&&(0,t.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,t.jsx)(e,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"text-base font-semibold",children:s}),(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground max-w-sm",children:i}),n&&(0,t.jsx)(a.Button,{onClick:n.onClick,className:"mt-4",size:"sm",children:n.label})]})}e.s(["EmptyState",()=>s])},48846,e=>{"use strict";let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});let r=new Intl.NumberFormat("en-US");function a(e){return t.format(e)}function s(e){return r.format(e)}function i(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function n(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3),a=Math.floor(r/60),s=Math.floor(a/60),n=Math.floor(s/24);return r<60?"just now":a<60?1===a?"1 min ago":a+" min ago":s<24?1===s?"1 hr ago":s+" hrs ago":n<7?1===n?"1 day ago":n+" days ago":i(e)}function o(e){return e}function c(e){return e<1?e.toFixed(2)+" ac":r.format(e)+" ac"}new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}),e.s(["formatAcreage",()=>c,"formatApn",()=>o,"formatCurrency",()=>a,"formatDate",()=>i,"formatNumber",()=>s,"formatRelativeTime",()=>n])},17896,50875,e=>{"use strict";var t=e.i(59834),r=e.i(71908),a=e.i(22513);let s={active:"bg-success/15 text-success border-success/20",inactive:"bg-muted text-muted-foreground border-muted",pending:"bg-warning/15 text-warning border-warning/20",archived:"bg-muted text-muted-foreground border-muted",monitoring:"bg-info/15 text-info border-info/20",closed:"bg-muted text-muted-foreground border-muted"};function i({status:e,className:i}){let n=s[e.toLowerCase()]||"bg-muted text-muted-foreground border-muted";return(0,t.jsxs)(r.Badge,{variant:"outline",className:(0,a.cn)("font-medium capitalize text-[11px] px-2 py-0.5",n,i),children:[(0,t.jsx)("span",{className:"mr-1.5 inline-block h-1.5 w-1.5 rounded-full bg-current"}),e.replace(/_/g," ")]})}e.s(["damageLevelColors",0,{destroyed:"bg-destructive/15 text-destructive border-destructive/20",major:"bg-[oklch(0.7_0.15_40)]/15 text-[oklch(0.55_0.18_40)] border-[oklch(0.7_0.15_40)]/20",minor:"bg-warning/15 text-warning border-warning/20",affected:"bg-info/15 text-info border-info/20",inaccessible:"bg-muted text-muted-foreground border-muted",none:"bg-success/15 text-success border-success/20"},"incidentTypeLabels",0,{wildfire:"Wildfire",flood:"Flood",earthquake:"Earthquake",mudslide:"Mudslide",hurricane:"Hurricane",tornado:"Tornado",other:"Other"},"statusColors",0,s],50875),e.s(["StatusBadge",()=>i],17896)},74182,e=>{"use strict";let t=(0,e.i(94325).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],74182)},75482,e=>{"use strict";let t=(0,e.i(94325).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],75482)},12061,69833,e=>{"use strict";var t=e.i(42828),r=e.i(42656),a=e.i(93312),s=e.i(77456),i=e.i(54368),n=e.i(12674),o=class extends i.Subscribable{#e;#t=void 0;#r;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.hashKey)(t.mutationKey)!==(0,n.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(e,t){return this.#a=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#s(){let e=this.#r?.state??(0,a.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){s.notifyManager.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#a.onSuccess?.(e.data,t,r,a)}catch(e){Promise.reject(e)}try{this.#a.onSettled?.(e.data,null,t,r,a)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#a.onError?.(e.error,t,r,a)}catch(e){Promise.reject(e)}try{this.#a.onSettled?.(void 0,e.error,t,r,a)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#t)})})}},c=e.i(73252);function u(e,t){let a=(0,c.useQueryClient)(t),[i]=r.useState(()=>new o(a,e));r.useEffect(()=>{i.setOptions(e)},[i,e]);let u=r.useSyncExternalStore(r.useCallback(e=>i.subscribe(s.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=r.useCallback((e,t)=>{i.mutate(e,t).catch(n.noop)},[i]);if(u.error&&(0,n.shouldThrowError)(i.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:l,mutateAsync:u.mutate}}var l=e.i(85398);function d(e){return(0,t.useQuery)({queryKey:["incidents",e],queryFn:()=>(0,l.apiFetch)("/v1/calamity/incidents",{params:{status:e}})})}function m(e){return(0,t.useQuery)({queryKey:["incident",e],queryFn:()=>(0,l.apiFetch)(`/v1/calamity/incidents/${e}`),enabled:!!e})}function h(e){return(0,t.useQuery)({queryKey:["affected-parcels",e],queryFn:()=>(0,l.apiFetch)(`/v1/calamity/incidents/${e.incidentId}/parcels`,{params:{page:e.page||1,pageSize:e.pageSize||20,damageLevel:e.damageLevel}}),enabled:!!e.incidentId})}function p(){let e=(0,c.useQueryClient)();return u({mutationFn:({incidentId:e,parcelId:t,survey:r})=>(0,l.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/survey`,{method:"POST",body:r}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["affected-parcels"]}),e.invalidateQueries({queryKey:["incident",r.incidentId]})}})}function f(){let e=(0,c.useQueryClient)();return u({mutationFn:({incidentId:e,parcelId:t})=>(0,l.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/reassess`,{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["affected-parcels"]})}})}e.s(["useAffectedParcels",()=>h,"useComputeReassessment",()=>f,"useIncident",()=>m,"useIncidents",()=>d,"useSubmitSurvey",()=>p],12061);let b=(0,e.i(94325).default)("file-search",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]]);e.s(["FileSearch",()=>b],69833)},25933,36941,e=>{"use strict";var t=e.i(59834),r=e.i(46472),a=e.i(94325);let s=(0,a.default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),i=(0,a.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),n=(0,a.default)("mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),o=(0,a.default)("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]),c=(0,a.default)("tornado",[["path",{d:"M21 4H3",key:"1hwok0"}],["path",{d:"M18 8H6",key:"41n648"}],["path",{d:"M19 12H9",key:"1g4lpz"}],["path",{d:"M16 16h-6",key:"1j5d54"}],["path",{d:"M11 20H9",key:"39obr8"}]]);var u=e.i(74182),l=e.i(22513);let d={wildfire:r.Flame,flood:s,earthquake:i,mudslide:n,hurricane:o,tornado:c},m={wildfire:"bg-red-500/10 text-red-600 dark:text-red-400",flood:"bg-blue-500/10 text-blue-600 dark:text-blue-400",earthquake:"bg-amber-500/10 text-amber-600 dark:text-amber-400",mudslide:"bg-orange-500/10 text-orange-600 dark:text-orange-400",hurricane:"bg-purple-500/10 text-purple-600 dark:text-purple-400",tornado:"bg-gray-500/10 text-gray-600 dark:text-gray-400"};function h({type:e,className:r,size:a="md"}){let s=d[e]||u.AlertTriangle,i=m[e]||"bg-muted text-muted-foreground";return(0,t.jsx)("div",{className:(0,l.cn)("flex items-center justify-center rounded-lg",{sm:"h-7 w-7",md:"h-9 w-9",lg:"h-12 w-12"}[a],i,r),children:(0,t.jsx)(s,{className:{sm:"h-3.5 w-3.5",md:"h-4 w-4",lg:"h-6 w-6"}[a]})})}e.s(["IncidentTypeIcon",()=>h],25933);let p=(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>p],36941)}]);