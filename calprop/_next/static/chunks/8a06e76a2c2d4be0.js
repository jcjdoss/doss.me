(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42828,85398,e=>{"use strict";let t;var a=e.i(88926),r=e.i(77456),s=e.i(69206),i=e.i(54368),n=e.i(70305),o=e.i(12674),l=e.i(34171),c=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#a=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#s=void 0;#i=void 0;#n;#o;#a;#t;#l;#c;#u;#d;#p;#h;#y=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),u(this.#r,this.options)?this.#m():this.updateResult(),this.#f())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#v(),this.#r.removeObserver(this)}setOptions(e){let t=this.options,a=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#I(),this.#r.setOptions(this.options),t._defaulted&&!(0,o.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let r=this.hasListeners();r&&p(this.#r,a,this.options,t)&&this.#m(),this.updateResult(),r&&(this.#r!==a||(0,o.resolveEnabled)(this.options.enabled,this.#r)!==(0,o.resolveEnabled)(t.enabled,this.#r)||(0,o.resolveStaleTime)(this.options.staleTime,this.#r)!==(0,o.resolveStaleTime)(t.staleTime,this.#r))&&this.#T();let s=this.#S();r&&(this.#r!==a||(0,o.resolveEnabled)(this.options.enabled,this.#r)!==(0,o.resolveEnabled)(t.enabled,this.#r)||s!==this.#h)&&this.#b(s)}getOptimisticResult(e){var t,a;let r=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(r,e);return t=this,a=s,(0,o.shallowEqualObjects)(t.getCurrentResult(),a)||(this.#i=s,this.#o=this.options,this.#n=this.#r.state),s}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(e,a)=>(this.trackProp(a),t?.(a),"promise"===a&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#a.status||this.#a.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,a))})}trackProp(e){this.#y.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),a=this.#e.getQueryCache().build(this.#e,t);return a.fetch().then(()=>this.createResult(a,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#m(e){this.#I();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#T(){this.#g();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#r);if(o.isServer||this.#i.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#d=l.timeoutManager.setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#S(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#b(e){this.#v(),this.#h=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#r)&&(0,o.isValidTimeout)(this.#h)&&0!==this.#h&&(this.#p=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||a.focusManager.isFocused())&&this.#m()},this.#h))}#f(){this.#T(),this.#b(this.#S())}#g(){this.#d&&(l.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#v(){this.#p&&(l.timeoutManager.clearInterval(this.#p),this.#p=void 0)}createResult(e,t){let a,r=this.#r,i=this.options,l=this.#i,c=this.#n,d=this.#o,y=e!==r?e.state:this.#s,{state:m}=e,f={...m},g=!1;if(t._optimisticResults){let a=this.hasListeners(),n=!a&&u(e,t),o=a&&p(e,r,t,i);(n||o)&&(f={...f,...(0,s.fetchState)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:I,status:T}=f;a=f.data;let S=!1;if(void 0!==t.placeholderData&&void 0===a&&"pending"===T){let e;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=l.data,S=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,void 0!==e&&(T="success",a=(0,o.replaceData)(l?.data,e,t),g=!0)}if(t.select&&void 0!==a&&!S)if(l&&a===c?.data&&t.select===this.#l)a=this.#c;else try{this.#l=t.select,a=t.select(a),a=(0,o.replaceData)(l?.data,a,t),this.#c=a,this.#t=null}catch(e){this.#t=e}this.#t&&(v=this.#t,a=this.#c,I=Date.now(),T="error");let b="fetching"===f.fetchStatus,A="pending"===T,R="error"===T,w=A&&b,D=void 0!==a,N={status:T,fetchStatus:f.fetchStatus,isPending:A,isSuccess:"success"===T,isError:R,isInitialLoading:w,isLoading:w,data:a,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:I,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>y.dataUpdateCount||f.errorUpdateCount>y.errorUpdateCount,isFetching:b,isRefetching:b&&!A,isLoadingError:R&&!D,isPaused:"paused"===f.fetchStatus,isPlaceholderData:g,isRefetchError:R&&D,isStale:h(e,t),refetch:this.refetch,promise:this.#a,isEnabled:!1!==(0,o.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==N.data,a="error"===N.status&&!t,s=e=>{a?e.reject(N.error):t&&e.resolve(N.data)},i=()=>{s(this.#a=N.promise=(0,n.pendingThenable)())},o=this.#a;switch(o.status){case"pending":e.queryHash===r.queryHash&&s(o);break;case"fulfilled":(a||N.data!==o.value)&&i();break;case"rejected":a&&N.error===o.reason||i()}}return N}updateResult(){let e=this.#i,t=this.createResult(this.#r,this.options);if(this.#n=this.#r.state,this.#o=this.options,void 0!==this.#n.data&&(this.#u=this.#r),(0,o.shallowEqualObjects)(t,e))return;this.#i=t;let a=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,a="function"==typeof t?t():t;if("all"===a||!a&&!this.#y.size)return!0;let r=new Set(a??this.#y);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(t=>this.#i[t]!==e[t]&&r.has(t))};this.#A({listeners:a()})}#I(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#f()}#A(e){r.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function u(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,a){if(!1!==(0,o.resolveEnabled)(t.enabled,e)&&"static"!==(0,o.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof a?a(e):a;return"always"===r||!1!==r&&h(e,t)}return!1}function p(e,t,a,r){return(e!==t||!1===(0,o.resolveEnabled)(r.enabled,e))&&(!a.suspense||"error"!==e.state.status)&&h(e,a)}function h(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.i(33681);var y=e.i(42656),m=e.i(73252);e.i(59834);var f=y.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=y.createContext(!1);g.Provider;var v=(e,t,a)=>t.fetchOptimistic(e).catch(()=>{a.clearReset()});function I(e,t){return function(e,t,a){let s,i=y.useContext(g),n=y.useContext(f),l=(0,m.useQueryClient)(a),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c);let u=l.getQueryCache().get(c.queryHash);if(c._optimisticResults=i?"isRestoring":"optimistic",c.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=c.staleTime;c.staleTime="function"==typeof t?(...a)=>e(t(...a)):e(t),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))}s=u?.state.error&&"function"==typeof c.throwOnError?(0,o.shouldThrowError)(c.throwOnError,[u.state.error,u]):c.throwOnError,(c.suspense||c.experimental_prefetchInRender||s)&&!n.isReset()&&(c.retryOnMount=!1),y.useEffect(()=>{n.clearReset()},[n]);let d=!l.getQueryCache().get(c.queryHash),[p]=y.useState(()=>new t(l,c)),h=p.getOptimisticResult(c),I=!i&&!1!==e.subscribed;if(y.useSyncExternalStore(y.useCallback(e=>{let t=I?p.subscribe(r.notifyManager.batchCalls(e)):o.noop;return p.updateResult(),t},[p,I]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),y.useEffect(()=>{p.setOptions(c)},[c,p]),c?.suspense&&h.isPending)throw v(c,p,n);if((({result:e,errorResetBoundary:t,throwOnError:a,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&void 0===e.data||(0,o.shouldThrowError)(a,[e.error,r])))({result:h,errorResetBoundary:n,throwOnError:c.throwOnError,query:u,suspense:c.suspense}))throw h.error;if(l.getDefaultOptions().queries?._experimental_afterQuery?.(c,h),c.experimental_prefetchInRender&&!o.isServer&&h.isLoading&&h.isFetching&&!i){let e=d?v(c,p,n):u?.promise;e?.catch(o.noop).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?h:p.trackResult(h)}(e,c,t)}e.s(["useQuery",()=>I],42828);let T=[{parcelId:"30000000-0000-0000-0000-000000000001",apn:"013-150-012-000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:.18,assessedValue:388e3,primaryAddress:"428 N D St",ownerName:"Robert Garza",updatedAt:new Date(Date.now()-72e5).toISOString()},{parcelId:"30000000-0000-0000-0000-000000000002",apn:"013-150-018-000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:.22,assessedValue:412e3,primaryAddress:"510 Sunset Ave",ownerName:"Maria Hernandez",updatedAt:new Date(Date.now()-108e5).toISOString()},{parcelId:"30000000-0000-0000-0000-000000000003",apn:"048-220-005-000",status:"active",parcelType:"real_property",useCode:"2100",useDescription:"Agricultural - Almond Orchard",acreage:320,assessedValue:384e4,primaryAddress:"18500 Road 21",ownerName:"Madera Valley Farms LLC",updatedAt:new Date(Date.now()-18e6).toISOString()},{parcelId:"30000000-0000-0000-0000-000000000004",apn:"093-500-003-000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:1.8,assessedValue:475e3,primaryAddress:"40215 Road 426",ownerName:"James & Linda Chen",updatedAt:new Date(Date.now()-144e5).toISOString()},{parcelId:"30000000-0000-0000-0000-000000000005",apn:"042-180-015-000",status:"active",parcelType:"real_property",useCode:"1000",useDescription:"Commercial - Retail",acreage:.95,assessedValue:215e4,primaryAddress:"1820 S Gateway Dr",ownerName:"Gateway Plaza Partners",updatedAt:new Date(Date.now()-288e5).toISOString()},{parcelId:"30000000-0000-0000-0000-000000000006",apn:"007-310-028-000",status:"active",parcelType:"real_property",useCode:"2100",useDescription:"Agricultural - Vineyard",acreage:80,assessedValue:96e4,primaryAddress:"26400 Avenue 15",ownerName:"Madera Valley Farms LLC",updatedAt:new Date(Date.now()-36e6).toISOString()},{parcelId:"30000000-0000-0000-0000-000000000007",apn:"062-140-009-000",status:"active",parcelType:"real_property",useCode:"0200",useDescription:"Multi-Family Residential",acreage:.45,assessedValue:685e3,primaryAddress:"1014 Yosemite Ave",ownerName:"Robert Garza",updatedAt:new Date(Date.now()-432e5).toISOString()},{parcelId:"30000000-0000-0000-0000-000000000008",apn:"093-460-021-000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:2.5,assessedValue:52e4,primaryAddress:"48310 Sierra Lakes Dr",ownerName:"Patricia Nakamura",updatedAt:new Date(Date.now()-216e5).toISOString()}],S={"30000000-0000-0000-0000-000000000001":{parcelId:"30000000-0000-0000-0000-000000000001",apn:"013-150-012-000",apnSort:"00000013150012000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:.18,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-72e5).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000001",streetNumber:"428",streetName:"D",streetType:"St",city:"Madera",zip:"93637",fullAddress:"428 N D St",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000001",partyId:"20000000-0000-0000-0000-000000000001",interestType:"fee_simple",effectiveDate:"2019-06-15T00:00:00Z",partyName:"Robert Garza"}],exemptions:[{exemptionId:"c0000000-0000-0000-0000-000000000001",exemptionType:"homeowners",amount:7e3,effectiveDate:"2019-07-01T00:00:00Z",expirationDate:null,status:"active"}]},"30000000-0000-0000-0000-000000000002":{parcelId:"30000000-0000-0000-0000-000000000002",apn:"013-150-018-000",apnSort:"00000013150018000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:.22,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-108e5).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000002",streetNumber:"510",streetName:"Sunset",streetType:"Ave",city:"Madera",zip:"93637",fullAddress:"510 Sunset Ave",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000002",partyId:"20000000-0000-0000-0000-000000000002",interestType:"fee_simple",effectiveDate:"2021-09-01T00:00:00Z",partyName:"Maria Hernandez"}],exemptions:[{exemptionId:"c0000000-0000-0000-0000-000000000002",exemptionType:"homeowners",amount:7e3,effectiveDate:"2021-10-01T00:00:00Z",expirationDate:null,status:"active"}]},"30000000-0000-0000-0000-000000000003":{parcelId:"30000000-0000-0000-0000-000000000003",apn:"048-220-005-000",apnSort:"00000048220005000",status:"active",parcelType:"real_property",useCode:"2100",useDescription:"Agricultural - Almond Orchard",acreage:320,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-18e6).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000003",streetNumber:"18500",streetName:"Road 21",streetType:"",city:"Chowchilla",zip:"93610",fullAddress:"18500 Road 21",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000003",partyId:"20000000-0000-0000-0000-000000000003",interestType:"fee_simple",effectiveDate:"2012-11-20T00:00:00Z",partyName:"Madera Valley Farms LLC"}],exemptions:[{exemptionId:"c0000000-0000-0000-0000-000000000003",exemptionType:"williamson_act",amount:285e3,effectiveDate:"2013-01-01T00:00:00Z",expirationDate:"2033-01-01T00:00:00Z",status:"active"}]},"30000000-0000-0000-0000-000000000004":{parcelId:"30000000-0000-0000-0000-000000000004",apn:"093-500-003-000",apnSort:"00000093500003000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:1.8,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-144e5).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000004",streetNumber:"40215",streetName:"Road 426",streetType:"",city:"Oakhurst",zip:"93644",fullAddress:"40215 Road 426",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000004",partyId:"20000000-0000-0000-0000-000000000004",interestType:"joint_tenancy",effectiveDate:"2017-05-10T00:00:00Z",partyName:"James & Linda Chen"}],exemptions:[{exemptionId:"c0000000-0000-0000-0000-000000000004",exemptionType:"homeowners",amount:7e3,effectiveDate:"2017-06-01T00:00:00Z",expirationDate:null,status:"active"}]},"30000000-0000-0000-0000-000000000005":{parcelId:"30000000-0000-0000-0000-000000000005",apn:"042-180-015-000",apnSort:"00000042180015000",status:"active",parcelType:"real_property",useCode:"1000",useDescription:"Commercial - Retail",acreage:.95,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-288e5).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000005",streetNumber:"1820",streetName:"Gateway",streetType:"Dr",city:"Madera",zip:"93637",fullAddress:"1820 S Gateway Dr",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000005",partyId:"20000000-0000-0000-0000-000000000005",interestType:"fee_simple",effectiveDate:"2016-02-01T00:00:00Z",partyName:"Gateway Plaza Partners"}],exemptions:[]},"30000000-0000-0000-0000-000000000006":{parcelId:"30000000-0000-0000-0000-000000000006",apn:"007-310-028-000",apnSort:"00000007310028000",status:"active",parcelType:"real_property",useCode:"2100",useDescription:"Agricultural - Vineyard",acreage:80,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-36e6).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000006",streetNumber:"26400",streetName:"Avenue 15",streetType:"",city:"Madera",zip:"93637",fullAddress:"26400 Avenue 15",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000006",partyId:"20000000-0000-0000-0000-000000000003",interestType:"fee_simple",effectiveDate:"2010-08-15T00:00:00Z",partyName:"Madera Valley Farms LLC"}],exemptions:[{exemptionId:"c0000000-0000-0000-0000-000000000006",exemptionType:"williamson_act",amount:142e3,effectiveDate:"2011-01-01T00:00:00Z",expirationDate:"2031-01-01T00:00:00Z",status:"active"}]},"30000000-0000-0000-0000-000000000007":{parcelId:"30000000-0000-0000-0000-000000000007",apn:"062-140-009-000",apnSort:"00000062140009000",status:"active",parcelType:"real_property",useCode:"0200",useDescription:"Multi-Family Residential",acreage:.45,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-432e5).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000007",streetNumber:"1014",streetName:"Yosemite",streetType:"Ave",city:"Madera",zip:"93637",fullAddress:"1014 Yosemite Ave",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000007",partyId:"20000000-0000-0000-0000-000000000001",interestType:"fee_simple",effectiveDate:"2022-01-10T00:00:00Z",partyName:"Robert Garza"}],exemptions:[]},"30000000-0000-0000-0000-000000000008":{parcelId:"30000000-0000-0000-0000-000000000008",apn:"093-460-021-000",apnSort:"00000093460021000",status:"active",parcelType:"real_property",useCode:"0100",useDescription:"Single Family Residence",acreage:2.5,createdAt:"2024-03-12T10:00:00Z",updatedAt:new Date(Date.now()-216e5).toISOString(),situsAddresses:[{situsId:"a0000000-0000-0000-0000-000000000008",streetNumber:"48310",streetName:"Sierra Lakes",streetType:"Dr",city:"Oakhurst",zip:"93644",fullAddress:"48310 Sierra Lakes Dr",isPrimary:!0}],owners:[{ownershipInterestId:"b0000000-0000-0000-0000-000000000008",partyId:"20000000-0000-0000-0000-000000000006",interestType:"fee_simple",effectiveDate:"2020-03-20T00:00:00Z",partyName:"Patricia Nakamura"}],exemptions:[{exemptionId:"c0000000-0000-0000-0000-000000000008",exemptionType:"homeowners",amount:7e3,effectiveDate:"2020-04-01T00:00:00Z",expirationDate:null,status:"active"}]}},b={"30000000-0000-0000-0000-000000000001":[{spatialFlagParcelId:"f0000000-0000-0000-0000-000000000001",flagName:"Flood Zone AE",flagValue:"Zone AE - 1% Annual Chance",sourceLayerId:"fema-flood-2024",sourcePolicyName:"FEMA Flood Zone Policy",createdAt:"2026-01-15T00:00:00Z"}],"30000000-0000-0000-0000-000000000003":[{spatialFlagParcelId:"f0000000-0000-0000-0000-000000000002",flagName:"Williamson Act Contract",flagValue:"Active - Renewal 2033",sourceLayerId:"williamson-act-2024",sourcePolicyName:"Williamson Act Monitoring",createdAt:"2026-01-15T00:00:00Z"},{spatialFlagParcelId:"f0000000-0000-0000-0000-000000000003",flagName:"SGMA Groundwater Basin",flagValue:"Madera Sub-Basin - Critically Overdrafted",sourceLayerId:"sgma-basins-2024",sourcePolicyName:"Groundwater Sustainability Monitoring",createdAt:"2026-01-15T00:00:00Z"}],"30000000-0000-0000-0000-000000000004":[{spatialFlagParcelId:"f0000000-0000-0000-0000-000000000004",flagName:"Fire Hazard Severity Zone",flagValue:"Very High - SRA",sourceLayerId:"calfire-fhsz-2024",sourcePolicyName:"Fire Hazard Severity Zone Policy",createdAt:"2026-01-15T00:00:00Z"}],"30000000-0000-0000-0000-000000000006":[{spatialFlagParcelId:"f0000000-0000-0000-0000-000000000005",flagName:"Williamson Act Contract",flagValue:"Active - Renewal 2031",sourceLayerId:"williamson-act-2024",sourcePolicyName:"Williamson Act Monitoring",createdAt:"2026-01-15T00:00:00Z"}],"30000000-0000-0000-0000-000000000008":[{spatialFlagParcelId:"f0000000-0000-0000-0000-000000000006",flagName:"Fire Hazard Severity Zone",flagValue:"Very High - SRA",sourceLayerId:"calfire-fhsz-2024",sourcePolicyName:"Fire Hazard Severity Zone Policy",createdAt:"2026-01-15T00:00:00Z"}]},A=[{partyId:"20000000-0000-0000-0000-000000000001",partyType:"individual",firstName:"Robert",lastName:"Garza",entityName:null,email:"r.garza@example.com",phone:"(559) 673-4101",displayName:"Robert Garza"},{partyId:"20000000-0000-0000-0000-000000000002",partyType:"individual",firstName:"Maria",lastName:"Hernandez",entityName:null,email:"m.hernandez@example.com",phone:"(559) 673-2285",displayName:"Maria Hernandez"},{partyId:"20000000-0000-0000-0000-000000000003",partyType:"entity",firstName:null,lastName:null,entityName:"Madera Valley Farms LLC",email:"office@maderavalleyfarms.com",phone:"(559) 674-8800",displayName:"Madera Valley Farms LLC"},{partyId:"20000000-0000-0000-0000-000000000004",partyType:"individual",firstName:"James",lastName:"Chen",entityName:null,email:"j.chen@example.com",phone:"(559) 642-3100",displayName:"James Chen"},{partyId:"20000000-0000-0000-0000-000000000005",partyType:"entity",firstName:null,lastName:null,entityName:"Gateway Plaza Partners",email:"leasing@gatewayplazapartners.com",phone:"(559) 661-0550",displayName:"Gateway Plaza Partners"},{partyId:"20000000-0000-0000-0000-000000000006",partyType:"individual",firstName:"Patricia",lastName:"Nakamura",entityName:null,email:"p.nakamura@example.com",phone:"(559) 683-7200",displayName:"Patricia Nakamura"}],R=[{policyId:"p0000000-0000-0000-0000-000000000001",name:"FEMA Flood Zone Flag",description:"Automatically flags parcels intersecting FEMA flood zone layers for risk assessment and insurance verification across the San Joaquin River floodplain.",policyType:"spatial_flag",priority:10,isEnabled:!0,tags:["flood","fema","spatial","san-joaquin"],createdAt:"2025-08-10T00:00:00Z"},{policyId:"p0000000-0000-0000-0000-000000000002",name:"Williamson Act Monitoring",description:"Monitors parcels under Williamson Act contracts for agricultural preserve compliance and use code changes in Madera County's agricultural zones.",policyType:"monitoring",priority:20,isEnabled:!0,tags:["agriculture","williamson-act","compliance"],createdAt:"2025-08-10T00:00:00Z"},{policyId:"p0000000-0000-0000-0000-000000000003",name:"Prop 19 Transfer Detection",description:"Detects ownership transfers that qualify for Proposition 19 base year value transfer benefits for senior homeowners relocating within Madera County.",policyType:"trigger",priority:5,isEnabled:!0,tags:["prop-19","transfer","base-year"],createdAt:"2025-08-10T00:00:00Z"},{policyId:"p0000000-0000-0000-0000-000000000004",name:"CAL FIRE Hazard Severity Zone",description:"Flags parcels in CAL FIRE Very High severity zones for insurance disclosure, focusing on eastern Madera County foothill and mountain communities.",policyType:"spatial_flag",priority:15,isEnabled:!0,tags:["fire","calfire","hazard","oakhurst"],createdAt:"2025-08-10T00:00:00Z"}],w={"p0000000-0000-0000-0000-000000000001":{policyId:"p0000000-0000-0000-0000-000000000001",name:"FEMA Flood Zone Flag",description:"Automatically flags parcels intersecting FEMA flood zone layers for risk assessment and insurance verification across the San Joaquin River floodplain.",policyType:"spatial_flag",priority:10,isEnabled:!0,tags:["flood","fema","spatial","san-joaquin"],conditionJson:JSON.stringify({type:"spatial_intersect",layer:"fema_flood_zones",region:"madera_county",filter:{zone_type:["A","AE","AH","V","VE"]}},null,2),actionsJson:JSON.stringify([{type:"add_flag",flagName:"Flood Zone",severity:"high"},{type:"notify",channel:"assessor_queue",template:"flood_zone_alert"},{type:"add_tag",tag:"fema_disclosure_required"}],null,2),createdAt:"2025-08-10T00:00:00Z",updatedAt:"2026-01-15T00:00:00Z"},"p0000000-0000-0000-0000-000000000002":{policyId:"p0000000-0000-0000-0000-000000000002",name:"Williamson Act Monitoring",description:"Monitors parcels under Williamson Act contracts for agricultural preserve compliance in Madera County's ARE-20/40/80/160 zones.",policyType:"monitoring",priority:20,isEnabled:!0,tags:["agriculture","williamson-act","compliance"],conditionJson:JSON.stringify({type:"property_match",field:"useCode",operator:"starts_with",value:"21",additional:{zoning:["ARE-20","ARE-40","ARE-80","ARE-160","AR-5"],contract_status:"active"}},null,2),actionsJson:JSON.stringify([{type:"monitor",frequency:"annual",checkType:"use_code_change"},{type:"add_flag",flagName:"Williamson Act",severity:"info"},{type:"validate",rule:"williamson_act_compliance",notifyOnFail:!0}],null,2),createdAt:"2025-08-10T00:00:00Z",updatedAt:"2025-12-01T00:00:00Z"},"p0000000-0000-0000-0000-000000000003":{policyId:"p0000000-0000-0000-0000-000000000003",name:"Prop 19 Transfer Detection",description:"Detects ownership transfers qualifying for Proposition 19 base year value transfer benefits for seniors relocating within Madera County.",policyType:"trigger",priority:5,isEnabled:!0,tags:["prop-19","transfer","base-year"],conditionJson:JSON.stringify({type:"event_match",event:"ownership_transfer",conditions:{transferee_age:{operator:">=",value:55},property_type:["primary_residence"],county:"madera"}},null,2),actionsJson:JSON.stringify([{type:"create_task",taskType:"prop19_review",assignTo:"assessor_pool"},{type:"notify",channel:"email",template:"prop19_eligibility"},{type:"calculate",formula:"base_year_value_transfer",applyTo:"destination_parcel"}],null,2),createdAt:"2025-08-10T00:00:00Z",updatedAt:"2025-08-10T00:00:00Z"},"p0000000-0000-0000-0000-000000000004":{policyId:"p0000000-0000-0000-0000-000000000004",name:"CAL FIRE Hazard Severity Zone",description:"Flags parcels in CAL FIRE Very High severity zones for insurance disclosure, focusing on eastern Madera County communities including Oakhurst, Bass Lake, and North Fork.",policyType:"spatial_flag",priority:15,isEnabled:!0,tags:["fire","calfire","hazard","oakhurst"],conditionJson:JSON.stringify({type:"spatial_intersect",layer:"calfire_severity_zones",region:"madera_county_east",filter:{severity:["very_high","high"]}},null,2),actionsJson:JSON.stringify([{type:"add_flag",flagName:"Fire Hazard Zone",severity:"high"},{type:"notify",channel:"assessor_queue",template:"fire_zone_disclosure"}],null,2),createdAt:"2025-08-10T00:00:00Z",updatedAt:"2026-01-20T00:00:00Z"}},D=[{incidentId:"i0000000-0000-0000-0000-000000000001",name:"French Fire 2026",incidentType:"wildfire",description:"Wildfire ignited near French Camp Road at Highway 49 in eastern Madera County. Mandatory evacuations ordered for Oakhurst-area neighborhoods including Road 426 and Sierra Lakes Drive. CAL FIRE resources deployed with air support.",startDate:"2026-01-28T00:00:00Z",endDate:null,status:"active",perimeterWkt:null,affectedParcelCount:4,createdAt:"2026-01-28T14:00:00Z"},{incidentId:"i0000000-0000-0000-0000-000000000002",name:"2025 Atmospheric River Flooding",incidentType:"flood",description:"Severe atmospheric river event causing widespread flooding along the San Joaquin River floodplain and Chowchilla River basin. FEMA Disaster Declaration DR-4799-CA issued. Multiple agricultural parcels and residential properties in western Madera County sustained water damage.",startDate:"2025-12-10T00:00:00Z",endDate:"2025-12-28T00:00:00Z",status:"monitoring",perimeterWkt:null,affectedParcelCount:3,createdAt:"2025-12-10T08:00:00Z"}],N={"i0000000-0000-0000-0000-000000000001":[{affectedParcelId:"ap000000-0000-0000-0000-000000000001",incidentId:"i0000000-0000-0000-0000-000000000001",parcelId:"30000000-0000-0000-0000-000000000004",apn:"093-500-003-000",primaryAddress:"40215 Road 426",damageLevel:"destroyed",surveyStatus:"completed",reassessmentStatus:"pending"},{affectedParcelId:"ap000000-0000-0000-0000-000000000002",incidentId:"i0000000-0000-0000-0000-000000000001",parcelId:"30000000-0000-0000-0000-000000000008",apn:"093-460-021-000",primaryAddress:"48310 Sierra Lakes Dr",damageLevel:"major",surveyStatus:"completed",reassessmentStatus:"pending"},{affectedParcelId:"ap000000-0000-0000-0000-000000000003",incidentId:"i0000000-0000-0000-0000-000000000001",parcelId:"30000000-0000-0000-0000-000000000001",apn:"013-150-012-000",primaryAddress:"428 N D St",damageLevel:"minor",surveyStatus:"in_progress",reassessmentStatus:"not_started"},{affectedParcelId:"ap000000-0000-0000-0000-000000000008",incidentId:"i0000000-0000-0000-0000-000000000001",parcelId:"30000000-0000-0000-0000-000000000007",apn:"062-140-009-000",primaryAddress:"1014 Yosemite Ave",damageLevel:null,surveyStatus:"pending",reassessmentStatus:"not_started"}],"i0000000-0000-0000-0000-000000000002":[{affectedParcelId:"ap000000-0000-0000-0000-000000000004",incidentId:"i0000000-0000-0000-0000-000000000002",parcelId:"30000000-0000-0000-0000-000000000003",apn:"048-220-005-000",primaryAddress:"18500 Road 21",damageLevel:"major",surveyStatus:"completed",reassessmentStatus:"completed"},{affectedParcelId:"ap000000-0000-0000-0000-000000000005",incidentId:"i0000000-0000-0000-0000-000000000002",parcelId:"30000000-0000-0000-0000-000000000001",apn:"013-150-012-000",primaryAddress:"428 N D St",damageLevel:"affected",surveyStatus:"completed",reassessmentStatus:"completed"},{affectedParcelId:"ap000000-0000-0000-0000-000000000006",incidentId:"i0000000-0000-0000-0000-000000000002",parcelId:"30000000-0000-0000-0000-000000000006",apn:"007-310-028-000",primaryAddress:"26400 Avenue 15",damageLevel:"affected",surveyStatus:"completed",reassessmentStatus:"completed"}]};async function C(e,t={}){let{body:a,params:r,...s}=t,i={};if(r)for(let[e,t]of Object.entries(r))null!=t&&""!==t&&(i[e]=String(t));return function(e,t={}){return new Promise(a=>{setTimeout(()=>{a(function(e,t){if("/v1/parcels"===e){let e=(t.search||"").toLowerCase(),a=t.status,r=T;e&&(r=r.filter(t=>t.apn.toLowerCase().includes(e)||(t.primaryAddress||"").toLowerCase().includes(e)||(t.ownerName||"").toLowerCase().includes(e))),a&&(r=r.filter(e=>e.status===a));let s=parseInt(t.page||"1"),i=parseInt(t.pageSize||"20"),n=(s-1)*i;return{data:r.slice(n,n+i),pagination:{currentPage:s,pageSize:i,totalCount:r.length,totalPages:Math.ceil(r.length/i),hasNext:n+i<r.length,hasPrevious:s>1}}}let a=e.match(/^\/v1\/parcels\/([^/]+)$/);if(a)return S[a[1]]||null;let r=e.match(/^\/v1\/parcels\/([^/]+)\/flags$/);if(r)return b[r[1]]||[];if("/v1/parties"===e){let e=(t.search||"").toLowerCase(),a=A;e&&(a=a.filter(t=>t.displayName.toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e)));let r=parseInt(t.page||"1"),s=parseInt(t.pageSize||"20"),i=(r-1)*s;return{data:a.slice(i,i+s),pagination:{currentPage:r,pageSize:s,totalCount:a.length,totalPages:Math.ceil(a.length/s),hasNext:!1,hasPrevious:!1}}}let s=e.match(/^\/v1\/parties\/([^/]+)$/);if(s)return A.find(e=>e.partyId===s[1])||null;if("/v1/policies"===e)return R;let i=e.match(/^\/v1\/policies\/([^/]+)$/);if(i)return w[i[1]]||null;if("/v1/calamity/incidents"===e){let e=t.status;return e?D.filter(t=>t.status===e):D}let n=e.match(/^\/v1\/calamity\/incidents\/([^/]+)$/);if(n)return D.find(e=>e.incidentId===n[1])||null;let o=e.match(/^\/v1\/calamity\/incidents\/([^/]+)\/parcels$/);if(o){let e=N[o[1]]||[],a=t.damageLevel,r=a?e.filter(e=>e.damageLevel===a):e,s={destroyed:0,major:1,minor:2,affected:3,none:4};return{data:[...r].sort((e,t)=>(e.damageLevel?s[e.damageLevel]??5:6)-(t.damageLevel?s[t.damageLevel]??5:6)),pagination:{currentPage:1,pageSize:20,totalCount:r.length,totalPages:1,hasNext:!1,hasPrevious:!1}}}let l=e.match(/^\/v1\/calamity\/incidents\/([^/]+)\/parcels\/([^/]+)\/survey$/);if(l)return{affectedParcelId:l[2],damageLevel:"major",improvementDamagePercent:65,landDamagePercent:15,surveyDate:new Date().toISOString(),surveyStatus:"completed"};let c=e.match(/^\/v1\/calamity\/incidents\/([^/]+)\/parcels\/([^/]+)\/reassess$/);return c?{affectedParcelId:c[2],priorLandValue:185e3,priorImprovementValue:29e4,priorTotalValue:475e3,revisedLandValue:157250,revisedImprovementValue:101500,revisedTotalValue:258750,reductionAmount:216250,reassessmentStatus:"completed"}:null}(e,t))},150)})}(e,i)}e.s(["apiFetch",()=>C],85398)},80612,e=>{"use strict";var t=e.i(59834),a=e.i(22513);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,a.cn)("bg-accent animate-pulse rounded-md",e),...r})}e.s(["Skeleton",()=>r])},71908,e=>{"use strict";var t=e.i(59834),a=e.i(79448),r=e.i(78961),s=e.i(22513);let i=(0,a.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a="default",asChild:n=!1,...o}){let l=n?r.Slot.Root:"span";return(0,t.jsx)(l,{"data-slot":"badge","data-variant":a,className:(0,s.cn)(i({variant:a}),e),...o})}e.s(["Badge",()=>n])}]);