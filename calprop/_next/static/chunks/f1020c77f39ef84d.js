(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52815,e=>{"use strict";var t=e.i(59834),r=e.i(71908),a=e.i(22513),n=e.i(50875);function i({level:e,className:i}){let s=n.damageLevelColors[e.toLowerCase()]||"bg-muted text-muted-foreground border-muted";return(0,t.jsx)(r.Badge,{variant:"outline",className:(0,a.cn)("font-medium capitalize text-[11px] px-2 py-0.5",s,i),children:e.replace(/_/g," ")})}e.s(["DamageBadge",()=>i])},48846,e=>{"use strict";let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});let r=new Intl.NumberFormat("en-US");function a(e){return t.format(e)}function n(e){return r.format(e)}function i(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function s(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3),a=Math.floor(r/60),n=Math.floor(a/60),s=Math.floor(n/24);return r<60?"just now":a<60?1===a?"1 min ago":a+" min ago":n<24?1===n?"1 hr ago":n+" hrs ago":s<7?1===s?"1 day ago":s+" days ago":i(e)}function o(e){return e}function l(e){return e<1?e.toFixed(2)+" ac":r.format(e)+" ac"}new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}),e.s(["formatAcreage",()=>l,"formatApn",()=>o,"formatCurrency",()=>a,"formatDate",()=>i,"formatNumber",()=>n,"formatRelativeTime",()=>s])},50875,e=>{"use strict";e.s(["damageLevelColors",0,{destroyed:"bg-destructive/15 text-destructive border-destructive/20",major:"bg-[oklch(0.7_0.15_40)]/15 text-[oklch(0.55_0.18_40)] border-[oklch(0.7_0.15_40)]/20",minor:"bg-warning/15 text-warning border-warning/20",affected:"bg-info/15 text-info border-info/20",inaccessible:"bg-muted text-muted-foreground border-muted",none:"bg-success/15 text-success border-success/20"},"incidentTypeLabels",0,{wildfire:"Wildfire",flood:"Flood",earthquake:"Earthquake",mudslide:"Mudslide",hurricane:"Hurricane",tornado:"Tornado",other:"Other"},"statusColors",0,{active:"bg-success/15 text-success border-success/20",inactive:"bg-muted text-muted-foreground border-muted",pending:"bg-warning/15 text-warning border-warning/20",archived:"bg-muted text-muted-foreground border-muted",monitoring:"bg-info/15 text-info border-info/20",closed:"bg-muted text-muted-foreground border-muted"}])},17896,e=>{"use strict";var t=e.i(59834),r=e.i(71908),a=e.i(22513),n=e.i(50875);function i({status:e,className:i}){let s=n.statusColors[e.toLowerCase()]||"bg-muted text-muted-foreground border-muted";return(0,t.jsxs)(r.Badge,{variant:"outline",className:(0,a.cn)("font-medium capitalize text-[11px] px-2 py-0.5",s,i),children:[(0,t.jsx)("span",{className:"mr-1.5 inline-block h-1.5 w-1.5 rounded-full bg-current"}),e.replace(/_/g," ")]})}e.s(["StatusBadge",()=>i])},12061,e=>{"use strict";var t=e.i(42828),r=e.i(42656),a=e.i(93312),n=e.i(77456),i=e.i(54368),s=e.i(12674),o=class extends i.Subscribable{#e;#t=void 0;#r;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,s.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,s.hashKey)(t.mutationKey)!==(0,s.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(e,t){return this.#a=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){let e=this.#r?.state??(0,a.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){n.notifyManager.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#a.onSuccess?.(e.data,t,r,a)}catch(e){Promise.reject(e)}try{this.#a.onSettled?.(e.data,null,t,r,a)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#a.onError?.(e.error,t,r,a)}catch(e){Promise.reject(e)}try{this.#a.onSettled?.(void 0,e.error,t,r,a)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#t)})})}},l=e.i(73252);function d(e,t){let a=(0,l.useQueryClient)(t),[i]=r.useState(()=>new o(a,e));r.useEffect(()=>{i.setOptions(e)},[i,e]);let d=r.useSyncExternalStore(r.useCallback(e=>i.subscribe(n.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=r.useCallback((e,t)=>{i.mutate(e,t).catch(s.noop)},[i]);if(d.error&&(0,s.shouldThrowError)(i.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:u,mutateAsync:d.mutate}}var u=e.i(85398);function c(e){return(0,t.useQuery)({queryKey:["incidents",e],queryFn:()=>(0,u.apiFetch)("/v1/calamity/incidents",{params:{status:e}})})}function m(e){return(0,t.useQuery)({queryKey:["incident",e],queryFn:()=>(0,u.apiFetch)(`/v1/calamity/incidents/${e}`),enabled:!!e})}function p(e){return(0,t.useQuery)({queryKey:["affected-parcels",e],queryFn:()=>(0,u.apiFetch)(`/v1/calamity/incidents/${e.incidentId}/parcels`,{params:{page:e.page||1,pageSize:e.pageSize||20,damageLevel:e.damageLevel}}),enabled:!!e.incidentId})}function f(){let e=(0,l.useQueryClient)();return d({mutationFn:({incidentId:e,parcelId:t,survey:r})=>(0,u.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/survey`,{method:"POST",body:r}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["affected-parcels"]}),e.invalidateQueries({queryKey:["incident",r.incidentId]})}})}function h(){let e=(0,l.useQueryClient)();return d({mutationFn:({incidentId:e,parcelId:t})=>(0,u.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/reassess`,{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["affected-parcels"]})}})}e.s(["useAffectedParcels",()=>p,"useComputeReassessment",()=>h,"useIncident",()=>m,"useIncidents",()=>c,"useSubmitSurvey",()=>f],12061)},65241,12618,1057,e=>{"use strict";var t=e.i(59834),r=e.i(42656),a=e.i(65597),n=e.i(44261);e.i(37673);var i=e.i(79542),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,i.createSlot)(`Primitive.${a}`),s=r.forwardRef((e,r)=>{let{asChild:i,...s}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?n:a,{...s,ref:r})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{}),o=r.forwardRef((e,r)=>(0,t.jsx)(s.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label",e.s(["Label",()=>o,"Root",()=>o],23469);var l=e.i(23469),l=l,d=e.i(22513);function u({className:e,...r}){return(0,t.jsx)(l.Root,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}function c({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,d.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var m=e.i(79887),p=e.i(50752),f=e.i(2819),h=e.i(83113),v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,i.createSlot)(`Primitive.${a}`),s=r.forwardRef((e,r)=>{let{asChild:i,...s}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?n:a,{...s,ref:r})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{}),x=e.i(7101),g=e.i(87910),y=e.i(58853),b=e.i(63534),w=e.i(38798),j=e.i(81837),S="Radio",[R,C]=(0,h.createContextScope)(S),[N,D]=R(S),k=r.forwardRef((e,a)=>{let{__scopeRadio:n,name:i,checked:s=!1,required:o,disabled:l,value:d="on",onCheck:u,form:c,...m}=e,[h,x]=r.useState(null),g=(0,f.useComposedRefs)(a,e=>x(e)),y=r.useRef(!1),b=!h||c||!!h.closest("form");return(0,t.jsxs)(N,{scope:n,checked:s,disabled:l,children:[(0,t.jsx)(v.button,{type:"button",role:"radio","aria-checked":s,"data-state":I(s),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:g,onClick:(0,p.composeEventHandlers)(e.onClick,e=>{s||u?.(),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),b&&(0,t.jsx)(E,{control:h,bubbles:!y.current,name:i,value:d,checked:s,required:o,disabled:l,form:c,style:{transform:"translateX(-100%)"}})]})});k.displayName=S;var M="RadioIndicator",P=r.forwardRef((e,r)=>{let{__scopeRadio:a,forceMount:n,...i}=e,s=D(M,a);return(0,t.jsx)(j.Presence,{present:n||s.checked,children:(0,t.jsx)(v.span,{"data-state":I(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:r})})});P.displayName=M;var E=r.forwardRef(({__scopeRadio:e,control:a,checked:n,bubbles:i=!0,...s},o)=>{let l=r.useRef(null),d=(0,f.useComposedRefs)(l,o),u=(0,w.usePrevious)(n),c=(0,b.useSize)(a);return r.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==n&&t){let r=new Event("click",{bubbles:i});t.call(e,n),e.dispatchEvent(r)}},[u,n,i]),(0,t.jsx)(v.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:d,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function I(e){return e?"checked":"unchecked"}E.displayName="RadioBubbleInput";var F=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A="RadioGroup",[O,T]=(0,h.createContextScope)(A,[x.createRovingFocusGroupScope,C]),L=(0,x.createRovingFocusGroupScope)(),K=C(),[z,_]=O(A),H=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,name:n,defaultValue:i,value:s,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:c=!0,onValueChange:m,...p}=e,f=L(a),h=(0,y.useDirection)(u),[b,w]=(0,g.useControllableState)({prop:s,defaultProp:i??null,onChange:m,caller:A});return(0,t.jsx)(z,{scope:a,name:n,required:o,disabled:l,value:b,onValueChange:w,children:(0,t.jsx)(x.Root,{asChild:!0,...f,orientation:d,dir:h,loop:c,children:(0,t.jsx)(v.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:h,...p,ref:r})})})});H.displayName=A;var $="RadioGroupItem",U=r.forwardRef((e,a)=>{let{__scopeRadioGroup:n,disabled:i,...s}=e,o=_($,n),l=o.disabled||i,d=L(n),u=K(n),c=r.useRef(null),m=(0,f.useComposedRefs)(a,c),h=o.value===s.value,v=r.useRef(!1);return r.useEffect(()=>{let e=e=>{F.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(x.Item,{asChild:!0,...d,focusable:!l,active:h,children:(0,t.jsx)(k,{disabled:l,required:o.required,checked:h,...u,...s,name:o.name,ref:m,onCheck:()=>o.onValueChange(s.value),onKeyDown:(0,p.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,p.composeEventHandlers)(s.onFocus,()=>{v.current&&c.current?.click()})})})});U.displayName=$;var V=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,...n}=e,i=K(a);return(0,t.jsx)(P,{...i,...n,ref:r})});V.displayName="RadioGroupIndicator",e.s(["Indicator",()=>V,"Item",()=>U,"RadioGroup",()=>H,"RadioGroupIndicator",()=>V,"RadioGroupItem",()=>U,"Root",()=>H,"createRadioGroupScope",()=>T],69525);var q=e.i(69525),q=q;function B({className:e,...r}){return(0,t.jsx)(q.Root,{"data-slot":"radio-group",className:(0,d.cn)("grid gap-3",e),...r})}function G({className:e,...r}){return(0,t.jsx)(q.Item,{"data-slot":"radio-group-item",className:(0,d.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(q.Indicator,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(m.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var Q=e.i(71579),X=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,i.createSlot)(`Primitive.${a}`),s=r.forwardRef((e,r)=>{let{asChild:i,...s}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?n:a,{...s,ref:r})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{}),Y=e.i(31254),W=["PageUp","PageDown"],J=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ee="Slider",[et,er,ea]=(0,Y.createCollection)(ee),[en,ei]=(0,h.createContextScope)(ee,[ea]),[es,eo]=en(ee),el=r.forwardRef((e,a)=>{let{name:n,min:i=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:u=0,defaultValue:c=[i],value:m,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:v=!1,form:x,...y}=e,b=r.useRef(new Set),w=r.useRef(0),j="horizontal"===l,[S=[],R]=(0,g.useControllableState)({prop:m,defaultProp:c,onChange:e=>{let t=[...b.current];t[w.current]?.focus(),f(e)}}),C=r.useRef(S);function N(e,t,{commit:r}={commit:!1}){let a,n=(String(o).split(".")[1]||"").length,l=Math.round((Math.round((e-i)/o)*o+i)*(a=Math.pow(10,n)))/a,d=(0,Q.clamp)(l,[i,s]);R((e=[])=>{let a=function(e=[],t,r){let a=[...e];return a[r]=t,a.sort((e,t)=>e-t)}(e,d,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(a,u*o))return e;{w.current=a.indexOf(d);let t=String(a)!==String(e);return t&&r&&h(a),t?a:e}})}return(0,t.jsx)(es,{scope:e.__scopeSlider,name:n,disabled:d,min:i,max:s,valueIndexToChangeRef:w,thumbs:b.current,values:S,orientation:l,form:x,children:(0,t.jsx)(et.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(et.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(j?ec:em,{"aria-disabled":d,"data-disabled":d?"":void 0,...y,ref:a,onPointerDown:(0,p.composeEventHandlers)(y.onPointerDown,()=>{d||(C.current=S)}),min:i,max:s,inverted:v,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),a=Math.min(...r);return r.indexOf(a)}(S,e);N(e,t)},onSlideMove:d?void 0:function(e){N(e,w.current)},onSlideEnd:d?void 0:function(){let e=C.current[w.current];S[w.current]!==e&&h(S)},onHomeKeyDown:()=>!d&&N(i,0,{commit:!0}),onEndKeyDown:()=>!d&&N(s,S.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let r=W.includes(e.key)||e.shiftKey&&J.includes(e.key),a=w.current;N(S[a]+o*(r?10:1)*t,a,{commit:!0})}}})})})})});el.displayName=ee;var[ed,eu]=en(ee,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ec=r.forwardRef((e,a)=>{let{min:n,max:i,dir:s,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...m}=e,[p,h]=r.useState(null),v=(0,f.useComposedRefs)(a,e=>h(e)),x=r.useRef(void 0),g=(0,y.useDirection)(s),b="ltr"===g,w=b&&!o||!b&&o;function j(e){let t=x.current||p.getBoundingClientRect(),r=eS([0,t.width],w?[n,i]:[i,n]);return x.current=t,r(e-t.left)}return(0,t.jsx)(ed,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:(0,t.jsx)(ep,{dir:g,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=j(e.clientX);l?.(t)},onSlideMove:e=>{let t=j(e.clientX);d?.(t)},onSlideEnd:()=>{x.current=void 0,u?.()},onStepKeyDown:e=>{let t=Z[w?"from-left":"from-right"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),em=r.forwardRef((e,a)=>{let{min:n,max:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...c}=e,m=r.useRef(null),p=(0,f.useComposedRefs)(a,m),h=r.useRef(void 0),v=!s;function x(e){let t=h.current||m.current.getBoundingClientRect(),r=eS([0,t.height],v?[i,n]:[n,i]);return h.current=t,r(e-t.top)}return(0,t.jsx)(ed,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:(0,t.jsx)(ep,{"data-orientation":"vertical",...c,ref:p,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=x(e.clientY);o?.(t)},onSlideMove:e=>{let t=x(e.clientY);l?.(t)},onSlideEnd:()=>{h.current=void 0,d?.()},onStepKeyDown:e=>{let t=Z[v?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),ep=r.forwardRef((e,r)=>{let{__scopeSlider:a,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...u}=e,c=eo(ee,a);return(0,t.jsx)(X.span,{...u,ref:r,onKeyDown:(0,p.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):W.concat(J).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,p.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),c.thumbs.has(t)?t.focus():n(e)}),onPointerMove:(0,p.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,p.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})})}),ef="SliderTrack",eh=r.forwardRef((e,r)=>{let{__scopeSlider:a,...n}=e,i=eo(ef,a);return(0,t.jsx)(X.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:r})});eh.displayName=ef;var ev="SliderRange",ex=r.forwardRef((e,a)=>{let{__scopeSlider:n,...i}=e,s=eo(ev,n),o=eu(ev,n),l=r.useRef(null),d=(0,f.useComposedRefs)(a,l),u=s.values.length,c=s.values.map(e=>ej(e,s.min,s.max)),m=u>1?Math.min(...c):0,p=100-Math.max(...c);return(0,t.jsx)(X.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:d,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:p+"%"}})});ex.displayName=ev;var eg="SliderThumb",ey=r.forwardRef((e,a)=>{let n=er(e.__scopeSlider),[i,s]=r.useState(null),o=(0,f.useComposedRefs)(a,e=>s(e)),l=r.useMemo(()=>i?n().findIndex(e=>e.ref.current===i):-1,[n,i]);return(0,t.jsx)(eb,{...e,ref:o,index:l})}),eb=r.forwardRef((e,a)=>{var n,i,s,o,l;let d,u,{__scopeSlider:c,index:m,name:h,...v}=e,x=eo(eg,c),g=eu(eg,c),[y,w]=r.useState(null),j=(0,f.useComposedRefs)(a,e=>w(e)),S=!y||x.form||!!y.closest("form"),R=(0,b.useSize)(y),C=x.values[m],N=void 0===C?0:ej(C,x.min,x.max),D=(n=m,(i=x.values.length)>2?`Value ${n+1} of ${i}`:2===i?["Minimum","Maximum"][n]:void 0),k=R?.[g.size],M=k?(s=k,o=N,l=g.direction,u=eS([0,50],[0,d=s/2]),(d-u(o)*l)*l):0;return r.useEffect(()=>{if(y)return x.thumbs.add(y),()=>{x.thumbs.delete(y)}},[y,x.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[g.startEdge]:`calc(${N}% + ${M}px)`},children:[(0,t.jsx)(et.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(X.span,{role:"slider","aria-label":e["aria-label"]||D,"aria-valuemin":x.min,"aria-valuenow":C,"aria-valuemax":x.max,"aria-orientation":x.orientation,"data-orientation":x.orientation,"data-disabled":x.disabled?"":void 0,tabIndex:x.disabled?void 0:0,...v,ref:j,style:void 0===C?{display:"none"}:e.style,onFocus:(0,p.composeEventHandlers)(e.onFocus,()=>{x.valueIndexToChangeRef.current=m})})}),S&&(0,t.jsx)(ew,{name:h??(x.name?x.name+(x.values.length>1?"[]":""):void 0),form:x.form,value:C},m)]})});ey.displayName=eg;var ew=r.forwardRef(({__scopeSlider:e,value:a,...n},i)=>{let s=r.useRef(null),o=(0,f.useComposedRefs)(s,i),l=(0,w.usePrevious)(a);return r.useEffect(()=>{let e=s.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==a&&t){let r=new Event("input",{bubbles:!0});t.call(e,a),e.dispatchEvent(r)}},[l,a]),(0,t.jsx)(X.input,{style:{display:"none"},...n,ref:o,defaultValue:a})});function ej(e,t,r){return(0,Q.clamp)(100/(r-t)*(e-t),[0,100])}function eS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}ew.displayName="RadioBubbleInput",e.s(["Range",()=>ex,"Root",()=>el,"Slider",()=>el,"SliderRange",()=>ex,"SliderThumb",()=>ey,"SliderTrack",()=>eh,"Thumb",()=>ey,"Track",()=>eh,"createSliderScope",()=>ei],86976);var eR=e.i(86976),eR=eR;function eC({className:e,defaultValue:a,value:n,min:i=0,max:s=100,...o}){let l=r.useMemo(()=>Array.isArray(n)?n:Array.isArray(a)?a:[i,s],[n,a,i,s]);return(0,t.jsxs)(eR.Root,{"data-slot":"slider",defaultValue:a,value:n,min:i,max:s,className:(0,d.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...o,children:[(0,t.jsx)(eR.Track,{"data-slot":"slider-track",className:(0,d.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(eR.Range,{"data-slot":"slider-range",className:(0,d.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,r)=>(0,t.jsx)(eR.Thumb,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},r))]})}var eN=e.i(41868),eD=e.i(12061),ek=e.i(69501),eM=e.i(94325);let eP=(0,eM.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),eE=[{value:"destroyed",label:"Destroyed",description:"Structure completely destroyed"},{value:"major",label:"Major",description:"Significant structural damage"},{value:"minor",label:"Minor",description:"Cosmetic or limited damage"},{value:"affected",label:"Affected",description:"In affected area, minor impact"},{value:"none",label:"None",description:"No damage observed"}];function eI({open:e,onOpenChange:i,incidentId:s,parcel:o}){let[l,d]=(0,r.useState)("minor"),[m,p]=(0,r.useState)([25]),[f,h]=(0,r.useState)([10]),[v,x]=(0,r.useState)(new Date().toISOString().split("T")[0]),[g,y]=(0,r.useState)(""),b=(0,eD.useSubmitSurvey)(),w=async()=>{try{await b.mutateAsync({incidentId:s,parcelId:o.affectedParcelId,survey:{damageLevel:l,improvementDamagePercent:m[0],landDamagePercent:f[0],surveyDate:v,notes:g}}),ek.toast.success("Damage survey submitted",{description:`Survey recorded for parcel ${o.apn}`}),i(!1)}catch(e){ek.toast.error("Failed to submit survey",{description:"Please try again"})}};return(0,t.jsx)(a.Dialog,{open:e,onOpenChange:i,children:(0,t.jsxs)(a.DialogContent,{className:"sm:max-w-lg",children:[(0,t.jsxs)(a.DialogHeader,{children:[(0,t.jsx)(a.DialogTitle,{children:"Damage Survey"}),(0,t.jsxs)(a.DialogDescription,{children:["Record damage assessment for parcel"," ",(0,t.jsx)("span",{className:"font-mono font-medium",children:o.apn})]})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(u,{className:"text-sm font-medium",children:"Damage Level"}),(0,t.jsx)(B,{value:l,onValueChange:d,children:eE.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 rounded-lg border p-3 cursor-pointer hover:bg-muted/50 transition-colors",children:[(0,t.jsx)(G,{value:e.value,id:e.value}),(0,t.jsxs)(u,{htmlFor:e.value,className:"flex-1 cursor-pointer",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(u,{className:"text-sm font-medium",children:"Improvement Damage"}),(0,t.jsxs)("span",{className:"text-sm font-medium tabular-nums",children:[m[0],"%"]})]}),(0,t.jsx)(eC,{value:m,onValueChange:p,min:0,max:100,step:5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(u,{className:"text-sm font-medium",children:"Land Damage"}),(0,t.jsxs)("span",{className:"text-sm font-medium tabular-nums",children:[f[0],"%"]})]}),(0,t.jsx)(eC,{value:f,onValueChange:h,min:0,max:100,step:5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{className:"text-sm font-medium",children:"Survey Date"}),(0,t.jsx)(eN.Input,{type:"date",value:v,onChange:e=>x(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{className:"text-sm font-medium",children:"Notes"}),(0,t.jsx)(c,{value:g,onChange:e=>y(e.target.value),placeholder:"Additional observations...",rows:3})]})]}),(0,t.jsxs)(a.DialogFooter,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,t.jsxs)(n.Button,{onClick:w,disabled:b.isPending,children:[b.isPending&&(0,t.jsx)(eP,{className:"h-4 w-4 mr-2 animate-spin"}),"Submit Survey"]})]})]})})}e.s(["SurveyDialog",()=>eI],65241);var eF=e.i(48846);let eA=(0,eM.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var eO=e.i(36941);function eT({open:e,onOpenChange:i,incidentId:s,parcel:o}){let[l,d]=(0,r.useState)(null),u=(0,eD.useComputeReassessment)(),c=async()=>{try{let e=await u.mutateAsync({incidentId:s,parcelId:o.affectedParcelId});d(e),ek.toast.success("Reassessment computed",{description:`Value reduction of ${(0,eF.formatCurrency)(e.reductionAmount)} for parcel ${o.apn}`})}catch(e){ek.toast.error("Failed to compute reassessment",{description:"Please try again"})}};return(0,t.jsx)(a.Dialog,{open:e,onOpenChange:i,children:(0,t.jsxs)(a.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(a.DialogHeader,{children:[(0,t.jsx)(a.DialogTitle,{children:"Reassessment"}),(0,t.jsxs)(a.DialogDescription,{children:["Compute revised values for parcel"," ",(0,t.jsx)("span",{className:"font-mono font-medium",children:o.apn})]})]}),l?(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-success",children:[(0,t.jsx)(eO.CheckCircle,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Reassessment Complete"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Prior Value"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums",children:(0,eF.formatCurrency)(l.priorTotalValue)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Revised Value"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums text-primary",children:(0,eF.formatCurrency)(l.revisedTotalValue)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Reduction"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(eA,{className:"h-3.5 w-3.5 text-destructive"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums text-destructive",children:(0,eF.formatCurrency)(l.reductionAmount)})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Land"}),(0,t.jsxs)("span",{children:[(0,eF.formatCurrency)(l.priorLandValue)," → ",(0,eF.formatCurrency)(l.revisedLandValue)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Improvements"}),(0,t.jsxs)("span",{children:[(0,eF.formatCurrency)(l.priorImprovementValue)," → ",(0,eF.formatCurrency)(l.revisedImprovementValue)]})]})]})]}):(0,t.jsx)("div",{className:"py-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This will compute revised property values based on the recorded damage survey data. The computation uses standard calamity reassessment formulas."})}),(0,t.jsx)(a.DialogFooter,{children:l?(0,t.jsx)(n.Button,{onClick:()=>i(!1),children:"Done"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,t.jsxs)(n.Button,{onClick:c,disabled:u.isPending,children:[u.isPending&&(0,t.jsx)(eP,{className:"h-4 w-4 mr-2 animate-spin"}),"Compute Reassessment"]})]})})]})})}e.s(["ReassessmentDialog",()=>eT],12618);let eL=(0,eM.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);e.s(["Calculator",()=>eL],1057)}]);