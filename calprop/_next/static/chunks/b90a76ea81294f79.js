(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71908,e=>{"use strict";var t=e.i(59834),s=e.i(79448),r=e.i(78961),a=e.i(22513);let i=(0,s.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s="default",asChild:n=!1,...l}){let o=n?r.Slot.Root:"span";return(0,t.jsx)(o,{"data-slot":"badge","data-variant":s,className:(0,a.cn)(i({variant:s}),e),...l})}e.s(["Badge",()=>n])},79001,e=>{"use strict";var t=e.i(59834),s=e.i(22513);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function a({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>n,"CardHeader",()=>a,"CardTitle",()=>i])},25305,e=>{"use strict";var t=e.i(42828),s=e.i(85398);function r(e){return(0,t.useQuery)({queryKey:["parcels",e],queryFn:()=>(0,s.apiFetch)("/v1/parcels",{params:{search:e.search,status:e.status,page:e.page||1,pageSize:e.pageSize||20}})})}function a(e){return(0,t.useQuery)({queryKey:["parcel",e],queryFn:()=>(0,s.apiFetch)(`/v1/parcels/${e}`),enabled:!!e})}function i(e){return(0,t.useQuery)({queryKey:["parcel-flags",e],queryFn:()=>(0,s.apiFetch)(`/v1/parcels/${e}/flags`),enabled:!!e})}e.s(["useParcel",()=>a,"useParcelFlags",()=>i,"useParcels",()=>r])},52815,e=>{"use strict";var t=e.i(59834),s=e.i(71908),r=e.i(22513),a=e.i(50875);function i({level:e,className:i}){let n=a.damageLevelColors[e.toLowerCase()]||"bg-muted text-muted-foreground border-muted";return(0,t.jsx)(s.Badge,{variant:"outline",className:(0,r.cn)("font-medium capitalize text-[11px] px-2 py-0.5",n,i),children:e.replace(/_/g," ")})}e.s(["DamageBadge",()=>i])},41868,e=>{"use strict";var t=e.i(59834),s=e.i(22513);function r({className:e,type:r,...a}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>r])},38798,e=>{"use strict";var t=e.i(42656);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},71579,e=>{"use strict";function t(e,[t,s]){return Math.min(s,Math.max(t,e))}e.s(["clamp",()=>t])},54004,e=>{"use strict";let t=(0,e.i(94325).default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);e.s(["ClipboardList",()=>t],54004)},38104,59537,e=>{"use strict";var t=e.i(94325);let s=(0,t.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],38104);let r=(0,t.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>r],59537)},37243,e=>{"use strict";var t=e.i(59834),s=e.i(48846);function r({segments:e,total:r}){if(0===r)return(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No assessed value data"});let a=[...e].filter(e=>e.value>0).sort((e,t)=>t.value-e.value);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-3 w-full rounded-full overflow-hidden flex bg-muted",children:a.map(e=>{let a=e.value/r*100;return(0,t.jsx)("div",{className:"h-full transition-all duration-700 ease-out first:rounded-l-full last:rounded-r-full",style:{width:`${a}%`,backgroundColor:e.color},title:`${e.label}: ${(0,s.formatCurrency)(e.value)}`},e.label)})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-1.5",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"inline-block h-2 w-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.label}),(0,t.jsx)("span",{className:"text-xs font-medium tabular-nums",children:(0,s.formatCurrency)(e.value)})]},e.label))})]})}e.s(["ValueBreakdownBar",()=>r])},36941,e=>{"use strict";let t=(0,e.i(94325).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],36941)},69833,e=>{"use strict";let t=(0,e.i(94325).default)("file-search",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]]);e.s(["FileSearch",()=>t],69833)},74182,e=>{"use strict";let t=(0,e.i(94325).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],74182)},80612,e=>{"use strict";var t=e.i(59834),s=e.i(22513);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",e),...r})}e.s(["Skeleton",()=>r])},42828,e=>{"use strict";let t;var s=e.i(88926),r=e.i(77456),a=e.i(69206),i=e.i(54368),n=e.i(70305),l=e.i(12674),o=e.i(34171),d=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#s=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#a=void 0;#i=void 0;#n;#l;#s;#t;#o;#d;#c;#u;#m;#h;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),c(this.#r,this.options)?this.#x():this.updateResult(),this.#f())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#v(),this.#r.removeObserver(this)}setOptions(e){let t=this.options,s=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#y(),this.#r.setOptions(this.options),t._defaulted&&!(0,l.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let r=this.hasListeners();r&&m(this.#r,s,this.options,t)&&this.#x(),this.updateResult(),r&&(this.#r!==s||(0,l.resolveEnabled)(this.options.enabled,this.#r)!==(0,l.resolveEnabled)(t.enabled,this.#r)||(0,l.resolveStaleTime)(this.options.staleTime,this.#r)!==(0,l.resolveStaleTime)(t.staleTime,this.#r))&&this.#b();let a=this.#j();r&&(this.#r!==s||(0,l.resolveEnabled)(this.options.enabled,this.#r)!==(0,l.resolveEnabled)(t.enabled,this.#r)||a!==this.#h)&&this.#N(a)}getOptimisticResult(e){var t,s;let r=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(r,e);return t=this,s=a,(0,l.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#i=a,this.#l=this.options,this.#n=this.#r.state),a}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#s.status||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#x({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#x(e){this.#y();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#b(){this.#g();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#r);if(l.isServer||this.#i.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#u=o.timeoutManager.setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#N(e){this.#v(),this.#h=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#r)&&(0,l.isValidTimeout)(this.#h)&&0!==this.#h&&(this.#m=o.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||s.focusManager.isFocused())&&this.#x()},this.#h))}#f(){this.#b(),this.#N(this.#j())}#g(){this.#u&&(o.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#v(){this.#m&&(o.timeoutManager.clearInterval(this.#m),this.#m=void 0)}createResult(e,t){let s,r=this.#r,i=this.options,o=this.#i,d=this.#n,u=this.#l,p=e!==r?e.state:this.#a,{state:x}=e,f={...x},g=!1;if(t._optimisticResults){let s=this.hasListeners(),n=!s&&c(e,t),l=s&&m(e,r,t,i);(n||l)&&(f={...f,...(0,a.fetchState)(x.data,e.options)}),"isRestoring"===t._optimisticResults&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:b}=f;s=f.data;let j=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===b){let e;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=o.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(b="success",s=(0,l.replaceData)(o?.data,e,t),g=!0)}if(t.select&&void 0!==s&&!j)if(o&&s===d?.data&&t.select===this.#o)s=this.#d;else try{this.#o=t.select,s=t.select(s),s=(0,l.replaceData)(o?.data,s,t),this.#d=s,this.#t=null}catch(e){this.#t=e}this.#t&&(v=this.#t,s=this.#d,y=Date.now(),b="error");let N="fetching"===f.fetchStatus,w="pending"===b,R="error"===b,C=w&&N,S=void 0!==s,k={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:"success"===b,isError:R,isInitialLoading:C,isLoading:C,data:s,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>p.dataUpdateCount||f.errorUpdateCount>p.errorUpdateCount,isFetching:N,isRefetching:N&&!w,isLoadingError:R&&!S,isPaused:"paused"===f.fetchStatus,isPlaceholderData:g,isRefetchError:R&&S,isStale:h(e,t),refetch:this.refetch,promise:this.#s,isEnabled:!1!==(0,l.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==k.data,s="error"===k.status&&!t,a=e=>{s?e.reject(k.error):t&&e.resolve(k.data)},i=()=>{a(this.#s=k.promise=(0,n.pendingThenable)())},l=this.#s;switch(l.status){case"pending":e.queryHash===r.queryHash&&a(l);break;case"fulfilled":(s||k.data!==l.value)&&i();break;case"rejected":s&&k.error===l.reason||i()}}return k}updateResult(){let e=this.#i,t=this.createResult(this.#r,this.options);if(this.#n=this.#r.state,this.#l=this.options,void 0!==this.#n.data&&(this.#c=this.#r),(0,l.shallowEqualObjects)(t,e))return;this.#i=t;let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#p.size)return!0;let r=new Set(s??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(t=>this.#i[t]!==e[t]&&r.has(t))};this.#w({listeners:s()})}#y(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#f()}#w(e){r.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,s){if(!1!==(0,l.resolveEnabled)(t.enabled,e)&&"static"!==(0,l.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&h(e,t)}return!1}function m(e,t,s,r){return(e!==t||!1===(0,l.resolveEnabled)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&h(e,s)}function h(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(33681);var p=e.i(42656),x=e.i(73252);e.i(59834);var f=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=p.createContext(!1);g.Provider;var v=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function y(e,t){return function(e,t,s){let a,i=p.useContext(g),n=p.useContext(f),o=(0,x.useQueryClient)(s),d=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(d);let c=o.getQueryCache().get(d.queryHash);if(d._optimisticResults=i?"isRestoring":"optimistic",d.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=d.staleTime;d.staleTime="function"==typeof t?(...s)=>e(t(...s)):e(t),"number"==typeof d.gcTime&&(d.gcTime=Math.max(d.gcTime,1e3))}a=c?.state.error&&"function"==typeof d.throwOnError?(0,l.shouldThrowError)(d.throwOnError,[c.state.error,c]):d.throwOnError,(d.suspense||d.experimental_prefetchInRender||a)&&!n.isReset()&&(d.retryOnMount=!1),p.useEffect(()=>{n.clearReset()},[n]);let u=!o.getQueryCache().get(d.queryHash),[m]=p.useState(()=>new t(o,d)),h=m.getOptimisticResult(d),y=!i&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=y?m.subscribe(r.notifyManager.batchCalls(e)):l.noop;return m.updateResult(),t},[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),p.useEffect(()=>{m.setOptions(d)},[d,m]),d?.suspense&&h.isPending)throw v(d,m,n);if((({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&void 0===e.data||(0,l.shouldThrowError)(s,[e.error,r])))({result:h,errorResetBoundary:n,throwOnError:d.throwOnError,query:c,suspense:d.suspense}))throw h.error;if(o.getDefaultOptions().queries?._experimental_afterQuery?.(d,h),d.experimental_prefetchInRender&&!l.isServer&&h.isLoading&&h.isFetching&&!i){let e=u?v(d,m,n):c?.promise;e?.catch(l.noop).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?h:m.trackResult(h)}(e,d,t)}e.s(["useQuery",()=>y],42828)},48846,e=>{"use strict";let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});let s=new Intl.NumberFormat("en-US");function r(e){return t.format(e)}function a(e){return s.format(e)}function i(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function n(e){let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3),r=Math.floor(s/60),a=Math.floor(r/60),n=Math.floor(a/24);return s<60?"just now":r<60?1===r?"1 min ago":r+" min ago":a<24?1===a?"1 hr ago":a+" hrs ago":n<7?1===n?"1 day ago":n+" days ago":i(e)}function l(e){return e}function o(e){return e<1?e.toFixed(2)+" ac":s.format(e)+" ac"}new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}),e.s(["formatAcreage",()=>o,"formatApn",()=>l,"formatCurrency",()=>r,"formatDate",()=>i,"formatNumber",()=>a,"formatRelativeTime",()=>n])},50875,e=>{"use strict";e.s(["damageLevelColors",0,{destroyed:"bg-destructive/15 text-destructive border-destructive/20",major:"bg-[oklch(0.7_0.15_40)]/15 text-[oklch(0.55_0.18_40)] border-[oklch(0.7_0.15_40)]/20",minor:"bg-warning/15 text-warning border-warning/20",affected:"bg-info/15 text-info border-info/20",inaccessible:"bg-muted text-muted-foreground border-muted",none:"bg-success/15 text-success border-success/20"},"incidentTypeLabels",0,{wildfire:"Wildfire",flood:"Flood",earthquake:"Earthquake",mudslide:"Mudslide",hurricane:"Hurricane",tornado:"Tornado",other:"Other"},"statusColors",0,{active:"bg-success/15 text-success border-success/20",inactive:"bg-muted text-muted-foreground border-muted",pending:"bg-warning/15 text-warning border-warning/20",archived:"bg-muted text-muted-foreground border-muted",monitoring:"bg-info/15 text-info border-info/20",closed:"bg-muted text-muted-foreground border-muted"}])},17896,e=>{"use strict";var t=e.i(59834),s=e.i(71908),r=e.i(22513),a=e.i(50875);function i({status:e,className:i}){let n=a.statusColors[e.toLowerCase()]||"bg-muted text-muted-foreground border-muted";return(0,t.jsxs)(s.Badge,{variant:"outline",className:(0,r.cn)("font-medium capitalize text-[11px] px-2 py-0.5",n,i),children:[(0,t.jsx)("span",{className:"mr-1.5 inline-block h-1.5 w-1.5 rounded-full bg-current"}),e.replace(/_/g," ")]})}e.s(["StatusBadge",()=>i])},12061,e=>{"use strict";var t=e.i(42828),s=e.i(42656),r=e.i(93312),a=e.i(77456),i=e.i(54368),n=e.i(12674),l=class extends i.Subscribable{#e;#i=void 0;#R;#C;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#S()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#R,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.hashKey)(t.mutationKey)!==(0,n.hashKey)(this.options.mutationKey)?this.reset():this.#R?.state.status==="pending"&&this.#R.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#R?.removeObserver(this)}onMutationUpdate(e){this.#S(),this.#w(e)}getCurrentResult(){return this.#i}reset(){this.#R?.removeObserver(this),this.#R=void 0,this.#S(),this.#w()}mutate(e,t){return this.#C=t,this.#R?.removeObserver(this),this.#R=this.#e.getMutationCache().build(this.#e,this.options),this.#R.addObserver(this),this.#R.execute(e)}#S(){let e=this.#R?.state??(0,r.getDefaultState)();this.#i={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#w(e){a.notifyManager.batch(()=>{if(this.#C&&this.hasListeners()){let t=this.#i.variables,s=this.#i.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#C.onSuccess?.(e.data,t,s,r)}catch(e){Promise.reject(e)}try{this.#C.onSettled?.(e.data,null,t,s,r)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#C.onError?.(e.error,t,s,r)}catch(e){Promise.reject(e)}try{this.#C.onSettled?.(void 0,e.error,t,s,r)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#i)})})}},o=e.i(73252);function d(e,t){let r=(0,o.useQueryClient)(t),[i]=s.useState(()=>new l(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let d=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(a.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=s.useCallback((e,t)=>{i.mutate(e,t).catch(n.noop)},[i]);if(d.error&&(0,n.shouldThrowError)(i.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:c,mutateAsync:d.mutate}}var c=e.i(85398);function u(e){return(0,t.useQuery)({queryKey:["incidents",e],queryFn:()=>(0,c.apiFetch)("/v1/calamity/incidents",{params:{status:e}})})}function m(e){return(0,t.useQuery)({queryKey:["incident",e],queryFn:()=>(0,c.apiFetch)(`/v1/calamity/incidents/${e}`),enabled:!!e})}function h(e){return(0,t.useQuery)({queryKey:["affected-parcels",e],queryFn:()=>(0,c.apiFetch)(`/v1/calamity/incidents/${e.incidentId}/parcels`,{params:{page:e.page||1,pageSize:e.pageSize||20,damageLevel:e.damageLevel}}),enabled:!!e.incidentId})}function p(){let e=(0,o.useQueryClient)();return d({mutationFn:({incidentId:e,parcelId:t,survey:s})=>(0,c.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/survey`,{method:"POST",body:s}),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["affected-parcels"]}),e.invalidateQueries({queryKey:["incident",s.incidentId]})}})}function x(){let e=(0,o.useQueryClient)();return d({mutationFn:({incidentId:e,parcelId:t})=>(0,c.apiFetch)(`/v1/calamity/incidents/${e}/parcels/${t}/reassess`,{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["affected-parcels"]})}})}e.s(["useAffectedParcels",()=>h,"useComputeReassessment",()=>x,"useIncident",()=>m,"useIncidents",()=>u,"useSubmitSurvey",()=>p],12061)},84707,e=>{"use strict";var t=e.i(59834),s=e.i(79001),r=e.i(80612),a=e.i(22513),i=e.i(33217);function n({title:e,value:n,icon:l,description:o,trend:d,href:c,isLoading:u=!1,className:m}){let h=(0,t.jsx)(s.Card,{className:(0,a.cn)("shadow-sm transition-all duration-200",c&&"cursor-pointer hover:shadow-md hover:border-primary/20 hover:-translate-y-0.5",m),children:(0,t.jsxs)(s.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[l&&(0,t.jsx)(l,{className:"h-4 w-4"}),e]}),(0,t.jsxs)("div",{className:"mt-3 flex items-baseline gap-2",children:[u?(0,t.jsx)(r.Skeleton,{className:"h-8 w-24"}):(0,t.jsx)("span",{className:"text-2xl font-bold tracking-tight",children:n}),d&&!u&&(0,t.jsxs)("span",{className:(0,a.cn)("text-xs font-medium",d.isPositive?"text-success":"text-destructive"),children:[d.isPositive?"+":"",d.value,"%"]})]}),o&&(0,t.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:o})]})});return c?(0,t.jsx)(i.default,{href:c,className:"block",children:h}):h}e.s(["KpiCard",()=>n])},65241,12618,1057,e=>{"use strict";var t=e.i(59834),s=e.i(42656),r=e.i(65597),a=e.i(44261);e.i(37673);var i=e.i(79542),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let a=(0,i.createSlot)(`Primitive.${r}`),n=s.forwardRef((e,s)=>{let{asChild:i,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?a:r,{...n,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),l=s.forwardRef((e,s)=>(0,t.jsx)(n.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label",e.s(["Label",()=>l,"Root",()=>l],23469);var o=e.i(23469),o=o,d=e.i(22513);function c({className:e,...s}){return(0,t.jsx)(o.Root,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}function u({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,d.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}var m=e.i(79887),h=e.i(50752),p=e.i(2819),x=e.i(83113),f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let a=(0,i.createSlot)(`Primitive.${r}`),n=s.forwardRef((e,s)=>{let{asChild:i,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?a:r,{...n,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),g=e.i(7101),v=e.i(87910),y=e.i(58853),b=e.i(63534),j=e.i(38798),N=e.i(81837),w="Radio",[R,C]=(0,x.createContextScope)(w),[S,k]=R(w),I=s.forwardRef((e,r)=>{let{__scopeRadio:a,name:i,checked:n=!1,required:l,disabled:o,value:d="on",onCheck:c,form:u,...m}=e,[x,g]=s.useState(null),v=(0,p.useComposedRefs)(r,e=>g(e)),y=s.useRef(!1),b=!x||u||!!x.closest("form");return(0,t.jsxs)(S,{scope:a,checked:n,disabled:o,children:[(0,t.jsx)(f.button,{type:"button",role:"radio","aria-checked":n,"data-state":M(n),"data-disabled":o?"":void 0,disabled:o,value:d,...m,ref:v,onClick:(0,h.composeEventHandlers)(e.onClick,e=>{n||c?.(),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),b&&(0,t.jsx)(P,{control:x,bubbles:!y.current,name:i,value:d,checked:n,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});I.displayName=w;var D="RadioIndicator",A=s.forwardRef((e,s)=>{let{__scopeRadio:r,forceMount:a,...i}=e,n=k(D,r);return(0,t.jsx)(N.Presence,{present:a||n.checked,children:(0,t.jsx)(f.span,{"data-state":M(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:s})})});A.displayName=D;var P=s.forwardRef(({__scopeRadio:e,control:r,checked:a,bubbles:i=!0,...n},l)=>{let o=s.useRef(null),d=(0,p.useComposedRefs)(o,l),c=(0,j.usePrevious)(a),u=(0,b.useSize)(r);return s.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&t){let s=new Event("click",{bubbles:i});t.call(e,a),e.dispatchEvent(s)}},[c,a,i]),(0,t.jsx)(f.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:d,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function M(e){return e?"checked":"unchecked"}P.displayName="RadioBubbleInput";var E=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T="RadioGroup",[F,O]=(0,x.createContextScope)(T,[g.createRovingFocusGroupScope,C]),Q=(0,g.createRovingFocusGroupScope)(),L=C(),[B,q]=F(T),z=s.forwardRef((e,s)=>{let{__scopeRadioGroup:r,name:a,defaultValue:i,value:n,required:l=!1,disabled:o=!1,orientation:d,dir:c,loop:u=!0,onValueChange:m,...h}=e,p=Q(r),x=(0,y.useDirection)(c),[b,j]=(0,v.useControllableState)({prop:n,defaultProp:i??null,onChange:m,caller:T});return(0,t.jsx)(B,{scope:r,name:a,required:l,disabled:o,value:b,onValueChange:j,children:(0,t.jsx)(g.Root,{asChild:!0,...p,orientation:d,dir:x,loop:u,children:(0,t.jsx)(f.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":o?"":void 0,dir:x,...h,ref:s})})})});z.displayName=T;var _="RadioGroupItem",K=s.forwardRef((e,r)=>{let{__scopeRadioGroup:a,disabled:i,...n}=e,l=q(_,a),o=l.disabled||i,d=Q(a),c=L(a),u=s.useRef(null),m=(0,p.useComposedRefs)(r,u),x=l.value===n.value,f=s.useRef(!1);return s.useEffect(()=>{let e=e=>{E.includes(e.key)&&(f.current=!0)},t=()=>f.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(g.Item,{asChild:!0,...d,focusable:!o,active:x,children:(0,t.jsx)(I,{disabled:o,required:l.required,checked:x,...c,...n,name:l.name,ref:m,onCheck:()=>l.onValueChange(n.value),onKeyDown:(0,h.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,h.composeEventHandlers)(n.onFocus,()=>{f.current&&u.current?.click()})})})});K.displayName=_;var V=s.forwardRef((e,s)=>{let{__scopeRadioGroup:r,...a}=e,i=L(r);return(0,t.jsx)(A,{...i,...a,ref:s})});V.displayName="RadioGroupIndicator",e.s(["Indicator",()=>V,"Item",()=>K,"RadioGroup",()=>z,"RadioGroupIndicator",()=>V,"RadioGroupItem",()=>K,"Root",()=>z,"createRadioGroupScope",()=>O],69525);var U=e.i(69525),U=U;function $({className:e,...s}){return(0,t.jsx)(U.Root,{"data-slot":"radio-group",className:(0,d.cn)("grid gap-3",e),...s})}function H({className:e,...s}){return(0,t.jsx)(U.Item,{"data-slot":"radio-group-item",className:(0,d.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(U.Indicator,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(m.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var W=e.i(71579),G=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let a=(0,i.createSlot)(`Primitive.${r}`),n=s.forwardRef((e,s)=>{let{asChild:i,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?a:r,{...n,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),X=e.i(31254),Y=["PageUp","PageDown"],J=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ee="Slider",[et,es,er]=(0,X.createCollection)(ee),[ea,ei]=(0,x.createContextScope)(ee,[er]),[en,el]=ea(ee),eo=s.forwardRef((e,r)=>{let{name:a,min:i=0,max:n=100,step:l=1,orientation:o="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[i],value:m,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:f=!1,form:g,...y}=e,b=s.useRef(new Set),j=s.useRef(0),N="horizontal"===o,[w=[],R]=(0,v.useControllableState)({prop:m,defaultProp:u,onChange:e=>{let t=[...b.current];t[j.current]?.focus(),p(e)}}),C=s.useRef(w);function S(e,t,{commit:s}={commit:!1}){let r,a=(String(l).split(".")[1]||"").length,o=Math.round((Math.round((e-i)/l)*l+i)*(r=Math.pow(10,a)))/r,d=(0,W.clamp)(o,[i,n]);R((e=[])=>{let r=function(e=[],t,s){let r=[...e];return r[s]=t,r.sort((e,t)=>e-t)}(e,d,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,s)=>e[s+1]-t))>=t;return!0}(r,c*l))return e;{j.current=r.indexOf(d);let t=String(r)!==String(e);return t&&s&&x(r),t?r:e}})}return(0,t.jsx)(en,{scope:e.__scopeSlider,name:a,disabled:d,min:i,max:n,valueIndexToChangeRef:j,thumbs:b.current,values:w,orientation:o,form:g,children:(0,t.jsx)(et.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(et.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(N?eu:em,{"aria-disabled":d,"data-disabled":d?"":void 0,...y,ref:r,onPointerDown:(0,h.composeEventHandlers)(y.onPointerDown,()=>{d||(C.current=w)}),min:i,max:n,inverted:f,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let s=e.map(e=>Math.abs(e-t)),r=Math.min(...s);return s.indexOf(r)}(w,e);S(e,t)},onSlideMove:d?void 0:function(e){S(e,j.current)},onSlideEnd:d?void 0:function(){let e=C.current[j.current];w[j.current]!==e&&x(w)},onHomeKeyDown:()=>!d&&S(i,0,{commit:!0}),onEndKeyDown:()=>!d&&S(n,w.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let s=Y.includes(e.key)||e.shiftKey&&J.includes(e.key),r=j.current;S(w[r]+l*(s?10:1)*t,r,{commit:!0})}}})})})})});eo.displayName=ee;var[ed,ec]=ea(ee,{startEdge:"left",endEdge:"right",size:"width",direction:1}),eu=s.forwardRef((e,r)=>{let{min:a,max:i,dir:n,inverted:l,onSlideStart:o,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...m}=e,[h,x]=s.useState(null),f=(0,p.useComposedRefs)(r,e=>x(e)),g=s.useRef(void 0),v=(0,y.useDirection)(n),b="ltr"===v,j=b&&!l||!b&&l;function N(e){let t=g.current||h.getBoundingClientRect(),s=ew([0,t.width],j?[a,i]:[i,a]);return g.current=t,s(e-t.left)}return(0,t.jsx)(ed,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:(0,t.jsx)(eh,{dir:v,"data-orientation":"horizontal",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=N(e.clientX);o?.(t)},onSlideMove:e=>{let t=N(e.clientX);d?.(t)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:e=>{let t=Z[j?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),em=s.forwardRef((e,r)=>{let{min:a,max:i,inverted:n,onSlideStart:l,onSlideMove:o,onSlideEnd:d,onStepKeyDown:c,...u}=e,m=s.useRef(null),h=(0,p.useComposedRefs)(r,m),x=s.useRef(void 0),f=!n;function g(e){let t=x.current||m.current.getBoundingClientRect(),s=ew([0,t.height],f?[i,a]:[a,i]);return x.current=t,s(e-t.top)}return(0,t.jsx)(ed,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:(0,t.jsx)(eh,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=g(e.clientY);l?.(t)},onSlideMove:e=>{let t=g(e.clientY);o?.(t)},onSlideEnd:()=>{x.current=void 0,d?.()},onStepKeyDown:e=>{let t=Z[f?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),eh=s.forwardRef((e,s)=>{let{__scopeSlider:r,onSlideStart:a,onSlideMove:i,onSlideEnd:n,onHomeKeyDown:l,onEndKeyDown:o,onStepKeyDown:d,...c}=e,u=el(ee,r);return(0,t.jsx)(G.span,{...c,ref:s,onKeyDown:(0,h.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):Y.concat(J).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,h.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():a(e)}),onPointerMove:(0,h.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,h.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),n(e))})})}),ep="SliderTrack",ex=s.forwardRef((e,s)=>{let{__scopeSlider:r,...a}=e,i=el(ep,r);return(0,t.jsx)(G.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...a,ref:s})});ex.displayName=ep;var ef="SliderRange",eg=s.forwardRef((e,r)=>{let{__scopeSlider:a,...i}=e,n=el(ef,a),l=ec(ef,a),o=s.useRef(null),d=(0,p.useComposedRefs)(r,o),c=n.values.length,u=n.values.map(e=>eN(e,n.min,n.max)),m=c>1?Math.min(...u):0,h=100-Math.max(...u);return(0,t.jsx)(G.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...i,ref:d,style:{...e.style,[l.startEdge]:m+"%",[l.endEdge]:h+"%"}})});eg.displayName=ef;var ev="SliderThumb",ey=s.forwardRef((e,r)=>{let a=es(e.__scopeSlider),[i,n]=s.useState(null),l=(0,p.useComposedRefs)(r,e=>n(e)),o=s.useMemo(()=>i?a().findIndex(e=>e.ref.current===i):-1,[a,i]);return(0,t.jsx)(eb,{...e,ref:l,index:o})}),eb=s.forwardRef((e,r)=>{var a,i,n,l,o;let d,c,{__scopeSlider:u,index:m,name:x,...f}=e,g=el(ev,u),v=ec(ev,u),[y,j]=s.useState(null),N=(0,p.useComposedRefs)(r,e=>j(e)),w=!y||g.form||!!y.closest("form"),R=(0,b.useSize)(y),C=g.values[m],S=void 0===C?0:eN(C,g.min,g.max),k=(a=m,(i=g.values.length)>2?`Value ${a+1} of ${i}`:2===i?["Minimum","Maximum"][a]:void 0),I=R?.[v.size],D=I?(n=I,l=S,o=v.direction,c=ew([0,50],[0,d=n/2]),(d-c(l)*o)*o):0;return s.useEffect(()=>{if(y)return g.thumbs.add(y),()=>{g.thumbs.delete(y)}},[y,g.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[v.startEdge]:`calc(${S}% + ${D}px)`},children:[(0,t.jsx)(et.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(G.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":g.min,"aria-valuenow":C,"aria-valuemax":g.max,"aria-orientation":g.orientation,"data-orientation":g.orientation,"data-disabled":g.disabled?"":void 0,tabIndex:g.disabled?void 0:0,...f,ref:N,style:void 0===C?{display:"none"}:e.style,onFocus:(0,h.composeEventHandlers)(e.onFocus,()=>{g.valueIndexToChangeRef.current=m})})}),w&&(0,t.jsx)(ej,{name:x??(g.name?g.name+(g.values.length>1?"[]":""):void 0),form:g.form,value:C},m)]})});ey.displayName=ev;var ej=s.forwardRef(({__scopeSlider:e,value:r,...a},i)=>{let n=s.useRef(null),l=(0,p.useComposedRefs)(n,i),o=(0,j.usePrevious)(r);return s.useEffect(()=>{let e=n.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(o!==r&&t){let s=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(s)}},[o,r]),(0,t.jsx)(G.input,{style:{display:"none"},...a,ref:l,defaultValue:r})});function eN(e,t,s){return(0,W.clamp)(100/(s-t)*(e-t),[0,100])}function ew(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}ej.displayName="RadioBubbleInput",e.s(["Range",()=>eg,"Root",()=>eo,"Slider",()=>eo,"SliderRange",()=>eg,"SliderThumb",()=>ey,"SliderTrack",()=>ex,"Thumb",()=>ey,"Track",()=>ex,"createSliderScope",()=>ei],86976);var eR=e.i(86976),eR=eR;function eC({className:e,defaultValue:r,value:a,min:i=0,max:n=100,...l}){let o=s.useMemo(()=>Array.isArray(a)?a:Array.isArray(r)?r:[i,n],[a,r,i,n]);return(0,t.jsxs)(eR.Root,{"data-slot":"slider",defaultValue:r,value:a,min:i,max:n,className:(0,d.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l,children:[(0,t.jsx)(eR.Track,{"data-slot":"slider-track",className:(0,d.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(eR.Range,{"data-slot":"slider-range",className:(0,d.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(e,s)=>(0,t.jsx)(eR.Thumb,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},s))]})}var eS=e.i(41868),ek=e.i(12061),eI=e.i(69501),eD=e.i(67289);let eA=[{value:"destroyed",label:"Destroyed",description:"Structure completely destroyed"},{value:"major",label:"Major",description:"Significant structural damage"},{value:"minor",label:"Minor",description:"Cosmetic or limited damage"},{value:"affected",label:"Affected",description:"In affected area, minor impact"},{value:"none",label:"None",description:"No damage observed"}];function eP({open:e,onOpenChange:i,incidentId:n,parcel:l}){let[o,d]=(0,s.useState)("minor"),[m,h]=(0,s.useState)([25]),[p,x]=(0,s.useState)([10]),[f,g]=(0,s.useState)(new Date().toISOString().split("T")[0]),[v,y]=(0,s.useState)(""),b=(0,ek.useSubmitSurvey)(),j=async()=>{try{await b.mutateAsync({incidentId:n,parcelId:l.affectedParcelId,survey:{damageLevel:o,improvementDamagePercent:m[0],landDamagePercent:p[0],surveyDate:f,notes:v}}),eI.toast.success("Damage survey submitted",{description:`Survey recorded for parcel ${l.apn}`}),i(!1)}catch(e){eI.toast.error("Failed to submit survey",{description:"Please try again"})}};return(0,t.jsx)(r.Dialog,{open:e,onOpenChange:i,children:(0,t.jsxs)(r.DialogContent,{className:"sm:max-w-lg",children:[(0,t.jsxs)(r.DialogHeader,{children:[(0,t.jsx)(r.DialogTitle,{children:"Damage Survey"}),(0,t.jsxs)(r.DialogDescription,{children:["Record damage assessment for parcel"," ",(0,t.jsx)("span",{className:"font-mono font-medium",children:l.apn})]})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Damage Level"}),(0,t.jsx)($,{value:o,onValueChange:d,children:eA.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 rounded-lg border p-3 cursor-pointer hover:bg-muted/50 transition-colors",children:[(0,t.jsx)(H,{value:e.value,id:e.value}),(0,t.jsxs)(c,{htmlFor:e.value,className:"flex-1 cursor-pointer",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Improvement Damage"}),(0,t.jsxs)("span",{className:"text-sm font-medium tabular-nums",children:[m[0],"%"]})]}),(0,t.jsx)(eC,{value:m,onValueChange:h,min:0,max:100,step:5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Land Damage"}),(0,t.jsxs)("span",{className:"text-sm font-medium tabular-nums",children:[p[0],"%"]})]}),(0,t.jsx)(eC,{value:p,onValueChange:x,min:0,max:100,step:5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Survey Date"}),(0,t.jsx)(eS.Input,{type:"date",value:f,onChange:e=>g(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c,{className:"text-sm font-medium",children:"Notes"}),(0,t.jsx)(u,{value:v,onChange:e=>y(e.target.value),placeholder:"Additional observations...",rows:3})]})]}),(0,t.jsxs)(r.DialogFooter,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,t.jsxs)(a.Button,{onClick:j,disabled:b.isPending,children:[b.isPending&&(0,t.jsx)(eD.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Submit Survey"]})]})]})})}e.s(["SurveyDialog",()=>eP],65241);var eM=e.i(48846),eE=e.i(94325);let eT=(0,eE.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var eF=e.i(36941);function eO({open:e,onOpenChange:i,incidentId:n,parcel:l}){let[o,d]=(0,s.useState)(null),c=(0,ek.useComputeReassessment)(),u=async()=>{try{let e=await c.mutateAsync({incidentId:n,parcelId:l.affectedParcelId});d(e),eI.toast.success("Reassessment computed",{description:`Value reduction of ${(0,eM.formatCurrency)(e.reductionAmount)} for parcel ${l.apn}`})}catch(e){eI.toast.error("Failed to compute reassessment",{description:"Please try again"})}};return(0,t.jsx)(r.Dialog,{open:e,onOpenChange:i,children:(0,t.jsxs)(r.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(r.DialogHeader,{children:[(0,t.jsx)(r.DialogTitle,{children:"Reassessment"}),(0,t.jsxs)(r.DialogDescription,{children:["Compute revised values for parcel"," ",(0,t.jsx)("span",{className:"font-mono font-medium",children:l.apn})]})]}),o?(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-success",children:[(0,t.jsx)(eF.CheckCircle,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Reassessment Complete"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Prior Value"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums",children:(0,eM.formatCurrency)(o.priorTotalValue)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Revised Value"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums text-primary",children:(0,eM.formatCurrency)(o.revisedTotalValue)})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Reduction"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(eT,{className:"h-3.5 w-3.5 text-destructive"}),(0,t.jsx)("p",{className:"text-sm font-semibold tabular-nums text-destructive",children:(0,eM.formatCurrency)(o.reductionAmount)})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Land"}),(0,t.jsxs)("span",{children:[(0,eM.formatCurrency)(o.priorLandValue)," → ",(0,eM.formatCurrency)(o.revisedLandValue)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Improvements"}),(0,t.jsxs)("span",{children:[(0,eM.formatCurrency)(o.priorImprovementValue)," → ",(0,eM.formatCurrency)(o.revisedImprovementValue)]})]})]})]}):(0,t.jsx)("div",{className:"py-6 text-center",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This will compute revised property values based on the recorded damage survey data. The computation uses standard calamity reassessment formulas."})}),(0,t.jsx)(r.DialogFooter,{children:o?(0,t.jsx)(a.Button,{onClick:()=>i(!1),children:"Done"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,t.jsxs)(a.Button,{onClick:u,disabled:c.isPending,children:[c.isPending&&(0,t.jsx)(eD.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Compute Reassessment"]})]})})]})})}e.s(["ReassessmentDialog",()=>eO],12618);let eQ=(0,eE.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);e.s(["Calculator",()=>eQ],1057)},28583,e=>{"use strict";var t=e.i(59834),s=e.i(42656),r=e.i(84707),a=e.i(52815),i=e.i(17896);function n({value:e,duration:r=500,formatFn:a=e=>e.toLocaleString(),className:i}){let[n,l]=(0,s.useState)(0),o=(0,s.useRef)(0),d=(0,s.useRef)(null),c=(0,s.useRef)(null);return(0,s.useEffect)(()=>{o.current=n,d.current=null;let t=s=>{d.current||(d.current=s);let a=Math.min((s-d.current)/r,1),i=1-Math.pow(1-a,3);l(Math.round(o.current+(e-o.current)*i)),a<1&&(c.current=requestAnimationFrame(t))};return c.current=requestAnimationFrame(t),()=>{c.current&&cancelAnimationFrame(c.current)}},[e,r]),(0,t.jsx)("span",{className:i,children:a(n)})}var l=e.i(17871),o=e.i(37243),d=e.i(65241),c=e.i(12618),u=e.i(25305),m=e.i(12061),h=e.i(48846),p=e.i(63219),x=e.i(39086),f=e.i(20828),g=e.i(46472),v=e.i(69833),y=e.i(40828),b=e.i(74182),j=e.i(1057),N=e.i(38104),w=e.i(54004),R=e.i(97468),C=e.i(68363),S=e.i(77393),k=e.i(59537),I=e.i(71809),D=e.i(91642),A=e.i(42650),P=e.i(33217),M=e.i(44261),E=e.i(79001),T=e.i(71908);function F(){let e=(0,A.useRouter)(),{user:F}=(0,p.useAuth)(),{role:O}=(0,x.useRole)(),{data:Q,isLoading:L}=(0,u.useParcels)({page:1,pageSize:50}),{data:B,isLoading:q}=(0,m.useIncidents)(),[z,_]=(0,s.useState)(null),[K,V]=(0,s.useState)(null),U=B?.filter(e=>"active"===e.status)||[],$=B?.filter(e=>"monitoring"===e.status)||[],H=U[0]||null,{data:W}=(0,m.useAffectedParcels)({incidentId:H?.incidentId,pageSize:50}),G=$[0]||null,{data:X}=(0,m.useAffectedParcels)({incidentId:G?.incidentId,pageSize:50}),Y=[...W?.data||[],...X?.data||[]],J=Y.filter(e=>"pending"===e.surveyStatus||"in_progress"===e.surveyStatus).length,Z=Y.filter(e=>"completed"===e.surveyStatus&&("pending"===e.reassessmentStatus||"not_started"===e.reassessmentStatus)).length,ee=Q?.pagination?.totalCount||0,et=Q?.data||[],es=et.reduce((e,t)=>{var s;let r=(s=t.useCode).startsWith("01")||s.startsWith("02")?"Residential":s.startsWith("21")||s.startsWith("22")?"Agricultural":"Commercial";return e[r]=(e[r]||0)+(t.assessedValue||0),e},{}),er=Object.values(es).reduce((e,t)=>e+t,0),ea=Y.reduce((e,t)=>{let s=t.damageLevel||"pending";return e[s]=(e[s]||0)+1,e},{}),ei=[{level:"destroyed",count:ea.destroyed||0,color:"#c4291c"},{level:"major",count:ea.major||0,color:"#d97706"},{level:"minor",count:ea.minor||0,color:"#ca8a04"},{level:"affected",count:ea.affected||0,color:"#2563eb"},{level:"none",count:ea.none||0,color:"#16a34a"},{level:"pending",count:ea.pending||0,color:"#9ca3af"}],en={destroyed:0,major:1,minor:2,affected:3,none:4},el=Y.filter(e=>"pending"===e.surveyStatus||"in_progress"===e.surveyStatus||"completed"===e.surveyStatus&&("pending"===e.reassessmentStatus||"not_started"===e.reassessmentStatus)).sort((e,t)=>(e.damageLevel?en[e.damageLevel]??5:6)-(t.damageLevel?en[t.damageLevel]??5:6)).slice(0,6),eo=F?.assignedParcelIds||[],ed=et.filter(e=>eo.includes(e.parcelId)),ec=Y.filter(e=>eo.includes(e.parcelId)),eu=ec.filter(e=>"pending"===e.surveyStatus||"in_progress"===e.surveyStatus),em=ec.filter(e=>"completed"===e.surveyStatus&&("pending"===e.reassessmentStatus||"not_started"===e.reassessmentStatus)),eh=ec.filter(e=>"completed"===e.surveyStatus);return"appraiser"===O?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-semibold tracking-tight",children:["Good ",12>new Date().getHours()?"morning":17>new Date().getHours()?"afternoon":"evening",", ",F?.name?.split(" ")[0]||"Appraiser"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Here's your work queue for today"})]}),!q&&U.length>0&&(0,t.jsx)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/5 p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-destructive/15 text-destructive",children:(0,t.jsx)(b.AlertTriangle,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-destructive",children:["Active Calamity — ",U[0]?.name]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You have ",eu.length," survey",1!==eu.length?"s":""," assigned"]})]}),(0,t.jsx)(P.default,{href:"/calamity",className:"shrink-0",children:(0,t.jsx)(M.Button,{variant:"outline",size:"sm",className:"h-7 text-xs border-destructive/30 text-destructive hover:bg-destructive/10",children:"View details"})})]})}),(0,t.jsxs)("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(r.KpiCard,{title:"My Parcels",value:L?"...":(0,t.jsx)(n,{value:ed.length,formatFn:h.formatNumber}),icon:f.Map,isLoading:L,href:"/parcels"}),(0,t.jsx)(r.KpiCard,{title:"Pending Surveys",value:q?"...":(0,t.jsx)(n,{value:eu.length,formatFn:h.formatNumber}),icon:v.FileSearch,isLoading:q,href:"/calamity"}),(0,t.jsx)(r.KpiCard,{title:"Pending Reassessments",value:q?"...":(0,t.jsx)(n,{value:em.length,formatFn:h.formatNumber}),icon:j.Calculator,isLoading:q,href:"/calamity"}),(0,t.jsx)(r.KpiCard,{title:"Completed",value:q?"...":(0,t.jsx)(n,{value:eh.length,formatFn:h.formatNumber}),icon:S.CheckCircle2,isLoading:q})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center justify-between p-5 pb-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.ClipboardList,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("h2",{className:"text-base font-semibold",children:"My Work Queue"}),eu.length+em.length>0&&(0,t.jsxs)(T.Badge,{variant:"secondary",className:"text-[10px]",children:[eu.length+em.length," pending"]})]})}),(0,t.jsx)("div",{className:"p-5 pt-3",children:q?(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-9 w-9 rounded-lg bg-muted animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-1.5",children:[(0,t.jsx)("div",{className:"h-3.5 w-[180px] rounded bg-muted animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-[120px] rounded bg-muted animate-pulse"})]})]},s))}):eu.length+em.length===0?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 mx-auto items-center justify-center rounded-full bg-success/10 text-success mb-3",children:(0,t.jsx)(S.CheckCircle2,{className:"h-5 w-5"})}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"All caught up!"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"No pending surveys or reassessments in your queue"})]}):(0,t.jsxs)("div",{className:"space-y-1.5",children:[eu.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg px-3 py-2.5 transition-colors border-l-[3px] border-l-warning/70 bg-warning/[0.03] hover:bg-warning/[0.06]",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-background border",children:(0,t.jsx)(v.FileSearch,{className:"h-4 w-4 text-warning"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.default,{href:`/parcels/${e.parcelId}`,className:"text-sm font-medium font-mono hover:text-primary transition-colors",children:(0,h.formatApn)(e.apn)}),e.damageLevel&&(0,t.jsx)(a.DamageBadge,{level:e.damageLevel}),(0,t.jsx)(T.Badge,{variant:"outline",className:"text-[10px] text-warning border-warning/30",children:"Survey needed"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.primaryAddress||"—"})]}),(0,t.jsxs)(M.Button,{variant:"outline",size:"sm",className:"h-7 text-xs shrink-0",onClick:()=>_({incidentId:e.incidentId,parcel:e}),children:[(0,t.jsx)(v.FileSearch,{className:"h-3 w-3 mr-1"}),"Survey"]})]},e.affectedParcelId)),em.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg px-3 py-2.5 transition-colors border-l-[3px] border-l-info/70 bg-info/[0.03] hover:bg-info/[0.06]",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-background border",children:(0,t.jsx)(j.Calculator,{className:"h-4 w-4 text-info"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.default,{href:`/parcels/${e.parcelId}`,className:"text-sm font-medium font-mono hover:text-primary transition-colors",children:(0,h.formatApn)(e.apn)}),e.damageLevel&&(0,t.jsx)(a.DamageBadge,{level:e.damageLevel}),(0,t.jsx)(T.Badge,{variant:"outline",className:"text-[10px] text-info border-info/30",children:"Reassess"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.primaryAddress||"—"})]}),(0,t.jsxs)(M.Button,{variant:"outline",size:"sm",className:"h-7 text-xs shrink-0",onClick:()=>V({incidentId:e.incidentId,parcel:e}),children:[(0,t.jsx)(j.Calculator,{className:"h-3 w-3 mr-1"}),"Reassess"]})]},e.affectedParcelId))]})})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 pb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold",children:"My Assigned Parcels"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:[ed.length," parcel",1!==ed.length?"s":""," in your portfolio"]})]}),(0,t.jsxs)(P.default,{href:"/parcels",className:"text-xs text-primary hover:text-primary/80 font-medium flex items-center gap-1",children:["View all",(0,t.jsx)(y.ArrowRight,{className:"h-3 w-3"})]})]}),(0,t.jsx)("div",{className:"p-5 pt-3",children:L?(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-9 w-9 rounded-lg bg-muted animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-1.5",children:[(0,t.jsx)("div",{className:"h-3.5 w-[200px] rounded bg-muted animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-[120px] rounded bg-muted animate-pulse"})]})]},s))}):0===ed.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No parcels assigned"})}):(0,t.jsx)("div",{className:"space-y-1",children:ed.map(s=>(0,t.jsxs)("button",{onClick:()=>e.push(`/parcels/${s.parcelId}`),className:"w-full flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-muted/50 transition-colors text-left",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary",children:(0,t.jsx)(f.Map,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium font-mono",children:(0,h.formatApn)(s.apn)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:s.primaryAddress||s.useDescription})]}),(0,t.jsx)("span",{className:"text-sm font-medium tabular-nums text-muted-foreground",children:(0,h.formatCurrency)(s.assessedValue)})]},s.parcelId))})})]}),z&&(0,t.jsx)(d.SurveyDialog,{open:!!z,onOpenChange:e=>!e&&_(null),incidentId:z.incidentId,parcel:z.parcel}),K&&(0,t.jsx)(c.ReassessmentDialog,{open:!!K,onOpenChange:e=>!e&&V(null),incidentId:K.incidentId,parcel:K.parcel})]}):"executive"===O?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Executive Overview"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Madera County Assessor's Office — ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]}),!q&&U.length>0&&(0,t.jsx)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/5 p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-destructive/15 text-destructive",children:(0,t.jsx)(b.AlertTriangle,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-destructive",children:"Active Calamity"}),U.map(e=>(0,t.jsxs)("p",{className:"text-sm mt-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[" ","— ",e.affectedParcelCount," parcels affected"]})]},e.incidentId))]}),(0,t.jsx)(P.default,{href:"/reports/calamity-impact",children:(0,t.jsxs)(M.Button,{variant:"outline",size:"sm",className:"h-7 text-xs border-destructive/30 text-destructive hover:bg-destructive/10",children:[(0,t.jsx)(R.FileBarChart,{className:"h-3 w-3 mr-1"}),"Impact Report"]})})]})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(r.KpiCard,{title:"Total Parcels",value:L?"...":(0,t.jsx)(n,{value:ee,formatFn:h.formatNumber}),icon:f.Map,isLoading:L}),(0,t.jsx)(r.KpiCard,{title:"Total Assessed Value",value:L?"...":(0,t.jsx)(n,{value:er,formatFn:h.formatCurrency}),icon:N.DollarSign,isLoading:L}),(0,t.jsx)(r.KpiCard,{title:"Active Incidents",value:q?"...":(0,t.jsx)(n,{value:U.length,formatFn:h.formatNumber}),icon:g.Flame,isLoading:q}),(0,t.jsx)(r.KpiCard,{title:"Affected Parcels",value:q?"...":(0,t.jsx)(n,{value:Y.length,formatFn:h.formatNumber}),icon:b.AlertTriangle,isLoading:q})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsx)(E.Card,{className:"shadow-sm",children:(0,t.jsxs)(E.CardContent,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground mb-4",children:[(0,t.jsx)(k.TrendingUp,{className:"h-4 w-4"}),"Assessed Value by Property Type"]}),!L&&er>0?(0,t.jsx)(o.ValueBreakdownBar,{total:er,segments:[{label:"Residential",value:es.Residential||0,color:"#2563eb"},{label:"Agricultural",value:es.Agricultural||0,color:"#16a34a"},{label:"Commercial",value:es.Commercial||0,color:"#d97706"}]}):(0,t.jsx)("div",{className:"h-20 flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-6 w-full rounded bg-muted animate-pulse"})})]})}),Y.length>0&&(0,t.jsx)(E.Card,{className:"shadow-sm",children:(0,t.jsxs)(E.CardContent,{className:"p-5",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Calamity Damage Assessment"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"All incidents combined"}),(0,t.jsx)(l.DamageDonutChart,{data:ei,total:Y.length}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-x-2 gap-y-1.5 mt-3",children:ei.filter(e=>e.count>0).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"inline-block h-2 w-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground capitalize truncate",children:"pending"===e.level?"Pending":e.level}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:e.count})]},e.level))})]})})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 pb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(R.FileBarChart,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Reports"})]}),(0,t.jsxs)(P.default,{href:"/reports",className:"text-xs text-primary hover:text-primary/80 font-medium flex items-center gap-1",children:["All reports",(0,t.jsx)(y.ArrowRight,{className:"h-3 w-3"})]})]}),(0,t.jsxs)("div",{className:"grid gap-3 p-5 pt-3 sm:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(P.default,{href:"/reports/calamity-impact",className:"rounded-lg border p-4 hover:bg-muted/50 transition-colors group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-destructive/10 text-destructive",children:(0,t.jsx)(g.Flame,{className:"h-4 w-4"})}),(0,t.jsx)("h3",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Calamity Impact"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Board of Supervisors briefing on calamity response and property value impact"}),(0,t.jsxs)("div",{className:"flex gap-1.5 mt-2",children:[(0,t.jsx)(T.Badge,{variant:"secondary",className:"text-[10px]",children:"Board"}),(0,t.jsx)(T.Badge,{variant:"secondary",className:"text-[10px]",children:"BOE"})]})]}),(0,t.jsxs)(P.default,{href:"/reports/roll-summary",className:"rounded-lg border p-4 hover:bg-muted/50 transition-colors group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-info/10 text-info",children:(0,t.jsx)(I.BarChart3,{className:"h-4 w-4"})}),(0,t.jsx)("h3",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Assessment Roll"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Auditor-Controller roll summary with property type breakdown"}),(0,t.jsx)("div",{className:"flex gap-1.5 mt-2",children:(0,t.jsx)(T.Badge,{variant:"secondary",className:"text-[10px]",children:"Auditor"})})]}),(0,t.jsxs)(P.default,{href:"/reports/staff-workload",className:"rounded-lg border p-4 hover:bg-muted/50 transition-colors group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-warning/10 text-warning",children:(0,t.jsx)(D.Users,{className:"h-4 w-4"})}),(0,t.jsx)("h3",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Staff Workload"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Supervisor overview of pending surveys and reassessment queue"}),(0,t.jsx)("div",{className:"flex gap-1.5 mt-2",children:(0,t.jsx)(T.Badge,{variant:"secondary",className:"text-[10px]",children:"Internal"})})]})]})]}),(0,t.jsx)(E.Card,{className:"shadow-sm border-primary/20 bg-gradient-to-r from-primary/[0.03] to-transparent",children:(0,t.jsx)(E.CardContent,{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",children:(0,t.jsx)(C.Bot,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold",children:"CalProp AI Agents"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automate damage classification, comp sales analysis, and BOE appeal drafting"})]})]}),(0,t.jsx)(P.default,{href:"/ai-agents",children:(0,t.jsxs)(M.Button,{variant:"outline",size:"sm",className:"h-8 text-xs",children:["View agents",(0,t.jsx)(y.ArrowRight,{className:"h-3 w-3 ml-1"})]})})]})})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Madera County Assessor's Office"})]}),!q&&U.length>0&&(0,t.jsx)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/5 p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-destructive/15 text-destructive",children:(0,t.jsx)(b.AlertTriangle,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-destructive",children:"Active Calamity"}),(0,t.jsxs)(T.Badge,{variant:"outline",className:"text-[10px] border-destructive/30 text-destructive",children:[U.length," active"]})]}),U.map(e=>(0,t.jsxs)(P.default,{href:`/calamity/incidents/${e.incidentId}`,className:"group block mt-1.5",children:[(0,t.jsxs)("p",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:[e.name,(0,t.jsxs)("span",{className:"text-muted-foreground font-normal",children:[" ","— ",e.affectedParcelCount," parcels affected"]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:e.description})]},e.incidentId))]}),(0,t.jsxs)(P.default,{href:"/calamity",className:"shrink-0 text-xs text-destructive hover:text-destructive/80 font-medium flex items-center gap-1 mt-0.5",children:["View all",(0,t.jsx)(y.ArrowRight,{className:"h-3 w-3"})]})]})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(r.KpiCard,{title:"Total Parcels",value:L?"...":(0,t.jsx)(n,{value:ee,formatFn:h.formatNumber}),icon:f.Map,isLoading:L,href:"/parcels"}),(0,t.jsx)(r.KpiCard,{title:"Assessed Value",value:L?"...":(0,t.jsx)(n,{value:er,formatFn:h.formatCurrency}),icon:N.DollarSign,isLoading:L,href:"/parcels"}),(0,t.jsx)(r.KpiCard,{title:"Pending Surveys",value:q?"...":(0,t.jsx)(n,{value:J,formatFn:h.formatNumber}),icon:v.FileSearch,isLoading:q,href:"/calamity"}),(0,t.jsx)(r.KpiCard,{title:"Pending Reassessments",value:q?"...":(0,t.jsx)(n,{value:Z,formatFn:h.formatNumber}),icon:j.Calculator,isLoading:q,href:"/calamity"})]}),!L&&er>0&&(0,t.jsx)(E.Card,{className:"shadow-sm",children:(0,t.jsxs)(E.CardContent,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground mb-4",children:[(0,t.jsx)(N.DollarSign,{className:"h-4 w-4"}),"Assessed Value by Property Type"]}),(0,t.jsx)(o.ValueBreakdownBar,{total:er,segments:[{label:"Residential",value:es.Residential||0,color:"#2563eb"},{label:"Agricultural",value:es.Agricultural||0,color:"#16a34a"},{label:"Commercial",value:es.Commercial||0,color:"#d97706"}]})]})}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-5",children:[(0,t.jsxs)("div",{className:"lg:col-span-3 rounded-xl border bg-card shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 pb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Needs Attention"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Parcels requiring survey or reassessment action"})]}),(0,t.jsxs)(P.default,{href:"/calamity",className:"text-xs text-primary hover:text-primary/80 font-medium flex items-center gap-1",children:["View all",(0,t.jsx)(y.ArrowRight,{className:"h-3 w-3"})]})]}),(0,t.jsx)("div",{className:"p-5 pt-3",children:q?(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:4}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-9 w-9 rounded-lg bg-muted animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-1.5",children:[(0,t.jsx)("div",{className:"h-3.5 w-[180px] rounded bg-muted animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-[120px] rounded bg-muted animate-pulse"})]})]},s))}):0===el.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 mx-auto items-center justify-center rounded-full bg-success/10 text-success mb-3",children:(0,t.jsx)(v.FileSearch,{className:"h-5 w-5"})}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"All caught up"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"No parcels need immediate attention"})]}):(0,t.jsx)("div",{className:"space-y-1.5",children:el.map(e=>{let s="pending"===e.surveyStatus||"in_progress"===e.surveyStatus;return(0,t.jsxs)("div",{className:`flex items-center gap-3 rounded-lg px-3 py-2.5 transition-colors border-l-[3px] ${s?"border-l-warning/70 bg-warning/[0.03] hover:bg-warning/[0.06]":"border-l-info/70 bg-info/[0.03] hover:bg-info/[0.06]"}`,children:[(0,t.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-background border",children:s?(0,t.jsx)(v.FileSearch,{className:"h-4 w-4 text-warning"}):(0,t.jsx)(j.Calculator,{className:"h-4 w-4 text-info"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.default,{href:`/parcels/${e.parcelId}`,className:"text-sm font-medium font-mono hover:text-primary transition-colors",children:(0,h.formatApn)(e.apn)}),e.damageLevel&&(0,t.jsx)(a.DamageBadge,{level:e.damageLevel})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.primaryAddress||"—"})]}),s?(0,t.jsxs)(M.Button,{variant:"outline",size:"sm",className:"h-7 text-xs shrink-0",onClick:()=>_({incidentId:e.incidentId,parcel:e}),children:[(0,t.jsx)(v.FileSearch,{className:"h-3 w-3 mr-1"}),"Survey"]}):(0,t.jsxs)(M.Button,{variant:"outline",size:"sm",className:"h-7 text-xs shrink-0",onClick:()=>V({incidentId:e.incidentId,parcel:e}),children:[(0,t.jsx)(j.Calculator,{className:"h-3 w-3 mr-1"}),"Reassess"]})]},e.affectedParcelId)})})})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[Y.length>0&&(0,t.jsx)(E.Card,{className:"shadow-sm",children:(0,t.jsxs)(E.CardContent,{className:"p-5",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Damage Assessment"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"All incidents combined"}),(0,t.jsx)(l.DamageDonutChart,{data:ei,total:Y.length}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-x-2 gap-y-1.5 mt-3",children:ei.filter(e=>e.count>0).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"inline-block h-2 w-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground capitalize truncate",children:"pending"===e.level?"Pending":e.level}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:e.count})]},e.level))})]})}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 pb-2",children:[(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Incidents"}),(0,t.jsxs)(P.default,{href:"/calamity",className:"text-xs text-primary hover:text-primary/80 font-medium flex items-center gap-1",children:["View all",(0,t.jsx)(y.ArrowRight,{className:"h-3 w-3"})]})]}),(0,t.jsx)("div",{className:"p-5 pt-3",children:q?(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:2}).map((e,s)=>(0,t.jsx)("div",{className:"h-16 rounded-lg bg-muted animate-pulse"},s))}):B&&0!==B.length?(0,t.jsx)("div",{className:"space-y-2",children:B.map(e=>(0,t.jsxs)(P.default,{href:`/calamity/incidents/${e.incidentId}`,className:"block rounded-lg border p-3 hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)(g.Flame,{className:"h-3.5 w-3.5 text-destructive shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-medium truncate",children:e.name})]}),(0,t.jsx)(i.StatusBadge,{status:e.status})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:[e.affectedParcelCount," parcels"]}),(0,t.jsx)("span",{className:"capitalize",children:e.incidentType})]})]},e.incidentId))}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-6",children:"No incidents reported"})})]})]})]}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 pb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Recent Parcels"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Latest parcel activity"})]}),(0,t.jsxs)(P.default,{href:"/parcels",className:"text-xs text-primary hover:text-primary/80 font-medium flex items-center gap-1",children:["View all",(0,t.jsx)(y.ArrowRight,{className:"h-3 w-3"})]})]}),(0,t.jsx)("div",{className:"p-5 pt-3",children:L?(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:5}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-9 w-9 rounded-lg bg-muted animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-1.5",children:[(0,t.jsx)("div",{className:"h-3.5 w-[200px] rounded bg-muted animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-[120px] rounded bg-muted animate-pulse"})]}),(0,t.jsx)("div",{className:"h-3 w-[80px] rounded bg-muted animate-pulse"})]},s))}):0===et.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No parcels found"}):(0,t.jsx)("div",{className:"space-y-1",children:et.slice(0,5).map(s=>(0,t.jsxs)("button",{onClick:()=>e.push(`/parcels/${s.parcelId}`),className:"w-full flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-muted/50 transition-colors text-left",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary",children:(0,t.jsx)(f.Map,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium font-mono",children:(0,h.formatApn)(s.apn)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:s.primaryAddress||s.useDescription})]}),(0,t.jsx)("span",{className:"text-sm font-medium tabular-nums text-muted-foreground",children:(0,h.formatCurrency)(s.assessedValue)})]},s.parcelId))})})]}),z&&(0,t.jsx)(d.SurveyDialog,{open:!!z,onOpenChange:e=>!e&&_(null),incidentId:z.incidentId,parcel:z.parcel}),K&&(0,t.jsx)(c.ReassessmentDialog,{open:!!K,onOpenChange:e=>!e&&V(null),incidentId:K.incidentId,parcel:K.parcel})]})}e.s(["default",()=>F],28583)}]);