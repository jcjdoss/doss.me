(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71908,e=>{"use strict";var s=e.i(59834),t=e.i(79448),a=e.i(78961),r=e.i(22513);let i=(0,t.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t="default",asChild:d=!1,...n}){let l=d?a.Slot.Root:"span";return(0,s.jsx)(l,{"data-slot":"badge","data-variant":t,className:(0,r.cn)(i({variant:t}),e),...n})}e.s(["Badge",()=>d])},79001,e=>{"use strict";var s=e.i(59834),t=e.i(22513);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function d({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>d,"CardHeader",()=>r,"CardTitle",()=>i])},93749,e=>{"use strict";var s=e.i(59834),t=e.i(80612),a=e.i(22513);function r({className:e}){return(0,s.jsxs)("div",{className:(0,a.cn)("rounded-xl border bg-card p-6 shadow-sm space-y-4",e),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t.Skeleton,{className:"h-4 w-4 rounded"}),(0,s.jsx)(t.Skeleton,{className:"h-4 w-24"})]}),(0,s.jsx)(t.Skeleton,{className:"h-8 w-20"}),(0,s.jsx)(t.Skeleton,{className:"h-3 w-32"})]})}function i({className:e}){return(0,s.jsxs)("div",{className:(0,a.cn)("space-y-6",e),children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(t.Skeleton,{className:"h-8 w-64"}),(0,s.jsx)(t.Skeleton,{className:"h-4 w-40"})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(r,{}),(0,s.jsx)(r,{})]})]})}e.s(["CardSkeleton",()=>r,"DetailSkeleton",()=>i])},43970,e=>{"use strict";let s=(0,e.i(94325).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],43970)},83685,e=>{"use strict";let s=(0,e.i(94325).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],83685)},11553,e=>{"use strict";let s=(0,e.i(94325).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>s],11553)},93608,e=>{"use strict";var s=e.i(42828),t=e.i(85398);function a(){return(0,s.useQuery)({queryKey:["policies"],queryFn:()=>(0,t.apiFetch)("/v1/policies")})}function r(e){return(0,s.useQuery)({queryKey:["policy",e],queryFn:()=>(0,t.apiFetch)(`/v1/policies/${e}`),enabled:!!e})}e.s(["usePolicies",()=>a,"usePolicy",()=>r])},11753,e=>{"use strict";var s=e.i(59834),t=e.i(42650),a=e.i(93608),r=e.i(79001),i=e.i(71908),d=e.i(44261),n=e.i(93749),l=e.i(43970),c=e.i(83685);let o=(0,e.i(94325).default)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);var x=e.i(73812),u=e.i(11553),m=e.i(22513),h=e.i(48846),f=e.i(33217);function g(){let e=(0,t.useParams)().id,{data:g,isLoading:p,error:j}=(0,a.usePolicy)(e);if(p)return(0,s.jsx)(n.DetailSkeleton,{});if(j||!g)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(c.AlertCircle,{className:"h-8 w-8 text-destructive mb-4"}),(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Policy not found"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"The requested policy could not be loaded."})]});let v=null,N=null;try{v=g.conditionJson?JSON.parse(g.conditionJson):null}catch{}try{N=g.actionsJson?JSON.parse(g.actionsJson):null}catch{}return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(f.default,{href:"/policies",children:(0,s.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"text-muted-foreground -ml-2",children:[(0,s.jsx)(l.ArrowLeft,{className:"h-4 w-4 mr-1"}),"Policies"]})}),(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,m.cn)("h-3 w-3 rounded-full shrink-0",g.isEnabled?"bg-primary":"bg-muted-foreground/30")}),(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:g.name})]}),g.description&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1.5 ml-6",children:g.description})]}),(0,s.jsxs)(i.Badge,{variant:"outline",className:"text-xs shrink-0",children:["Priority: ",g.priority]})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(r.Card,{className:"shadow-sm",children:[(0,s.jsx)(r.CardHeader,{className:"pb-3",children:(0,s.jsxs)(r.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,s.jsx)(u.Info,{className:"h-4 w-4 text-muted-foreground"}),"Details"]})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("dl",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-muted-foreground",children:"Status"}),(0,s.jsx)("dd",{children:(0,s.jsx)(i.Badge,{variant:g.isEnabled?"default":"secondary",className:"text-xs",children:g.isEnabled?"Enabled":"Disabled"})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-muted-foreground",children:"Type"}),(0,s.jsx)("dd",{className:"font-medium capitalize",children:g.policyType?.replace(/_/g," ")||"—"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-muted-foreground",children:"Created"}),(0,s.jsx)("dd",{className:"font-medium",children:g.createdAt?(0,h.formatDate)(g.createdAt):"—"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-muted-foreground",children:"Updated"}),(0,s.jsx)("dd",{className:"font-medium",children:g.updatedAt?(0,h.formatDate)(g.updatedAt):"—"})]}),g.tags&&g.tags.length>0&&(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsx)("dt",{className:"text-muted-foreground mb-2",children:"Tags"}),(0,s.jsx)("dd",{className:"flex flex-wrap gap-1.5",children:g.tags.map(e=>(0,s.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:e},e))})]})]})})]}),(0,s.jsxs)(r.Card,{className:"shadow-sm",children:[(0,s.jsx)(r.CardHeader,{className:"pb-3",children:(0,s.jsxs)(r.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,s.jsx)(o,{className:"h-4 w-4 text-muted-foreground"}),"Conditions"]})}),(0,s.jsx)(r.CardContent,{children:v?(0,s.jsx)("pre",{className:"text-xs bg-muted rounded-lg p-4 overflow-x-auto font-mono max-h-[300px]",children:JSON.stringify(v,null,2)}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No conditions defined"})})]}),(0,s.jsxs)(r.Card,{className:"shadow-sm md:col-span-2",children:[(0,s.jsx)(r.CardHeader,{className:"pb-3",children:(0,s.jsxs)(r.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,s.jsx)(x.Zap,{className:"h-4 w-4 text-muted-foreground"}),"Actions"]})}),(0,s.jsx)(r.CardContent,{children:N?(0,s.jsx)("pre",{className:"text-xs bg-muted rounded-lg p-4 overflow-x-auto font-mono max-h-[300px]",children:JSON.stringify(N,null,2)}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No actions defined"})})]})]})]})}e.s(["default",()=>g],11753)}]);